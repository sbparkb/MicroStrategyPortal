mstrSubtotalsObjImplScript=true;mstrSubtotalsObjImpl.prototype=new Object();mstrSubtotalsObjImpl.prototype.description="";mstrSubtotalsObjImpl.prototype.index=0;mstrSubtotalsObjImpl.prototype.axisStyles=new Array();mstrSubtotalsObjImpl.prototype.selectedUnits=new Array();mstrSubtotalsObjImpl.prototype.isChanged=false;mstrSubtotalsObjImpl.prototype.undefinedState=false;mstrSubtotalsObjImpl.SUBTOTAL_STATE_IN_ACTIVE=0;mstrSubtotalsObjImpl.SUBTOTAL_STATE_BY_POSITION=1;mstrSubtotalsObjImpl.SUBTOTAL_STATE_ACROSS_LEVEL=2;mstrSubtotalsObjImpl.SUBTOTAL_STATE_UNDEFINED=3;mstrSubtotalsObjImpl.SUBTOTAL_STYLE_NONE=1;mstrSubtotalsObjImpl.SUBTOTAL_STYLE_GRANDTOTAL=2;mstrSubtotalsObjImpl.SUBTOTAL_STYLE_OUTLINE=3;mstrSubtotalsObjImpl.SUBTOTAL_STYLE_CUBE=4;mstrSubtotalsObjImpl.UNIT_PROPERTY_SEPARATOR=",";mstrSubtotalsObjImpl.SUBTOTAL_UNIT_SEPARATOR=";";mstrSubtotalsObjImpl.SUBTOTAL_POSITION_FIRST=2;mstrSubtotalsObjImpl.SUBTOTAL_POSITION_LAST=3;mstrSubtotalsObjImpl.prototype.getState=function(){var state;if(this.axisStyles!=null&&mstr.utils.Hash.len(this.axisStyles)>0){state=mstrSubtotalsObjImpl.SUBTOTAL_STATE_BY_POSITION;}else{if(this.selectedUnits!=null&&mstr.utils.Hash.len(this.selectedUnits)>0){state=mstrSubtotalsObjImpl.SUBTOTAL_STATE_ACROSS_LEVEL;}else{if(this.undefinedState!=null&&this.undefinedState==true){state=mstrSubtotalsObjImpl.SUBTOTAL_STATE_UNDEFINED;}else{state=mstrSubtotalsObjImpl.SUBTOTAL_STATE_IN_ACTIVE;}}}return state;};mstrSubtotalsObjImpl.prototype.getStyleByAxis=function(axis){if(this.getState()!=mstrSubtotalsObjImpl.SUBTOTAL_STATE_BY_POSITION){return mstrSubtotalsObjImpl.SUBTOTAL_STYLE_NONE;}return this.axisStyles[axis];};mstrSubtotalsObjImpl.prototype.isUnitSelected=function(unitId){if(this.getState()!=mstrSubtotalsObjImpl.SUBTOTAL_STATE_ACROSS_LEVEL){return false;}return(this.selectedUnits[unitId]!=null);};mstrSubtotalsObjImpl.prototype.toString=function(){return(this.index+", "+this.description);};mstrSubtotalsObjImpl.prototype.setStyleByAxis=function(axis,style){if(this.axisStyles==null){this.axisStyles=new Array();}this.axisStyles[axis]=style;this.isChanged=true;};mstrSubtotalsObjImpl.prototype.setSelectedUnit=function(oid,otype){if(this.selectedUnits==null){this.selectedUnits=new Array();}this.selectedUnits[oid]=otype;this.isChanged=true;};mstrSubtotalsObjImpl.prototype.removeSelectedUnit=function(oid){if(this.selectedUnits==null){this.selectedUnits=new Array();}this.selectedUnits[oid]=null;delete this.selectedUnits[oid];this.isChanged=true;};mstrSubtotalsObjImpl.prototype.clear=function(){this.axisStyles=new Array();this.selectedUnits=new Array();};mstrSubtotalsObjImpl.prototype.getSelectedUnitsAsString=function(){var _result="";for(var i in this.selectedUnits){if(this.selectedUnits[i]!=null){_result+=this.selectedUnits[i]+mstrSubtotalsObjImpl.UNIT_PROPERTY_SEPARATOR+i+mstrSubtotalsObjImpl.SUBTOTAL_UNIT_SEPARATOR;}}return _result;};function mstrSubtotalsObjImpl(index,description,axisStyles,selectedUnits,undefinedState){this.index=index;this.description=description;this.axisStyles=mstr.utils.Hash.clone(axisStyles);this.selectedUnits=mstr.utils.Hash.clone(selectedUnits);this.undefinedState=undefinedState;this.isChanged=false;return this;}mstrSubtotalsObjImpl.initSubtotalsArray=function(sharedObj){var subtotals=sharedObj.subtotals;for(var index in subtotals){var tempV=subtotals[index];var subObj=new mstrSubtotalsObjImpl(tempV.index,tempV.desc,tempV.axisStyles,tempV.selectedUnits,tempV.undefinedState);subtotals[index]=subObj;}sharedObj.initialized=true;};