mstrGraphOptionTabImplScript=true;mstrGraphOptionTabImpl.prototype=new mstrTabImpl();mstrGraphOptionTabImpl.prototype.initializing=false;mstrGraphOptionTabImpl.prototype.gaugeStyleElem=null;mstrGraphOptionTabImpl.prototype.onload=function(){try{this.initializing=true;this.initEditor();this.initializing=false;}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.onpostload=function(){try{mstrBoneImpl.prototype.onpostload.call(this);this.initializing=true;this.initSettings();this.enableTab();this.onpostswitch();this.initializing=false;}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.onpostswitch=function(){try{this.initScroller("gaugeBorderThick");this.initScroller("gaugeRangeThick");this.initScroller("gaugeStartAngle");this.initScroller("gaugeStopAngle");}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.initSettings=function(){try{this.major=this.getAppliesTo().commands.queryState("major");this.settings=new Array();var props=new Array("gaugeStyle","gaugeNeedleStyle","gaugeBorderStyle","gaugeBorderThick0","gaugeRangeThick0","gaugeStartAngle0","gaugeStopAngle0");for(var i=0;i<props.length;i++){var elem=document.getElementById(this.id+props[i]);if(elem){this.settings.push(elem);}if(props[i]=="gaugeStyle"){this.gaugeStyleElem=elem;}}this.enableOptionsBasedOnGaugeType();return true;}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.initScroller=function(scrollerId){try{var scroller=microstrategy.bone(this.id+scrollerId);var input=document.getElementById(this.id+scrollerId+"0");if(scroller&&input){scroller.targetBone=this.id;scroller.cmdid=scrollerId;var value=input.getAttribute(microstrategy.HTMLATTR_CMD_VALUE);if(value==null){value=input.value;}value=parseInt(value/scroller.increment);scroller.positionScroller(value,value);}}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.enableTab=function(){try{var tabControl=document.getElementById(this.id+"_tab");if(tabControl){tabControl.className=(this.major!=524288)?"mstrTabSetTab disabled":"mstrTabSetTab";}}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.exec=function(cmdId,cmdVal){try{mstrTabImpl.prototype.exec.call(this,cmdId,cmdVal);switch(cmdId){case"gaugeBorderThick_horizontal":case"gaugeRangeThick_horizontal":case"gaugeStartAngle_horizontal":case"gaugeStopAngle_horizontal":var input=document.getElementById(this.id+cmdId.substr(0,cmdId.indexOf("_"))+"0");if(input){var newValue=cmdVal.split("|");if(!this.initializing){input.setAttribute(microstrategy.HTMLATTR_CMD_VALUE,newValue[0]);}}break;}}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.updateList=function(obj){try{if(obj){if(!this.initializing){obj.setAttribute(microstrategy.HTMLATTR_CMD_VALUE,obj.value);if(obj.getAttribute(microstrategy.HTMLATTR_CMD_ID)=="gaugeStyle"){this.enableOptionsBasedOnGaugeType();}}}}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.onmajortypechange=function(newValue,skipUpdateMinorType){try{this.major=newValue;this.enableTab();}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.restoreEachSelection=function(field,cmdId,value){try{var fType=field.nodeName;switch(fType.toLowerCase()){case"input":var inputType=field.type.toLowerCase();switch(inputType){case"hidden":field.setAttribute(microstrategy.HTMLATTR_CMD_VALUE,value);this.initScroller(cmdId);break;default:mstrTabImpl.prototype.restoreEachSelection.call(this,field,cmdId,value);break;}default:mstrTabImpl.prototype.restoreEachSelection.call(this,field,cmdId,value);break;}}catch(err){microstrategy.errors.log(err);return false;}};mstrGraphOptionTabImpl.prototype.applyFormatChanges=function(at,bulkChanges){try{var formatBulkArray=bulkChanges;var formatGraphSettingsBulk=null;for(var counter=0;counter<this.settings.length;counter++){var aSetting=this.settings[counter];var cmdId=aSetting.getAttribute(microstrategy.HTMLATTR_CMD_ID);var cmdVl=aSetting.getAttribute(microstrategy.HTMLATTR_CMD_VALUE);if(cmdVl){formatGraphSettingsBulk=new Array();var attrId=null;switch(cmdId){case"gaugeStyle":attrId="795";break;case"gaugeNeedleStyle":attrId="801";break;case"gaugeBorderStyle":attrId="796";break;case"gaugeBorderThick":attrId="797";break;case"gaugeRangeThick":attrId="798";break;case"gaugeStartAngle":attrId="799";break;case"gaugeStopAngle":attrId="800";break;}formatGraphSettingsBulk=new Array("9999",attrId,cmdVl);var auxArray=new Array("formatGraphSetting",formatGraphSettingsBulk);formatBulkArray.push(auxArray);}}return formatBulkArray;}catch(err){microstrategy.errors.log(err);return bulkChanges;}};mstrGraphOptionTabImpl.prototype.enableOptionsBasedOnGaugeType=function(){var disabled=false;if(this.gaugeStyleElem&&this.gaugeStyleElem.value=="0"){disabled=true;}for(var counter=0;counter<this.settings.length;counter++){var aSetting=this.settings[counter];var cmdId=aSetting.getAttribute(microstrategy.HTMLATTR_CMD_ID);switch(cmdId){case"gaugeStyle":break;case"gaugeNeedleStyle":case"gaugeBorderStyle":aSetting.disabled=disabled;break;case"gaugeBorderThick":var scroller=microstrategy.bone(this.id+cmdId);scroller.enableScroller(!disabled);if(!disabled){scroller.reset();}break;case"gaugeRangeThick":case"gaugeStartAngle":case"gaugeStopAngle":break;}}};function mstrGraphOptionTabImpl(id){this.inherits=mstrTabImpl;this.inherits(id);this.inherits=null;return this;}