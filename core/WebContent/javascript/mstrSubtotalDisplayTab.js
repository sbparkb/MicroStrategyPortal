mstrSubtotalDisplayTabScript=true;mstrSubtotalDisplayTab.prototype=new mstrTabImpl();mstrSubtotalDisplayTab.prototype.onload=function(){try{this.initializing=true;this.path="microstrategy.bone('"+this.id+"')";this.verifiedPath=microstrategy.getEventHandlerString(this.path);this.initEditor();this.initSettings();}catch(err){microstrategy.errors.log(err);return false;}};mstrSubtotalDisplayTab.prototype.onreload=function(){try{this.settingsInitialzed=false;mstrTabImpl.prototype.onreload.call(this);if(!this.settingsInitialzed){this.initSettings();}}catch(err){microstrategy.errors.log(err);return false;}};mstrSubtotalDisplayTab.prototype.onpostload=function(){try{mstrBoneImpl.prototype.onpostload.call(this);var at=this.getAppliesTo();this.initValues();}catch(err){microstrategy.errors.log(err);return false;}};mstrSubtotalDisplayTab.prototype.initSettings=function(){try{var index=0;this.settings=new Array();this.settings[index++]=microstrategy.findChildWithAtt(this.elem,"fieldset","id","rowSec");this.settings[index++]=microstrategy.findChildWithAtt(this.elem,"fieldset","id","colSec");this.settings[index++]=microstrategy.findChildWithAtt(this.elem,"fieldset","id","pageSec");var allinputs=this.elem.getElementsByTagName("input");for(var i=0;i<allinputs.length;i++){allinputs[i].onclick=new Function("e",this.verifiedPath+" { return "+this.path+".onclick(e); }");}this.settingsInitialzed=true;}catch(err){microstrategy.errors.log(err);return false;}};mstrSubtotalDisplayTab.prototype.initValues=function(){try{for(var i=0;i<this.settings.length;i++){this.setDisplayIcon(this.settings[i]);}}catch(err){microstrategy.errors.log(err);return false;}};mstrSubtotalDisplayTab.prototype.onclick=function(e){try{if(!e){e=window.event;}var src=getEventTarget(e);var axisSec=findTargetTag(src,"fieldset");axisSec.setAttribute(microstrategy.HTMLATTR_CMD_ID,"subtotalDisplay"+axisSec.getAttribute("id"));axisSec.setAttribute(microstrategy.HTMLATTR_CMD_VALUE,src.getAttribute("value"));this.setDisplayIcon(axisSec,src.getAttribute("value"));this.hideUndefinedSection(axisSec);return true;}catch(err){microstrategy.errors.log(err);return false;}};mstrSubtotalDisplayTab.prototype.hideUndefinedSection=function(secObj){try{var undefinedSec=secObj.lastChild;if(undefinedSec){undefinedSec.style.visibility="hidden";}}catch(err){microstrategy.errors.log(err);return false;}};mstrSubtotalDisplayTab.prototype.setDisplayIcon=function(secObj,displayValue){try{var table=secObj.getElementsByTagName("table")[0];var iconSecs=table.getElementsByTagName("div");if(iconSecs!=null){icon=iconSecs[0];}if(icon){var cssClassName=icon.className;if(displayValue==null){displayValue=this.getDisplayValue(secObj);}var pos=cssClassName.indexOf("_");if(displayValue==mstrSubtotalsObjImpl.SUBTOTAL_POSITION_FIRST){if(pos<0){cssClassName+="_first";}else{cssClassName=cssClassName.substring(0,pos)+"_first";}}else{if(displayValue==mstrSubtotalsObjImpl.SUBTOTAL_POSITION_LAST){if(pos<0){cssClassName+="_last";}else{cssClassName=cssClassName.substring(0,pos)+"_last";}}else{if(pos<0){cssClassName+="_undefined";}else{cssClassName=cssClassName.substring(0,pos)+"_undefined";}}}icon.className=cssClassName;}}catch(err){microstrategy.errors.log(err);return false;}};mstrSubtotalDisplayTab.prototype.getDisplayValue=function(secObj){try{var options=secObj.getElementsByTagName("input");var _result="";for(var i=0;i<options.length;i++){if(options[i].checked){_result=options[i].value;break;}}return _result;}catch(err){microstrategy.errors.log(err);return false;}};function mstrSubtotalDisplayTab(id){this.inherits=mstrTabImpl;this.inherits(id);delete this.inherits;return this;}