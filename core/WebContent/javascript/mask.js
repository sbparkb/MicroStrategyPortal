microstrategy.HTMLATTR_MASKEDOBJECT="MB";microstrategy.HTMLATTR_MASKFOR="MASKFOR";microstrategy.HTMLATTR_MASKFOR_DELIM=",";mstrMaskImpl.prototype=new mstrBoneImpl();mstrMaskImpl.prototype.elem=null;mstrMaskImpl.prototype.img=null;mstrMaskImpl.prototype.borderWidth=3;mstrMaskImpl.prototype.onload=function(maskedBone){try{this.maskedBone=maskedBone;this.initElem();this.img.onmouseover=new Function("this.style.borderWidth = '"+this.borderWidth+"px';");this.img.onmouseout=new Function("this.style.borderWidth = '0px';");if(this.maskedBone){this.maskfor=(maskedBone.maskFor)?microstrategy.HTMLATTR_MASKFOR_DELIM+this.maskedBone.maskFor+microstrategy.HTMLATTR_MASKFOR_DELIM:"";this.onmaskedobjectresize();}}catch(err){microstrategy.errors.log(err);return false;}};mstrMaskImpl.prototype.onmaskedobjectresize=function(h,w){try{if(this.maskedBone&&this.maskedBone.maskArea){var brd=2*this.borderWidth;h=(h>brd?h:Math.max(7,getObjHeight(this.maskedBone.maskArea)))-brd;w=(w>brd?w:Math.max(7,this.maskedBone.maskArea.scrollWidth))-brd;this.img.style.height=h+"px";this.img.style.width=w+"px";}}catch(err){microstrategy.errors.log(err);return false;}};mstrMaskImpl.prototype.initElem=function(){try{var div=document.createElement("div");div.className="mstrMask";this.elem=div;var img=document.createElement("img");img.className="mstrMaskedImage";img.src=microstrategy.FOLDER_IMAGES+"1ptrans.gif";img.setAttribute(microstrategy.HTMLATTR_OBJTYPE,microstrategy.OBJTYPE_MASK);if(this.maskedBone){img.setAttribute(microstrategy.HTMLATTR_MASKEDOBJECT,this.maskedBone.id);img.setAttribute(microstrategy.HTMLATTR_POINTS_TO,this.maskedBone.id);}this.img=img;this.elem.appendChild(this.img);if(this.maskedBone.maskArea.childNodes.length>0){this.maskedBone.maskArea.insertBefore(this.elem,this.maskedBone.maskArea.firstChild);}else{this.maskedBone.maskArea.appendChild(this.elem);}}catch(err){microstrategy.errors.log(err);return false;}};mstrMaskImpl.prototype.toggle=function(show,maskFor){try{if(!this.elem){return ;}this.elem.style.display=(show&&this.maskfor.indexOf(microstrategy.HTMLATTR_MASKFOR_DELIM+maskFor+microstrategy.HTMLATTR_MASKFOR_DELIM)>-1)?"block":"none";}catch(err){microstrategy.errors.log(err);return false;}};function mstrMaskImpl(){return this;}