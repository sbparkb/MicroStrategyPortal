mstrImageLayoutVisPropsEditorImplScript=true;mstrImageLayoutVisPropsEditorImpl.prototype=new mstrBoneImpl();mstrImageLayoutVisPropsEditorImpl.prototype.onload=function(){try{this.initBone();this.updateDisplayModeOptions();this.greyOutMaxSizeValue();}catch(err){microstrategy.errors.log(err);}};mstrImageLayoutVisPropsEditorImpl.prototype.updateDisplayModeOptions=function(){var mt=document.getElementById("mt");if(mt==null){return ;}var fnShow=function(id,show){document.getElementById(id).style.display=(show)?(mstr.utils.ISDXIE)?"block":"table-row":"none";};var displayMode=mt.value;var isArea=(displayMode=="1");fnShow("defaultColor",isArea);var mf=document.getElementById("mf");if(!mf){return ;}var files=isArea?this.mapFiles:this.mapMarkerFiles;var selectedOption=mf.selectedIndex>-1?mf.options[mf.selectedIndex]&&mf.options[mf.selectedIndex].value:null;for(var i=mf.options.length-1;i>=0;i--){mf.options[i]=null;}var fnKeyarray=function kyarr(h,nums){var arr=[];if(h){for(var k in h){arr.push(nums?Number(k):k);}}return arr;};keys=fnKeyarray(files).sort();var i=0;var sel=(!(isArea&&selectedOption=="VisFramework/map/USAMarkerMapCoords.html")&&selectedOption)||(this.visProps&&this.visProps.mf)||"VisFramework/map/WorldImageMapCoords.html";for(var e in keys){var idx=keys[e];var isSel=files[idx]==sel;mf.options[i]=new Option(idx,files[idx],isSel);mf.options[i].selected=isSel;i++;}};mstrImageLayoutVisPropsEditorImpl.prototype.validateMaxSizeValue=function(){var mbs=getElementById("val");if(!mbs){return ;}var val=parseFloat(microstrategy.number.toString(mbs.value));if(isNaN(val)||val>1||val<0.01){return microstrategy.descriptors.getDescriptor("9071");}return true;};mstrImageLayoutVisPropsEditorImpl.prototype.convertMaxSizeValueToEnglish=function(){var mbs=getElementById("val");if(!mbs){return ;}if(mbs.value&&mbs.value.indexOf(",")>-1){return mbs.value.replace(",",".");}return mbs.value;};mstrImageLayoutVisPropsEditorImpl.prototype.greyOutMaxSizeValue=function(){var mbs=getElementById("ty");if(!mbs){return ;}var isAuto=(mbs.value=="0");var fnShow=function(id,show){document.getElementById(id).disabled=(show)?true:false;};fnShow("val",isAuto);return true;};function mstrImageLayoutVisPropsEditorImpl(id){this.inherits=mstrBoneImpl;this.inherits(id);this.id=id;this.inherits=null;this.path="microstrategy.bone('"+id+"')";return this;}