mstrExpressionPromptDefCommandsImpl.prototype=new mstrPromptDefCommandsImpl();mstrExpressionPromptDefCommandsImpl.prototype.postProcessCommands=function(){try{mstrPromptDefCommandsImpl.prototype.postProcessCommands.call(this);if(this.promptObj.setPreDefObjs!=null){var objs="";var option;for(i=0;i<this.promptObj.setPreDefObjs.length;i++){option=this.promptObj.setPreDefObjs.options[i];if(i!=0){objs=objs+this.UNIT_SEPARATOR;}objs=objs+option.value;}this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_OBJECTS_AVAILABLE_LIST,this.promptBeanPath,["4097009"],[objs])]);}if(this.promptObj.setAllHierarchies=="1"){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_EXPR_ORIGIN,this.promptBeanPath,[],[])]);}if(this.promptObj.attFormsDisplay){var objs=this.buildObjListString(this.promptObj.setCustomForms);this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_ATTRIBUTE_FORM_DISPLAY,this.promptBeanPath,["4097004","4097024"],[this.promptObj.attFormsDisplay,objs])]);}}catch(err){microstrategy.errors.log(err);return false;}};mstrExpressionPromptDefCommandsImpl.prototype.exec=function(cmdid,value,obj){try{switch(cmdid){case this.commands.setPreDefObjs:this.promptObj.setPreDefObjs=obj;break;case this.commands.openObjSelector:this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.WebEventOpenSelectionBean,this.appPromptBeanPath,["92002"],[this.selMode.objects])]);this.updateManager.flushAndSubmitChanges();break;case this.commands.setAttFormsDisplay:this.promptObj.attFormsDisplay=value;break;case this.commands.setCustomForms:this.promptObj.setCustomForms=obj;break;case this.commands.setAllHierarchies:this.promptObj.setAllHierarchies=value;break;case this.commands.openOriginSelector:this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.WebEventOpenSelectionBean,this.appPromptBeanPath,["92002"],[this.selMode.expressionOrigin])]);this.updateManager.flushAndSubmitChanges();break;case this.commands.openSearchSelector:this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.WebEventOpenSelectionBean,this.appPromptBeanPath,["92002"],[this.selMode.search])]);this.updateManager.flushAndSubmitChanges();break;case this.commands.setOriginObj:var obj=this.buildObjFromString(value,this.ITEM_SEPARATOR);this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_EXPR_ORIGIN,this.promptBeanPath,["4097017","4097018","4097019"],[obj.dssid,obj.tp,obj.n])]);break;default:mstrPromptDefCommandsImpl.prototype.exec.call(this,cmdid,value,obj);}}catch(err){microstrategy.errors.log(err);return false;}};function mstrExpressionPromptDefCommandsImpl(){this.inherits=mstrPromptDefCommandsImpl;this.inherits();this.inherits=null;this.commands.openObjSelector="openObjSelector";this.commands.openOriginSelector="openOriginSelector";this.commands.openSearchSelector="openSearchSelector";this.commands.setAllHierarchies="exp_all_hier";this.commands.setAttFormsDisplay="setAttFormsDisplay";this.commands.setCustomForms="setCustomForms";this.commands.setPreDefObjs="setPreDefObjs";this.commands.setOriginObj="setOriginObj";this.promptObj.setPreDefObjs=null;this.promptObj.setAllHierarchies=null;this.promptObj.attFormsDisplay=null;this.promptObj.setCustomForms=null;return this;}