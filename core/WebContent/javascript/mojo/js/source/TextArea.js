(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.TextBox");var $CSS=mstrmojo.css,$DOM=mstrmojo.dom;mstrmojo.TextArea=mstrmojo.declare(mstrmojo.TextBox,null,{scriptClass:"mstrmojo.TextArea",markupString:'<textarea id="{@id}" class="mstrmojo-TextArea {@cssClass}"  style="{@cssText}" title="{@tooltip}" placeholder="{@placeholderText}" rows="{@rows}" cols="{@cols}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keydown,keyup,blur></textarea>',maxLength:256,onkeydown:function onkeydown(evt){var inputNode=this.inputNode,value=this.value,maxLength=this.maxLength,valueStringLength=(value&&value.length)||0,evtObj=evt.e,keyCode=evtObj.keyCode;this.isDeleteKeys=keyCode===8||keyCode===46;this.isArrowKeys=keyCode===37||keyCode===38||keyCode===39||keyCode===40;if(maxLength!==undefined&&maxLength<=valueStringLength){var domSelectionEnd=inputNode.selectionEnd,hasSelection=(domSelectionEnd!==undefined)?(domSelectionEnd-inputNode.selectionStart)>0:document.selection.createRange().text.length>0;if(!this.isDeleteKeys&&!this.isArrowKeys&&!hasSelection){if($DOM.isIE7||$DOM.isIE8||$DOM.isIE9){inputNode.blur();window.setTimeout(function(){inputNode.focus();},1);}$DOM.preventDefault(window,evtObj);return false;}}}});mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.TextArea,{oncssClassChange:function oncssClassChange(){$CSS.addClass(this.domNode,this.cssClass||"");}});})();