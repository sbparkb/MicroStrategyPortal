(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css");var $DOM=mstrmojo.dom,$CSS=mstrmojo.css,CSS_ACTIVE="active";var isMouseDownMode=false;mstrmojo.util.ui.SplitterParamsType=null;function getSplitterPosition(evt,params){var info=params.info,min=info&&info.min,max=info&&info.max,position=params.start+($DOM.getMousePosition(evt,window)[params.mouseProp]-params.mousePosition)*(info&&!!info.isReverseMove?-1:1);if(min!==undefined){position=Math.max(position,min);}if(max!==undefined){position=Math.min(position,max);}return position;}function getSplitterEvtHandler(fn,scopeId,params){return function(evt){fn.call(mstrmojo.all[scopeId],evt,params);};}function onSplitterMouseMove(evt,params){params.target.style[params.styleProp]=getSplitterPosition(evt,params)+"px";}function onSplitterMouseUp(evt,params){if(!isMouseDownMode){return ;}var doc=window.document;$DOM.detachEvent(doc,"mousemove",params.fnMove);$DOM.detachEvent(doc,"mouseup",params.fnUp);delete params.fnMove;delete params.fnUp;isMouseDownMode=false;mstrApp.setInteractive(true);this.splitterMoved(getSplitterPosition(evt,params)-params.start,params.info);$CSS.removeClass(params.target,CSS_ACTIVE);(this.children||[]).forEach(function(childBox){childBox.domNode.style.pointerEvents="inherit";});this.splitterMouseUp();}function onSplitterMouseDown(evt){if(isMouseDownMode){return ;}mstrApp.setInteractive(false);var id=this.id,styleProp,isReverseMove,target=$DOM.eventTarget(window,evt),isHorizontal=(target.className.indexOf("v")===-1),mouseProp=isHorizontal?"y":"x",params={};params.target=target;params.info=this.getSplitterInfo(target);isReverseMove=params.info&&!!params.info.isReverseMove;styleProp=isHorizontal?"Top":isReverseMove?"Right":"Left";params.start=isReverseMove?parseInt(target.style.right):target["offset"+styleProp];params.mouseProp=mouseProp;params.mousePosition=$DOM.getMousePosition(evt,window)[mouseProp];params.styleProp=styleProp.toLowerCase();$CSS.addClass(target,CSS_ACTIVE);(this.children||[]).forEach(function(childBox){childBox.domNode.style.pointerEvents="none";});this.splitterMouseDown();var fnMove=getSplitterEvtHandler(onSplitterMouseMove,id,params),fnUp=getSplitterEvtHandler(onSplitterMouseUp,id,params);var doc=window.document;$DOM.attachEvent(doc,"mousemove",fnMove);$DOM.attachEvent(doc,"mouseup",fnUp);params.fnMove=fnMove;params.fnUp=fnUp;isMouseDownMode=true;}mstrmojo.util.ui._HostsSplitter=mstrmojo.provide("mstrmojo.util.ui._HostsSplitter",{_mixinName:"mstrmojo.util.ui._HostsSplitter",registerSplitter:function registerSplitter(splitter){$DOM.attachEvent(splitter,"mousedown",getSplitterEvtHandler(onSplitterMouseDown,this.id));},getSplitterInfo:mstrmojo.emptyFn,splitterMoved:mstrmojo.emptyFn,splitterMouseDown:mstrmojo.emptyFn,splitterMouseUp:mstrmojo.emptyFn});}());