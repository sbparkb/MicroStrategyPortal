(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasScrollbox","mstrmojo._HasLayout","mstrmojo._ShowsStatus");function getDimension(dimension){var domNode=this.domNode,x=parseInt(this[dimension.toLowerCase()],10);return(isNaN(x))?domNode["offset"+dimension]:x;}mstrmojo.DocLayoutViewer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable,mstrmojo._HasScrollbox,mstrmojo._HasLayout,mstrmojo._ShowsStatus],{scriptClass:"mstrmojo.DocLayoutViewer",markupString:'<div id="{@id}" class="mstrmojo-DocLayoutViewer {@cssClass}" style="{@domNodeCssText}"><div></div><div><div class="mstrmojo-progress" style="display:none"><div class="mstrmojo-progress-barbg"><div class="mstrmojo-progress-bar"></div></div><div class="mstrmojo-progress-text"></div></div><div id="{@id}_fh"></div><div id="{@id}_scrollboxNode" class="mstrmojo-DocLayoutViewer-layout" style="{@_scrollCssText}"></div><div id="{@id}_ff"></div></div><div></div></div>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";},onborderChange:function(){if(this.border){this.domNode.style.border=this.border;}}},markupSlots:{groupBy:function(){return this.domNode.firstChild;},layout:function(){return this.domNode.childNodes[1].childNodes[2];},scrollboxNode:function(){return this.domNode.childNodes[1].childNodes[2];},containerNode:function(){return this.domNode.childNodes[1].childNodes[2];},incFetchNode:function(){return this.domNode.lastChild;},fixedHeaderNode:function(){return this.domNode.childNodes[1].childNodes[1];},fixedFooterNode:function(){return this.domNode.childNodes[1].childNodes[3];},_STATUS:function(){return this.domNode.childNodes[1].firstChild;},_STATUS_TXT:function(){return this.domNode.childNodes[1].firstChild.lastChild;},_STATUS_BAR:function(){return this.domNode.childNodes[1].firstChild.firstChild.firstChild;}},layoutConfig:{h:{groupBy:"auto",fixedHeaderNode:"auto",layout:"100%",fixedFooterNode:"auto",incFetchNode:"auto"},w:{layout:"100%"}},k:null,scrollboxHeightFixed:true,scrollboxWidthFixed:true,getHeight:function getHeight(){return getDimension.call(this,"Height");},getWidth:function getWidth(){return getDimension.call(this,"Width");},afterLayout:function afterLayout(){this._super();this.notifyScrollListeners();},preBuildRendering:function preBuildRendering(){if(this.parent){var p=this.parent[this.slot].style,h=this.height,w=this.width;this.height=(h!=="auto")?h:p.height;this.width=(w!=="auto")?w:p.width;}this.bs=this.model.bs;return this._super();},setSlotDimensions:function setSlotDimensions(slot,h,w){if(slot==="layout"){this.scrollboxHeight=parseInt(h,10);this.scrollboxWidth=parseInt(w,10);}this._super(slot,h,w);},onaddChild:function onaddChild(evt){if(!isNaN(evt.index)){var nc=this.children[evt.index];if(nc&&nc.slot==="groupBy"){this.docGroupBy=nc;}}}});}());