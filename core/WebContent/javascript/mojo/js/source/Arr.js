(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array","mstrmojo.registry","mstrmojo.publisher","mstrmojo._Provider");var _H=mstrmojo.hash,_A=mstrmojo.array,_R=mstrmojo.registry,_P=mstrmojo.publisher;mstrmojo.Arr=mstrmojo.declare(null,[mstrmojo._Provider],{scriptClass:"mstrmojo.Arr",postApplyProperties:null,postCreate:null,length_bindEvents:["add","remove"],init:function init(props){var arr;if(props&&props.data){arr=props.data;delete props.data;}else{if(props){arr=props;props=null;}}if(!arr||arr.constructor!==Array){arr=[];}_H.copy(mstrmojo.Arr.prototype,arr);if(props){_H.copy(props,arr);}if(arr.postApplyProperties){arr.postApplyProperties();}_R.add(arr);if(arr.postCreate){arr.postCreate();}return arr;},destroy:function dst(){_P.clearSubscriptions(this.id);_R.remove(this);},add:function add(items,idx,silent){var c=items&&items.length;if(c){if(idx==null){idx=this.length;}_A.insert(this,idx,items);if(!silent&&(this.onadd||_P.hasSubs(this.id,"add"))){this.raiseEvent({name:"add",value:items,index:idx});}}},remove:function rmv(idx,count,silent){if(count==null){count=1;}if((idx!=null)&&count){var rem=this.splice(idx,count);if(!silent&&(this.onremove||_P.hasSubs(this.id,"remove"))){this.raiseEvent({name:"remove",value:rem,index:idx});}}}});mstrmojo.Arr.makeObservable=function mk(arr,props){if(!arr){return ;}if(!props){props={};}props.data=arr;return this.prototype.init(props);};})();