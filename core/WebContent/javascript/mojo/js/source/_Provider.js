(function(){mstrmojo.requiresCls("mstrmojo.publisher");var $P=mstrmojo.publisher;mstrmojo._Provider=mstrmojo.provide("mstrmojo._Provider",{_meta_usesSuper:false,audibles:{"*":true},set:function set(n,v){var bChanged=false,f=this["_set_"+n],vWas=this[n];if(f){bChanged=f.apply(this,arguments);}else{this[n]=v;bChanged=(vWas!==v);}if(bChanged){var evtName=n+"Change",aud=this.audibles||{},isAudible=(aud[n]===true)||((aud[n]!==false)&&(aud["*"]!==false));if(isAudible&&(this["pre"+evtName]||this["on"+evtName]||this["post"+evtName]||$P.hasSubs(this.id,evtName))){this.raiseEvent({name:evtName,prop:n,value:v,valueWas:vWas});}}return this;},raiseEvent:function rse(evt){var n=evt&&evt.name;if(!n){return null;}evt.src=this;this.preHandleEvent(evt);var ns=["pre","on","post"],abort=false,i,len;for(i=0,len=ns.length;i<len;i++){var fn=ns[i]+n;if(this[fn]){if(this[fn](evt)===false){abort=true;break;}}}if(!abort){this.postHandleEvent(evt);$P.publish(this.id,n,evt);}return evt;},preHandleEvent:mstrmojo.emptyFn,postHandleEvent:mstrmojo.emptyFn,attachEventListener:function att(name,listener,callback){return $P.subscribe(this.id,name,callback,listener);},detachEventListener:function det(sub){$P.unsubscribe(sub);},destroy:function destroy(){$P.clearSubscriptions(this.id);if(this._super){this._super();}}});}());