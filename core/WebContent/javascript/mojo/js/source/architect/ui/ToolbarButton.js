(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.hash","mstrmojo.css","mstrmojo.Button");var $CSS=mstrmojo.css,CSS_CLASS_ON="on";mstrmojo.architect.ui.ToolbarButton=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.architect.ui.ToolbarButton",onactiveChange:function onactiveChange(){$CSS.toggleClass(this.domNode,CSS_CLASS_ON,this.active);},onclick:function onclick(){this.set("active",!this.active);var command=this.cmd;if(command){if(typeof command==="string"){mstrApp.getRootController()[command](this.active);}else{if(typeof command==="function"){command.call(this);}}}if(!this.persistSelection){var $this=this;window.setTimeout(function(){$this.set("active",false);},100);}}});}());