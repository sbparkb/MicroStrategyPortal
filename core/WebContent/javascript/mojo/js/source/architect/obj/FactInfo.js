(function(){mstrmojo.requiresCls("mstrmojo.Obj");var Enum_SM_AddFactInfo=4,Enum_SM_RemoveFactInfo=5,Enum_SM_UpdateFactInfo=6;function createFactInfo(factInfo,props){var callback=props.callback;factInfo.model.submitRequest({success:function(){factInfo.factId=props.factId;factInfo.factName=props.factName;factInfo.expression=props.expression;factInfo.columnId=props.columnId;factInfo.tableId=props.tableId;if(callback&&callback.success){callback.success(factInfo);}}},{manipulationtype:Enum_SM_AddFactInfo,objectid:props.factId,columnid:props.columnId,expression:props.expression,tableids:props.tableId,showWait:true},"schemaManipulation");}mstrmojo.architect.obj.FactInfo=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.architect.obj.FactInfo",init:function init(props){this._super(props);var factInfo=this,callback=props.callback;if(props.isNew){createFactInfo(factInfo,props);}else{if(callback&&callback.success){callback.success(factInfo);}}},factId:undefined,factName:undefined,expression:undefined,columnId:undefined,tableId:undefined,remove:function remove(callback){var factInfo=this;factInfo.model.submitRequest({success:function(){if(callback&&callback.success){callback.success(factInfo.factId);}}},{manipulationtype:Enum_SM_RemoveFactInfo,objectid:factInfo.factId,tableids:factInfo.tableId,showWait:true},"schemaManipulation");},update:function update(expression,columnId,callback){var factInfo=this;factInfo.model.submitRequest({success:function(){factInfo.expression=expression;factInfo.columnId=columnId;if(callback&&callback.success){callback.success(factInfo.factId);}}},{manipulationtype:Enum_SM_UpdateFactInfo,objectid:factInfo.factId,expression:expression,columnid:columnId,tableids:this.tableId,showWait:false},"schemaManipulation");}});}());