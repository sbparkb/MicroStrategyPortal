(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.ObjectBrowser");var DOCUMENT_TYPE=55,REPORT_TYPE=3;mstrmojo.vi.ui.editors.ImportVIEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.vi.ui.editors.ImportVIEditor",cssClass:"mstrmojo-OpenVI-Editor",title:mstrmojo.desc(14725,"Import Dashboard"),help:null,startingFolder:null,item:null,multiSelect:false,selectedItems:null,children:[{scriptClass:"mstrmojo.ObjectBrowser",alias:"ob",closeable:false,browsableTypes:"8,3,55",browsableViewMedias:"2048,8192",closeOnSelect:false,showCompletePath:false,searchVisible:true,upButtonVisible:true,multiSelect:false,scrollableIncFetch:true,useBothSglDblSelect:true,folderLinksContextId:30,bindings:{rootFolderID:function(){return this.parent.startingFolder;},multiSelect:"this.parent.multiSelect"}},{scriptClass:"mstrmojo.HBox",alias:"btnHBox",slot:"buttonNode",cssClass:"mstrmojo-Editor-buttonBar",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton hot",text:mstrmojo.desc(2309,"Open"),onclick:function(){var editor=this.editor;editor.onOK();editor.close();},bindings:{enabled:function(){return !!(this.parent.parent.multiSelect?this.parent.parent.selectedItem.length:this.parent.parent.item);},editor:"this.parent.parent"}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton",text:mstrmojo.desc(221,"Cancel"),onclick:function(){this.editor.close();this.editor.destroy();},bindings:{editor:"this.parent.parent"}}]}],preBuildRendering:function(){if(this._super){this._super();}this.ob.onSelectCB=[this,"onOBSelect"];this.ob.onBrowseFolder=[this,"onOBBrowseFolder"];this.ob.onDblSelectCB=[this,"onOBDblSelect"];},postBuildRendering:function(){if(this._super){this._super();}this.ob.browse();},onOBSelect:function(item){if(this.multiSelect){this.set("selectedItems",item);}else{this.set("item",item);}},onOBBrowseFolder:function(item){if(this.multiSelect){this.set("selectedItems",null);}else{this.set("item",null);}},onOBDblSelect:function(item){this.onOBSelect(item);this.onOK();this.close();},onOK:function onOK(){var item=this.item,documentID=item.did,type=item.t;if(item){if(mstrApp&&mstrApp.rootCtrl&&mstrApp.rootCtrl.docCtrl){mstrApp.rootCtrl.importDashboard(documentID,type);}}this.close();this.destroy();}});}());