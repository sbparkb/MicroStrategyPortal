(function(){mstrmojo.requiresCls("mstrmojo.desc","mstrmojo.dom","mstrmojo.MetricSelectorUtility","mstrmojo.num","mstrmojo.css","mstrmojo.vi.ui.rw.selectors.ISliderHelper");var $MU=mstrmojo.MetricSelectorUtility,$OP=$MU.OP,$FN=$MU.FN,$Q=$MU.Q,$NM=mstrmojo.num,$C=mstrmojo.css,$MIN=Math.min,$MAX=Math.max;mstrmojo.vi.ui.rw.selectors.MetricRankSliderHelper=mstrmojo.declare(mstrmojo.vi.ui.rw.selectors.ISliderHelper,null,{scriptClass:"mstrmojo.vi.ui.rw.selectors.MetricRankSliderHelper",_children:[{scriptClass:"mstrmojo.ui.Pulldown",slot:"controlNode",alias:"rankon",isHostedWithin:false,items:$MU.RANK_OP_NAMES,onitemSelected:function(){this.parent.set("qua",this.getSelectedItem().v);}},{scriptClass:"mstrmojo.Label",slot:"controlNode",alias:"summary"}],init:function(props){this._super(props);this.slider.set("multiSelect",false);},updateOpCs:function updateOp(){var sl=this.slider,qualifyOn=parseInt(sl.qua,10),include=sl.include,value=$MAX(sl.cs1Vl,sl.cs2Vl),isPercent=(qualifyOn===$Q._PT||qualifyOn===$Q._PB);if(value===sl.high){sl.unSet=true;sl.cs=[];return ;}sl.opId=include?$OP._LESS_EQUAL:$OP._GREATER;sl.cs=[{dtp:5,v:$NM.toLocaleString(value)+(isPercent?"%":"")}];},updateSummary:function updateSummary(){var sl=this.slider,f=$MU.getFuncInfo(sl.opId,sl.qua).f,fmrpe=$MU.MRPFN,txt="",fr=sl.cs1Vl<sl.cs2Vl?sl.cs2Nm:sl.cs1Nm;if(sl.unSet){txt=mstrmojo.desc(2058,"All");}else{switch(f){case fmrpe.TOP:case fmrpe.BOTTOM:case fmrpe.BETWEENDESCENDING:txt=String.fromCharCode(8804)+" "+fr;break;case fmrpe.EXCLUDETOP:case fmrpe.EXCLUDEBOTTOM:case fmrpe.NOTBETWEENDESCENDING:txt="> "+fr;break;default:txt=String.fromCharCode(8804)+" "+fr;break;}}sl.summary.set("text",txt);}});}());