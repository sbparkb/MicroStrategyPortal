(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.PanelPortlet","mstrmojo.css");var $CSS=mstrmojo.css;function hideCollapseIcon(){$CSS.toggleClass(this.titleBar.leftToolNode,"hidden",this.hideCollapse);}mstrmojo.vi.ui.DatasetPortlet=mstrmojo.declare(mstrmojo.vi.ui.PanelPortlet,null,{scriptClass:"mstrmojo.vi.ui.DatasetPortlet",cssClass:"docdataset-unitlist-portlet",suffix:"",showTitleBarContextMenu:true,init:function init(props){this._super(props);this.addChildren([this.getDatasetTypeCfg(props.dataset)]);},getDatasetTypeCfg:function(dataset){var datasetType=(dataset.dsm===1)?mstrmojo.desc(14453,"In Memory"):mstrmojo.desc(14452,"Live");if(dataset.connInfo&&dataset.dsm===2){datasetType+="("+dataset.connInfo.isn+")";}return{scriptClass:"mstrmojo.Label",slot:"titlebarNode",alias:"typeBar",text:datasetType,cssClass:"dataset-type"};},postBuildRendering:function(){this._super();hideCollapseIcon.call(this);},getTitleBarCfg:function getTitleBarCfg(){var cfg=this._super(),me=this;if(this.suffix&&this.suffix.length>0){cfg.getTitleChildren=function(){return[{scriptClass:"mstrmojo.Label",slot:"textNode",alias:"suffixNode",cssClass:"suffix",text:me.suffix}].concat(this.constructor.prototype.getTitleChildren.call(this));};}cfg.layoutConfig={w:{leftToolNode:"auto",textNode:"100%",rightToolNode:"auto"},h:{leftToolNode:"22px",textNode:"22px",rightToolNode:"22px",containerNode:"22px"},xt:true};return cfg;}});mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.vi.ui.DatasetPortlet,{onhideCollapseChange:function(){hideCollapseIcon.call(this);}});}());