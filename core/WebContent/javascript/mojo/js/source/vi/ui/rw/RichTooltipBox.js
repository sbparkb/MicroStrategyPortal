(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.rw.UnitContainer","mstrmojo.tooltip","mstrmojo.dom");var $DOM=mstrmojo.dom;mstrmojo.vi.ui.rw.RichTooltipBox=mstrmojo.declare(mstrmojo.vi.ui.rw.UnitContainer,null,{scriptClass:"mstrmojo.vi.ui.rw.RichTooltipBox",tooltipOpenDelay:300,tooltipTopOffset:8,tooltipLeftOffset:16,useRichTooltip:true,showTooltip:function showTooltip(e,win){var me=this,w=this.boxContent;if(w.canShowContentTooltip&&!w.canShowContentTooltip(e,win)){return ;}if(!me.hasOpenTooltip&&w){var position=$DOM.getMousePosition(e,win);me.richTooltip={cssClass:"vi-regular vi-tooltip-A",content:w.tooltip,top:Math.max(position.y+this.tooltipTopOffset,0),left:Math.max(position.x-this.tooltipLeftOffset,0),posType:mstrmojo.tooltip.POS_TOPLEFT};this._super(e,win);}},moveTooltip:function moveTooltip(evt,win){if(this._tooltipTimeOut){window.clearTimeout(this._tooltipTimeOut);this._tooltipTimeOut=null;if(this.hideTooltip){this.hideTooltip();}else{mstrmojo.tooltip.close();}}var _this=this,_evt=evt,_win=win;this._tooltipTimeOut=setTimeout(function(){_this.showTooltip(_evt,_win);},this.tooltipOpenDelay);}});}());