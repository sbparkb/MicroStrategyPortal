(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.toolbars.Toolbar","mstrmojo.css");var $CSS=mstrmojo.css;var itemMarkup;mstrmojo.vi.ui.toolbars.TitleToolbar=mstrmojo.declare(mstrmojo.vi.ui.toolbars.Toolbar,null,{scriptClass:"mstrmojo.vi.ui.toolbars.TitleToolbar",init:function init(props){this._super(props);$CSS.addWidgetCssClass(this,"mstrmojo-VITitleToolbar");},markupMethods:{onvisibleChange:function onvisibleChange(){var isVisible=this.visible,domNode=this.domNode;$CSS.toggleClass(domNode,"visible",isVisible);if(!isVisible){$CSS.onTransitionEnd(domNode,function(){$CSS.addClass(domNode,"hidden");});}else{$CSS.removeClass(domNode,"hidden");}}},getItemMarkup:function getItemMarkup(item){if(!itemMarkup){itemMarkup=this._super(item).replace("{@en@n}",'<div class="icn"></div>');}return itemMarkup;},ontoolbarCfgChange:function ontoolbarCfgChange(evt){var toolbarCfg=evt.value;if(toolbarCfg){toolbarCfg.addMenuToolbarBtn("","mnu");if(toolbarCfg.hasCloseButton){toolbarCfg.addToolbarBtn(toolbarCfg.closeButtonText,"cls",function(item,toolbar){toolbar.parent.close();});}}this._super(evt);},onItemContextMenu:function onItemContextMenu(item){this.closePopup();if(item.fn){item.fn(item,this);return true;}}});}());