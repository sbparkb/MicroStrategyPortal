(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.dom","mstrmojo.Label","mstrmojo.TextBox","mstrmojo.warehouse.dbroles.DBRoleHelper");mstrmojo.requiresDescs(12937,12938);var $DBHLP=mstrmojo.warehouse.dbroles.DBRoleHelper,$DOM=mstrmojo.dom,$S=mstrmojo.string;mstrmojo.warehouse.dbroles.DBRoleSetting=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.warehouse.dbroles.DBRoleSetting",cssClass:"mstrmojo-wh-DBRoleSetting",postBuildRendering:function postBuildRendering(){if(this._super){this._super();}this.infobox.captionlbl.set("text",this.caption);var cw=$DOM.position(this.infobox.captionlbl.domNode).w,tw=$DOM.position(this.infobox.txt.domNode).w,bw=$DOM.position(this.infobox.domNode).w;if((cw+tw)>bw){this.infobox.txt.domNode.style.width=(bw-cw-10)+"px";}},caption:"",text:"",infobox:undefined,captionlbl:undefined,ontextChange:function ontextChange(){this.infobox.txt.set("value",this.text);},isNumeric:false,isPassword:false,hiddenPwd:"",isRequired:false,enabled:true,field:undefined,parentRBAlias:"",focus:function focus(){this.infobox.txt.focus();},getValue:function getValue(){return this.text;},setValue:function setValue(val){this.set("text",val);this.set("value",val);},onenabledChange:function onenabledChange(){this.infobox.captionlbl.set("enabled",this.enabled);this.infobox.txt.set("enabled",this.enabled);},isValid:function isValid(){var value=$S.trim(this.getValue()),retVal={val:true,msg:""};if(!this.enabled){return retVal;}if(!this.isRequired&&value===""){return retVal;}if(this.isRequired&&value===""){retVal.val=false;retVal.msg=mstrmojo.desc(12937,"Value for '##' cannot be empty").replace("##",this.caption);return retVal;}if(this.isNumeric&&!$DBHLP.isNumeric(value)){retVal.val=false;retVal.msg=mstrmojo.desc(12938,"Only numeric values are allowed for '##'").replace("##",this.caption);return retVal;}return retVal;},children:[{scriptClass:"mstrmojo.Box",alias:"infobox",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-wh-DBRoleSetting-Label",alias:"captionlbl",text:"this.parent.caption"},{scriptClass:"mstrmojo.TextBox",cssClass:"mstrmojo-wh-DBRoleSetting-Info",alias:"txt",preBuildRendering:function preBuildRendering(){var p=this.parent.parent;if(p.isPassword){this.set("type","password");this.set("autoComplete",(mstrApp.autocomplete==="1"));}},onEnter:function onEnter(){var p=this.parent.parent;if(p.onEnter){p.onEnter(p.parent.parent);}},onvalueChange:function onvalueChange(evt){this.parent.parent.setValue(evt.value);}}]}]});}());