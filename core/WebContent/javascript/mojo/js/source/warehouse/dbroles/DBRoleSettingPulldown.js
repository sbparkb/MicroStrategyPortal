(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.ui.Pulldown");var $A=mstrmojo.array;mstrmojo.warehouse.dbroles.DBRoleSettingPulldown=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.warehouse.dbroles.DBRoleSettingPulldown",cssClass:"mstrmojo-wh-DBRolePulldown",postBuildRendering:function postBuildRendering(){if(this._super){this._super();}this.captionlbl.set("text",this.caption);this.list.set("itemIdField",this.itemIdField);this.list.set("itemField",this.itemField);this.onenabledChange();if(typeof this.allowHTML==="boolean"){this.list.set("allowHTML",this.allowHTML);}},caption:"",contains:function contains(evt){var idx=mstrmojo.array.find(this.items,this.itemIdField,evt);return(idx>0);},itemIdField:"",itemField:"n",items:null,onitemsChange:function onitemsChange(){this.list.set("items",this.items);},selectedID:null,onselectedIDChange:function onselectedIDChange(){var index=Math.max($A.find(this.items,this.itemIdField,this.selectedID),0);if(this.items&&this.items[index]){this.list.set("selectedIndex",index);}if(this.selectedID){this.selectedItem=this.items[index];}},selectedItem:undefined,enabled:true,onenabledChange:function onenabledChange(){this.captionlbl.set("enabled",this.enabled);this.list.set("enabled",this.enabled);},getValue:function getValue(){var item=this.selectedItem||this.items[0];if(item){return item.v;}return"";},setValue:function setValue(val){this.set("selectedID",val);},isValid:function isValid(){return{val:true,msg:""};},onChange:mstrmojo.emptyFn,captionlbl:undefined,children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-wh-DBRoleSetting-Label",alias:"captionlbl"},{scriptClass:"mstrmojo.ui.Pulldown",alias:"list",onitemSelected:function onvalueChange(item,index){var parent=this.parent,selectedID=(parent.selectedItem?parent.selectedItem.id:"");if(item[this.itemIdField]!==selectedID){parent.set("selectedItem",item);if(parent.onChange){parent.onChange(item,index);}}},onitemsChange:function onitemschange(){var parent=this.parent;parent.selectedID=null;}}]});}());