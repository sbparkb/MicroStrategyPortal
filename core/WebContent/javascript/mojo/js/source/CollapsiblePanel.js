(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._Collapsible");mstrmojo.CollapsiblePanel=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Collapsible],{scriptClass:"mstrmojo.CollapsiblePanel",animate:true,title:"",expanded:false,status:null,titleCssClass:"",numericAlertsCssClass:"",numberOfAlerts:null,markupString:'<div id="{@id}" class="mstrmojo-CollapsiblePanel {@cssClass}"><div class="{@titleCssClass}"><img class="mstrmojo-PanelButton" id="{@id}expandcollapse" src="{@expandImg}" mstrAttach:click> </img>&nbsp;{@title}&nbsp;&nbsp;<span class="{@statusCssClass}" id="{@id}status"  mstrAttach:click><img  id="{@id}statusImg" class="mstrmojo-PanelButton" src="{@successImg}"></img></span><span class="{@numericAlertsCssClass}">{@numberOfAlerts}</span></div><div class="mstrmojo-CollapsiblePanel-content"></div></div>',expandImg:"../images/expand.png",collapseImg:"../images/collapse.png",successImg:"../images/tick.png",statusCssClass:"",errorImg:"../images/tbCloseAcc.gif",markupSlots:{toggleButton:function(){return this.domNode.firstChild.firstChild;},containerNode:function(){return this.domNode.childNodes[1];},statusButton:function(){return this.domNode.firstChild.childNodes[2];},alertsButton:function(){return this.domNode.firstChild.childNodes[3];}},markupMethods:{onexpandedChange:function(){var _target=this.containerNode;if(this.expanded){this.expandDown(_target);this.toggleButton.src=this.collapseImg;}else{this.collapseUp(_target);this.toggleButton.src=this.expandImg;}},onstatusChange:function(){if((navigator.userAgent.indexOf("Safari")!=-1)&&(navigator.userAgent.indexOf("Chrome")==-1)){return ;}if(this.status===true){this.statusButton.style.display="inline";this.statusButton.firstChild.src=this.successImg;}else{if(this.status===false){this.statusButton.style.display="inline";this.statusButton.firstChild.src=this.errorImg;}else{this.statusButton.style.display="none";}}},onnumberOfAlertsChange:function(){if((navigator.userAgent.indexOf("Safari")!=-1)&&(navigator.userAgent.indexOf("Chrome")==-1)){return ;}if(!this.numberOfAlerts){this.alertsButton.style.display="none";}else{if(this.title=="Alerts"){this.statusButton.style.display="none";}this.alertsButton.style.display="inline";this.alertsButton.innerHTML=(this.numberOfAlerts!=null)?this.numberOfAlerts:"";}}},onclick:function(evt){this.set("expanded",this.expanded!=true);},_set_numberOfAlerts:function sttxt(n,v){var was=this.text;this.numberOfAlerts=v;return was!=v;},postBuildRendering:function postBuildRendering(){if(this._super){this._super();}(navigator.appName=="Microsoft Internet Explorer")?this.animate=false:this.animate=true;if(this.summary){var s=mstrmojo.insert(this.summary);s.render();this.domNode.firstChild.appendChild(s.domNode);}}});})();