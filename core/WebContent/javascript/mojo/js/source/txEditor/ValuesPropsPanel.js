(function(){mstrmojo.requiresCls("mstrmojo.txEditor.CommonComponent","mstrmojo.Container","mstrmojo.Table","mstrmojo.txEditor.CalculatedPanel","mstrmojo.txEditor.ManualPanel","mstrmojo.txEditor.DatasetPanel");mstrmojo.requiresDescs(272,8254,8331,8332,8502,8260,8261,8262);var _TC=mstrmojo.txEditor.CommonComponent,_TCCT=_TC.CTRL_TYPES,_TCLT=_TC.LIST_TYPES,_TCIV=_TC.INPUT_VALUES,_DTP=mstrmojo.expr.DTP,INPUT_TYPES1=[{n:mstrmojo.desc(8261),v:_TCIV.INPUT_VALUES_CALCULATED},{n:mstrmojo.desc(8262),v:_TCIV.INPUT_VALUES_MANUAL}],INPUT_TYPES2=INPUT_TYPES1.concat({n:mstrmojo.desc(8502),v:_TCIV.INPUT_VALUES_DATASET});function createDICWiget(cfg){return[{scriptClass:"mstrmojo.txEditor.Table",layout:[{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{colSpan:2}]}],children:[_TC.createCheckBox({slot:"0,0",alias:"dmCheck",text:mstrmojo.desc(8260),_isVisible:function(){var pr=mstrmojo.all.teModel.currentTxInput.ctl.pr;return pr.t===_TCCT.CTRL_SLIDER||pr.st===_TCLT.LIST_TYPE_PULLDOWN;},oncheckedChange:function(){if(this.visible){var pr=mstrmojo.all.teModel.currentTxInput.ctl.pr;pr.set("dm",this.checked?1:0);pr.set("wm",this.checked?0:1);}}},"dm",[1,0]),_TC.createLabel({slot:"1,0",getVisibility:function(){var pr=mstrmojo.all.teModel.currentTxInput.ctl.pr;return pr.t===_TCCT.CTRL_SLIDER||pr.st===_TCLT.LIST_TYPE_PULLDOWN;}},mstrmojo.desc(272)),_TC.createTextInput({slot:"1,1",dtp:_DTP.DOUBLE,size:7,min:0,max:999999,_isVisible:function(){var pr=mstrmojo.all.teModel.currentTxInput.ctl.pr;return pr.t===_TCCT.CTRL_SLIDER||pr.st===_TCLT.LIST_TYPE_PULLDOWN;},_initValue:function(){var pr=mstrmojo.all.teModel.currentTxInput.ctl.pr;this.set("enabled",pr.wm===1);this.set("value",_TC.toLocaleUnits(pr.w));},bindings:{enabled:"!this.parent.dmCheck.checked"},updateModel:function(v){mstrmojo.all.teModel.currentTxInput.ctl.pr.w=v?_TC.toUSUnits(v):null;}},"w"),_TC.createLabel({slot:"1,2",getVisibility:function(){var pr=mstrmojo.all.teModel.currentTxInput.ctl.pr;return pr.t===_TCCT.CTRL_SLIDER||pr.st===_TCLT.LIST_TYPE_PULLDOWN;}},mstrApp.unitsLabel),_TC.createLabel({slot:"2,0",getVisibility:function(){return mstrmojo.all.teModel.currentTxInput.ctl.pr.t===_TCCT.CTRL_SLIDER;}},mstrmojo.desc(8331)+":"),_TC.createTextInput({slot:"2,1",dtp:_DTP.INTEGER,size:7,min:0,max:50,_isVisible:function(){return mstrmojo.all.teModel.currentTxInput.ctl.pr.t===_TCCT.CTRL_SLIDER;},_initValue:function(){var pr=mstrmojo.all.teModel.currentTxInput.ctl.pr;this.set("value",pr.ldw);this.set("enabled",pr.dm===1);},bindings:{enabled:"!!this.parent.dmCheck.checked"}},"ldw"),_TC.createLabel({slot:"2,2",getVisibility:function(){return mstrmojo.all.teModel.currentTxInput.ctl.pr.t===_TCCT.CTRL_SLIDER;}},mstrmojo.desc(8332)),_TC.createLabel({slot:"3,0"},mstrmojo.desc(8254)+":"),{slot:"3,1",scriptClass:"mstrmojo.Pulldown",popupToBody:true,popupZIndex:112,itemIdField:"v",defaultText:" ",defaultSelection:-1,getVisibility:function(){var pr=mstrmojo.all.teModel.currentTxInput.ctl.pr;this.set("items",(pr.t===_TCCT.CTRL_LIST)?INPUT_TYPES2:INPUT_TYPES1);this.set("value",pr.ipt);return true;},onvalueChange:function(){if(this.visible){mstrmojo.all.teModel.currentTxInput.ctl.pr.ipt=this.value;this.parent.parent.switchPanel(this.value);}}}]},{scriptClass:"mstrmojo.txEditor.CalculatedPanel",alias:"calculated"},{scriptClass:"mstrmojo.txEditor.ManualPanel",alias:"manual",rowHeaders:cfg.rowHeaders,colHeader:cfg.colHeader},{scriptClass:"mstrmojo.txEditor.DatasetPanel",alias:"dataset"}];}mstrmojo.txEditor.ValuesPropsPanel=mstrmojo.declare(mstrmojo.txEditor.Container,null,{scriptClass:"mstrmojo.txEditor.ValuesPropsPanel",cssClass:"mstrmojo-TransactionEditor-DisplayStyleField",rowHeaders:null,colHeader:null,switchPanel:function(v){this.calculated.set("visible",v===_TCIV.INPUT_VALUES_CALCULATED);this.manual.set("visible",v===_TCIV.INPUT_VALUES_MANUAL);this.dataset.set("visible",v===_TCIV.INPUT_VALUES_DATASET);},init:function(props){this._super(props);this.set("children",createDICWiget({rowHeaders:this.rowHeaders,colHeader:this.colHeader}));}});}());