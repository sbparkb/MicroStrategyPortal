(function(){mstrmojo.requiresCls("mstrmojo.gmaps.GoogleMap","mstrmojo._IsSelectorTarget");mstrmojo.gmaps.GoogleMapOIVM=mstrmojo.declare(mstrmojo.gmaps.GoogleMap,[mstrmojo._IsSelectorTarget],{scriptClass:"mstrmojo.gmaps.GoogleMapOIVM",_w:null,model:null,getWidget:function(gridParams){if(!this._w&&gridParams){for(var i in mstrmojo.all){if(mstrmojo.all[i].k==gridParams.key){this._w=mstrmojo.all[i];break;}}}return this._w;},setPosition:function setPosition(){if(!!this.node&&!!this.node.defn&&!!this.node.defn.fmts){this.width=parseInt(this.node.defn.fmts.width,10)+"px";this.height=parseInt(this.node.defn.fmts.height,10)+"px";this.domNode.style.width=this.width;this.domNode.style.height=this.height;this.domNode.style.top=parseInt(this.node.defn.fmts.top,10)+"px";this.domNode.style.left=parseInt(this.node.defn.fmts.left,10)+"px";this.domNode.style.position="absolute";}},persistWidgetProps:function persistWidgetProps(){if(!this.isOIVM()){return this._super();}var key=this._w.k;var widgetPropsXml=this.createWidgetPropsXML();var props={};props[key]={FormattingWidget:"WidgetProps\u001F"+widgetPropsXml};this.getDocModel().updateUnitFormat(this._w,1,{FormattingWidget:{WidgetProps:widgetPropsXml}},{success:function(){}},{params:{suppressData:true}});}});}());