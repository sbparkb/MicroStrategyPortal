(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._FillsBrowser","mstrmojo._HasLayout");function clearResizeInterval(){var handler=this._resizeHandler;if(handler){window.clearInterval(handler);delete this._resizeHandler;}}mstrmojo.OIVMPage=mstrmojo.declare(mstrmojo.Container,[mstrmojo._FillsBrowser,mstrmojo._HasLayout],{scriptClass:"mstrmojo.OIVMPage",markupString:'<div id="{@id}" class="mstrmojo-OIVMPage {@cssClass} {@themeClassName}" style="{@cssText}"><div class="mstrmojo-OIVMPage-pathbar"></div><div class="mstrmojo-OIVMPage-layout"></div></div>',markupSlots:{pathbarNode:function(){return this.domNode.childNodes[0];},layout:function(){return this.domNode.lastChild;}},layoutConfig:{h:{pathbarNode:"42px",layout:"100%"},w:{pathbarNode:"100%",layout:"100%"}},onError:function(err){var d=err.detail,app=mstrApp,btnHalo="#666",c=err.code;if(c){var nib=mstrmojo.Button.newInteractiveButton;switch(c){case -2147468986:case -2147467618:err.btns=[nib(mstrmojo.desc(3758,"Re-run Document"),function(){mstrmojo.form.send({evt:2048001,src:app.name+"."+app.pageName+".2048001",documentID:d.dssid,currentViewMedia:1});},btnHalo),nib(mstrmojo.desc(221,"Cancel"),function(){mstrmojo.form.send({evt:3010,src:mstrApp.name});},btnHalo)];break;default:err.btns=[nib(mstrmojo.desc(212,"Continue"),function(){mstrmojo.form.send({evt:3026,src:app.name+"."+app.pageName+".3026"});},btnHalo)];}}},renderPageLoadError:function(){var err=this.error;this.onError(err);if(!err.btns||!err.btns.length){mstrmojo.alert(err.message,null,err.title);}else{mstrmojo.confirm(err.message,null,{buttons:err.btns,title:err.title});}},render:function render(){if(this.error){this.renderPageLoadError();}else{this._super();}},browserResized:function browserResized(size,forceZoom){var rtn=this._super(size),me=this;if(forceZoom){clearResizeInterval.call(this);this._resizeHandler=window.setInterval(function(){var pathbar=me.pathbar,target=pathbar.dc,targetZoom=target&&target.zoom,zoomValue=target.view.zoomValue;if(targetZoom){clearResizeInterval.call(me);targetZoom.call(target,zoomValue&&zoomValue.dssid);}},300);}return rtn;},destroy:function(ignoreDom){clearResizeInterval.call(this);this._super(ignoreDom);}});}());