(function(){mstrmojo.requiresCls("mstrmojo.models.template.Header");mstrmojo.models.template.Headers=mstrmojo.declare(null,null,{init:function init(props){var isRow=this.isRow=props.isRow,data=this.data=props.data,gridTitles=data.gts,gridHeaders=data.ghs,headers=this.hs=isRow?gridHeaders.rhs:gridHeaders.chs,idx=this.i=props.i,missingHeaders=0,j;this.titles=isRow?gridTitles.row:gridTitles.col;this.headers=headers.items&&headers.items[idx]&&headers.items[idx].items;if(isRow&&this.headers){missingHeaders=this.titles.length-this.headers.length;if(missingHeaders){for(j=idx-1;j>=0;j--){var previousRowHeaders=headers.items[j].items,headerDifference=previousRowHeaders.length-this.headers.length;if(headerDifference>0){this.headers=previousRowHeaders.slice(0,headerDifference).concat(this.headers);if(this.titles.length===this.headers.length){break;}}}}}},size:function size(){var h=this.headers;return(!h?0:h.length);},getHeader:function getHeader(pos){var headers=this.headers,header=headers&&headers[pos],titleUnitIndex=pos;if(header&&mstrApp&&mstrApp.isVI){titleUnitIndex=isNaN(header.tui)?header.ui:header.tui;}return header&&new mstrmojo.models.template.Header({h:header,t:this.titles[this.isRow?titleUnitIndex:this.i]});},getCSS:function getCSS(pos){var h=this.headers;return h&&this.data.css[h[pos].cni].n;},getHeaderCell:function(pos){var h=this.headers;return h&&h[pos];}});}());