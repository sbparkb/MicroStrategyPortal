(function(){mstrmojo.requiresCls("mstrmojo.Box");mstrmojo.maps.jsmap.InfoWindow=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.maps.jsmap.InfoWindow",rowIndex:-1,init:function init(props){this._super(props);},start:function start(){this.render();this.update(this.rowIndex);},update:function update(rowIndex){this.rowIndex=rowIndex;var res=this.containerNode,innerHTML='<table><tbody><tr><td colspan="2" class="androidMap-infoWindowTitle">'+mapDataObj.getAttributeName(rowIndex)+"</td></tr>";innerHTML+=this.getMetricInfo();innerHTML+="</tbody></table>";res.innerHTML=innerHTML;},getMetricInfo:function getMetricInfo(){var metricData=JSON.parse(mapDataObj.getMetricValues(this.rowIndex).toString()),res="",mdLen=metricData.length;for(var i=0;i<mdLen;i++){var item=metricData[i];if(item.ts==4){res+='<tr><td class="androidMap-infoWindowText"> '+mapDataObj.getMetricName(i)+' </td><td><img src="'+item.v+'"></td></tr>';}else{var fColor="black",bColor="transparent";if(mapDataObj.useThresholds()){fColor=mapDataObj.getThresholdColorRGB(item.fcti);bColor=mapDataObj.getThresholdColorRGB(item.bcti);}res+='<tr><td class="androidMap-infoWindowText">'+mapDataObj.getMetricName(i)+'</td><td style="background-color:'+bColor+";color:"+fColor+';">'+item.v+"</td></tr>";}}return res;}});})();