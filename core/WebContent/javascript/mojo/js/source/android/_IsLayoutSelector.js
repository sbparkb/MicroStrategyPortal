(function(){mstrmojo.requiresCls("mstrmojo.fx","mstrmojo.dom");var $DOM=mstrmojo.dom;function positionSelector(visible,animate){var domNode=this.domNode,domNodeStyle=domNode&&domNode.style;if(domNodeStyle){var isBottom=(this.position==="bottom"),styleProperty=(isBottom)?"bottom":"top",y=(isBottom)?0:this.parent.titleNode.offsetHeight;if(!visible){y-=domNode.offsetHeight;}if($DOM.isWinPhone){if(animate){var anim={props:{},duration:400,target:domNode};anim.props[styleProperty]={isStyle:true,start:parseInt(domNodeStyle[styleProperty],10),stop:y,suffix:"px",ease:mstrmojo.ease.linear};(new mstrmojo.fx.AnimateProp(anim)).play();return ;}}else{domNodeStyle[$DOM.CSS3_TRANSITION_PROPERTY]=(animate)?styleProperty:"none";}domNodeStyle[styleProperty]=y+"px";}}mstrmojo.android._IsLayoutSelector={_mixinName:"mstrmojo.android._IsLayoutSelector",markupMethods:{onwidthChange:function(){this.domNode.style.width=this.width||"auto";}},position:"bottom",target:null,ontargetChange:function ontargetChange(){var target=this.target;if(target){target.attachEventListener("layoutStatusChange",this.id,function(evt){var isFullScreen=evt.fullScreen;this._delayPositioning=(isFullScreen&&(!this.hasRendered||!this.visible));var currentLayout=evt.current;if(currentLayout){this.renderSelector(evt.layouts,currentLayout);}this.set("visible",!isFullScreen);});}},postCreate:function(){mstrApp.rootView.attachEventListener("orientationChange",this.id,function(){positionSelector.call(this,this.visible,false);});},renderSelector:function renderSelector(layouts,currentLayout){return(layouts.length>1);},toggleSelectorDisplay:function toggleSelectorDisplay(show,slot){var display=(show)?this.cssDisplay:"none";slot=slot||this.domNode;if(slot){slot.style.display=display;}else{this.cssText="display:"+display+";";}},postBuildRendering:function postBuildRendering(){positionSelector.call(this,true,false);return this._super();},onRender:function onRender(){if(this._delayPositioning){var id=this.id;window.setTimeout(function(){var selector=mstrmojo.all[id];if(selector&&selector.hasRendered){selector._delayPositioning=false;selector.onvisibleChange({value:false});}},1000);}if(this._super){this._super();}},onvisibleChange:function onvisibleChange(evt){if(!this._delayPositioning){positionSelector.call(this,evt.value,true);}}};}());