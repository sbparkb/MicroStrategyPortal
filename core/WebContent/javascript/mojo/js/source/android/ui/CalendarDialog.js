(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.android.ui.CalendarMarkupBuilder","mstrmojo.ui.MobileCheckList","mstrmojo._TouchGestures","mstrmojo.android.Dialog");var $CSS=mstrmojo.css,DIALOG_CSS="mstrmojo-CalDialog";mstrmojo.android.ui.CalendarDialog=mstrmojo.declare(mstrmojo.android.Dialog,null,{scriptClass:"mstrmojo.android.ui.CalendarDialog",markupBuilder:undefined,requiredOrientation:0,init:function(props){this._super(props);var calendar=this.calendar,popDimensions=this.popDimensions=this.getPopupDimensions(),requiredOr=this.requiredOrientation,currentLockedOr=mstrMobileApp.getLockedOrientation();if(requiredOr!==0&&requiredOr!==currentLockedOr){mstrMobileApp.lockOrientation(requiredOr);this._prevOr=currentLockedOr;}calendar.markupBuilder=this.markupBuilder;calendar.width=popDimensions.w+"px";calendar.height=popDimensions.h+"px";calendar.layoutConfig={h:{yearNode:"100px"},w:{yearNode:"100%"}};calendar.defaultCSS=this.cssClass;calendar.target=new mstrmojo.ui.MobileCheckList({alias:"contentList",cssDisplay:""});$CSS.addWidgetCssClass(this,[DIALOG_CSS]);},getPopupDimensions:function getPopupDimensions(){var screenDimensions=mstrApp.getScreenDimensions();return{h:screenDimensions.h*0.9,w:Math.min(screenDimensions.w*0.85,720)};},getCancelBtnFn:function getCancelBtnFn(){var calList=this.calendar.target,dialog=calList.parent,items=calList.getSelectedItems(),returnVal=true;if(items&&items.length>0){calList.set("items",[]);dialog.resizeDialog();returnVal=false;}else{dialog.close();}return returnVal;},close:function close(){this._super();var prevOrientation=this._prevOr;if(prevOrientation!==undefined){if(prevOrientation===0){mstrMobileApp.releaseOrientation();}else{mstrMobileApp.lockOrientation(prevOrientation);}delete this._prevOr;}}});}());