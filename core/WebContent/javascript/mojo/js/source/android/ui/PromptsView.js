(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.android.ui.PromptsList","mstrmojo.android.ui.Button");mstrmojo.requiresDescs(2550,3649,3650);var $DESC=mstrmojo.desc,$100="100%";function passToParent(methodName,args){var parent=this.parent;if(parent[methodName]){parent[methodName].apply(parent,args);return true;}return false;}var $PV=mstrmojo.android.ui.PromptsView=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.android.ui.PromptsView",markupString:'<div id="{@id}" class="mstrmojo-Prompts {@cssClass}" style="{@cssText}"><div class="summary"></div><div class="command"></div></div>',markupSlots:{summaryNode:function(){return this.domNode.firstChild;},cmdNode:function(){return this.domNode.lastChild;}},layoutConfig:{h:{summaryNode:$100,cmdNode:"90px"},w:{summaryNode:$100,cmdNode:$100}},init:function init(props){this._super(props);var prompts=this.prompts,supportedPrompts=this.supportedPrompts;if(prompts&&supportedPrompts){var cmdButton=mstrmojo.android.ui.Button.newButton((prompts.host.st===14081)?$DESC(3650,"Run Document"):$DESC(3649,"Run Report"),function(){this.parent.controller.answerPrompts();},{slot:"cmdNode",alias:"cmdButton",cssClass:"mstrmojo-GlowButton",ignoreLayout:true,enabled:mstrMobileApp.isOnline(),glowClass:"glow"});var publisher=mstrmojo.publisher;publisher.subscribe(publisher.NO_SRC,publisher.CONNECTIVITY_CHANGED_EVENT,function(isOnline){this.cmdButton.set("enabled",isOnline);},this.id);this.addChildren([cmdButton]);if(mstrApp.isTablet()){supportedPrompts=[{title:$DESC(2550,"FILTERS"),isTtl:true}].concat(supportedPrompts);}this.promptList.set("items",supportedPrompts);}},rootOrientationChange:function rootOrientationChange(){if(!this.ignoreRotation){mstrApp.closeDialog();}},children:[{scriptClass:"mstrmojo.android.ui.PromptsList",slot:"summaryNode",alias:"promptList",canItemLinger:function canItemLinger(item){return !mstrApp.isTablet()||item.getStyle()===mstrmojo.prompt.WebPrompt.STYLES.SWITCH;}}],openPrompt:function openPrompt(fnOpen){var controller=this.controller;if(!controller.prevController&&!controller.nextController){return ;}this.ignoreRotation=true;if(!passToParent.call(this,"openPrompt",[fnOpen])){fnOpen();}var me=this;window.setTimeout(function(){delete me.ignoreRotation;},300);},closePrompt:function closePrompt(){passToParent.call(this,"closePrompt");}});mstrmojo.DPIManager.registerClass($PV,"h","cmdNode",{160:60,213:60,240:90,320:120});}());