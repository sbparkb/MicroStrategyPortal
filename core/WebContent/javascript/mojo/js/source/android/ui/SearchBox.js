(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo._TouchGestures","mstrmojo.css","mstrmojo.dom");var SEARCH_DELAY=500,$CSS=mstrmojo.css;var delayStrategy={onkeyup:function(sv,sp){var hndl=sv._searchTimer;if(hndl){window.clearTimeout(hndl);}sv._searchTimer=window.setTimeout(function(){sv.searchFunc(sp);delete sv._searchTimer;},SEARCH_DELAY);},onEnter:function(sv,sp){sv.searchFunc(sp);}};mstrmojo.android.ui.SearchBox=mstrmojo.declare(mstrmojo.TextBox,[mstrmojo._TouchGestures],{searchResult:null,searchStrategy:delayStrategy,searchFunc:mstrmojo.emptyFn,clearFunc:mstrmojo.emptyFn,monitorInputs:true,clearSearch:function clearSearch(){this.clearFunc();},onkeyup:function onkeyup(){},onEnter:function onEnter(){this.searchStrategy.onEnter(this,this.searchValue||this.value);delete this.searchValue;},onvalueChange:function onvalueChange(){$CSS.toggleClass(this.domNode,"clear",!!this.value.length);},touchTap:function(evt){var domNode=this.domNode,e=evt.evt;if(evt.pageX-mstrmojo.dom.position(e.target).x>(domNode.offsetWidth-parseInt($CSS.getStyleValue(domNode,"paddingRight"),10))){this.set("value","");this.clearSearch();}}});}());