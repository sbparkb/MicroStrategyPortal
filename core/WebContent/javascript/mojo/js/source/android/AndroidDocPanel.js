(function(){mstrmojo.requiresCls("mstrmojo.DocPanel","mstrmojo._TouchGestures","mstrmojo._HasTouchScroller","mstrmojo._CanGrowOrShrink","mstrmojo.hash");function adjustForInfoWindow(){var containerNode=this.containerNode;if(containerNode){var fmts=this.getFormats(),parentSize=this._parentSize,h=Math.max((parseInt(fmts.height,10)||0),parentSize.height),w=Math.max((parseInt(fmts.width,10)||0),parentSize.width),containerNodeStyle=containerNode.style;containerNodeStyle.width=w+"px";containerNodeStyle.height=h+"px";}}var androidPanel=mstrmojo.android.AndroidDocPanel=mstrmojo.declare(mstrmojo.DocPanel,[mstrmojo._CanGrowOrShrink,mstrmojo._TouchGestures,mstrmojo._HasTouchScroller],{scriptClass:"mstrmojo.AndroidDocPanel",scrollerSetupDelay:0,postBuildRendering:function postBuildRendering(){if(this._isInfWin){adjustForInfoWindow.call(this);}return this._super();},updatePanelDimensions:function updatePanelDimensions(left,height,width,isInfoWindow){this._parentSize={height:height,width:width};var px="px";if(isInfoWindow){this._isInfWin=true;adjustForInfoWindow.call(this);}this.cssText="left:"+left+"px;top:0;height:"+height+px+";width:"+width+px+";";if(this.hasRendered){var ps=this.domNode.style;ps.left=left+px;ps.height=height+px;ps.width=width+px;this.updateScroller();}},update:function update(node){this.scrollerConfig={bounces:false,showScrollbars:false};},onchildRenderingChange:function onchildRenderingChange(obj){this._super(obj);if(this.getFormats().overflow==="auto"){this.performCanGrowCanShrink([(obj&&obj.src)||obj],(!!this._isInfWin&&!mstrApp.isTablet()));}},touchTap:function touchTap(){var ctrl=this.controller;if(ctrl&&ctrl.viewTap){ctrl.viewTap();}},getCanGrowShrinkNode:function getCanGrowShrinkNode(){return this.containerNode;},afterCanGrowShrink:function canGrowShrinkPerformed(){this.updateScroller();},updateScrollerConfig:function updateScrollerConfig(){var cfg=this._super();if(this.getFormats().overflow==="auto"){var scrollEl=this.containerNode,widgetSize=this._parentSize,iterator={Height:{a:"y",s:"v"},Width:{a:"x",s:"h"}},offset={};cfg.scrollEl=scrollEl;mstrmojo.hash.forEach(iterator,function(info,dimension){var size=widgetSize[dimension.toLowerCase()];var offsetEnd=Math.max(scrollEl["offset"+dimension]-size,0),enableDimensionScroll=cfg[info.s+"Scroll"]=(offsetEnd!==0);if(enableDimensionScroll){offset[info.a]={start:0,end:offsetEnd};}});cfg.offset=offset;cfg.origin=cfg.origin||{x:0,y:0};}return cfg;}});var formatHandlers=androidPanel.prototype.formatHandlers,nodeName="containerNode";formatHandlers[nodeName]=formatHandlers[nodeName].concat("D");}());