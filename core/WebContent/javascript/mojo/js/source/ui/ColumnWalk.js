(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash","mstrmojo.Box","mstrmojo.array","mstrmojo._HasLayout","mstrmojo.ui.ColumnContainer");var $DOM=mstrmojo.dom,$HASH=mstrmojo.hash,$A=mstrmojo.array;mstrmojo.ui.ColumnWalk=mstrmojo.declare(mstrmojo.Box,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.ui.ColumnWalk",markupString:'<div id="{@id}" class="mstrmojo-ui-ColumnWalk cf {@cssClass}" mstrAttach:click></div>',layoutConfig:{h:{containerNode:"100%"},xt:true},currentColumn:-1,addNextColumn:function addNextColumn(props){var children=this.children||[],length=children.length,lastColumnContainer=children[length-1];var nextColumnContainer=this.addChildren([$HASH.copy(props,{scriptClass:"mstrmojo.ui.ColumnContainer",idx:length})])[0];if(lastColumnContainer){lastColumnContainer.set("next",nextColumnContainer);}},onclick:function onclick(evt){var target=evt.getTarget();if(target){var children=this.children;$A.forEach(children,function(child,idx){if($DOM.contains(child.domNode,target,true,child.domNode)){this.set("currentColumn",idx);}},this);}},oncurrentColumnChange:function oncurrentColumnChange(evt){var children=this.children,previousContainer=children[evt.valueWas],currentContainer=children[this.currentColumn],PROPERTY_NAME="active";if(previousContainer){previousContainer.set(PROPERTY_NAME,false);}currentContainer.set(PROPERTY_NAME,true);},removeTrailingContainer:function removeTrailingContainer(columnIdx){var me=this,children=this.children;if(!children||columnIdx>=children.length-1){return ;}$A.forEach(children.slice(columnIdx+1),function(container){me.removeAndDestroyChild(container);});if(columnIdx>=0){children[columnIdx].set("next",null);}},insertAndRemoveTrailing:function insertAndRemoveTrailing(columnIdx,props){this.removeTrailingContainer(columnIdx);this.addNextColumn(props);}});}());