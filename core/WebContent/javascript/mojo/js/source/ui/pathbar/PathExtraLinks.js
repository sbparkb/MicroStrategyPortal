(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.ui.pathbar.PathPopup");function shouldClosePopup(name){return(name!=="myPage");}function createPopup(){this.addDisposable(this.popup=new mstrmojo.ui.pathbar.PathPopup({id:"mstrAccountSCList",cssClass:"mstrShortcutsListPopup mstrAccountSCListPopup",targetNode:this.domNode,offsetTop:0,children:[{scriptClass:"mstrmojo.ui.pathbar.List",alias:"menuItems",useRichTooltip:true,postclick:function postclick(){if(shouldClosePopup(this.selectedItem.name)){this.parent.close();}},items:mstrApp.pathInfo.el,getTooltipText:function getTooltipText(item){if(item&&item.name==="save"){return mstrmojo.desc("14684","Publish current layout as default layout for other users");}else{return null;}},getItemMarkup:function(){return'<a class="item {@name} {@cls} {@newGroup}" idx="{@idx}" onclick="{@onclick}" href="#" target="{@target}"><span class="icon"></span><span>{@n}</span></a>';},getItemProps:function getItemProps(item,idx){var isSelected=!!item.selected;return{sel:isSelected,cls:isSelected?"selected":"",newGroup:!!item.grp?"grp":"",n:item.n,idx:idx,href:item.href,name:item.name,onclick:item.onclick||"return false;",target:item.target||"_self"};}}]}));}mstrmojo.ui.pathbar.PathExtraLinks=mstrmojo.declare(mstrmojo.Widget,null,{userName:null,init:function init(props){var me=this;this._super(props);var mItems=this.items;this.userName=mItems[0].user;mstrmojo.array.forEach(this.items,function(item){if(item.name==="save"){item.onclick="mstrmojo.all."+me.id+".raiseEvent({name:'saveDefaultCard'})";item.en=false;}if(item.name==="load"){item.onclick="mstrmojo.all."+me.id+".raiseEvent({name:'loadDefaultCard'})";item.en=false;}if(item.name==="myPage"){item.en=false;}});mItems.splice(0,1);},scriptClass:"mstrmojo.ui.pathbar.PathExtraLinks",markupString:'<div id="mstrPathAccount" mstrAttach:click class="mstrLink" style="cursor:pointer;"><span class="mstrAccountName" title="{@userName}">{@userName}</span><div id="mstrAccountMenu" class="mstrAccountMenu path"></div></div>',popup:null,postBuildRendering:function postBuildRendering(){createPopup.call(this);},onclick:function onclick(){var mPopup=this.popup;if(!mPopup.isOpen){mPopup.open();}}});}());