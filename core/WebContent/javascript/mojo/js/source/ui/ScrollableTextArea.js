(function(){mstrmojo.requiresCls("mstrmojo.TextArea","mstrmojo.ui._HasScroller");function adjustHeightForScrollbars(){var inputNode=this.inputNode,style=inputNode.style,scrollNode=this.scrollNode,scrollTop=scrollNode.scrollTop,height=parseInt(style.height),scrollHeight=inputNode.scrollHeight,isHeightIncreased=height<scrollHeight,isHeightNeedDecrease=height>scrollNode.clientHeight;if(isHeightIncreased){style.height=scrollHeight+"px";}else{if(isHeightNeedDecrease){var tempHeight=height;while(tempHeight>0&&inputNode.offsetHeight===inputNode.scrollHeight){style.height=--tempHeight+"px";}style.height=tempHeight+1+"px";}}if(isHeightIncreased||isHeightNeedDecrease){this.updateScrollbars();}if(isHeightIncreased){scrollNode.scrollTop=scrollTop+(scrollHeight-height);}}mstrmojo.ui.ScrollableTextArea=mstrmojo.declare(mstrmojo.TextArea,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.ScrollableTextArea",markupSlots:{scrollNode:function(){return this.domNode.firstChild;},inputNode:function(){return this.domNode.firstChild.firstChild;}},cssDisplay:"block",init:function init(props){this.markupString='<div class="mstrmojo-ui-TextArea {@cssClass}"><div class="ta-sc">'+this.markupString+"</div></div>";this._super(props);},postBuildRendering:function postBuildRendering(){this._super();var inputNode=this.inputNode,style=inputNode.style;style.height=inputNode.scrollHeight+"px";},onRender:function onRender(){this._super();adjustHeightForScrollbars.call(this);},prevalueChange:function prevalueChange(){if(!this.hasRendered){return ;}adjustHeightForScrollbars.call(this);}});})();