(function(){mstrmojo.hash=mstrmojo.provide("mstrmojo.hash",{copy:function copy(src,dest){if(src){dest=dest||{};var n;for(n in src){dest[n]=src[n];}}return dest;},copyProps:function copyProps(ns,src,dest){dest=dest||{};if(src){var length=(ns&&ns.length)||0,i;for(i=0;i<length;i++){var n=ns[i];if(src[n]!==undefined){dest[n]=src[n];}}}return dest;},forEach:function forEach(hash,f,scope){if(hash){var key;for(key in hash){if(scope){if(f.call(scope,hash[key],key,hash)===false){break;}}else{if(f(hash[key],key,hash)===false){break;}}}}return hash;},walk:function walk(path,context){if(!context){context=mstrmojo.global;}var parts=path.split(".");if(parts.length===1){return context[path];}var length=(parts&&parts.length)||0,i;for(i=0;i<length;i++){context=context[parts[i]];if(!context){break;}}return context;},isEmpty:function isEmpty(hash){if(!hash){return true;}var k;for(k in hash){if(hash[k]!==null&&hash[k]!==undefined){return false;}}return true;},clear:function clear(h){if(h){var k;for(k in h){delete h[k];}}return h;},any:function any(hash,keyOrValue){var rtn;if(hash){var keys=this.keyarray(hash);if(keys.length>0){var k=keys[0];rtn=keyOrValue?k:hash[k];}}return rtn;},clone:function clone(obj){if(!obj){return null;}var c;if(obj.constructor===Array){c=obj.concat();var first=c[0];if(first&&typeof first==="object"){var len=c.length,i;for(i=0;i<len;i++){c[i]=this.clone(obj[i]);}}}else{c={};var k;for(k in obj){var v=obj[k];if(v&&typeof v==="object"){c[k]=this.clone(v);}else{c[k]=v;}}}return c;},cloneArray:function cloneArray(arr){var arr2=[],len=(arr&&arr.length)||0,i;for(i=0;i<len;i++){arr2[i]=this.clone(arr[i]);}return arr2;},keyarray:function kyarr(h,nums){var arr=[],k;if(h){if(Object.keys&&!nums){arr=Object.keys(h);}else{for(k in h){arr.push(nums?Number(k):k);}}}return arr;},valarray:function varr(h){var arr=[];if(h){var k;for(k in h){arr.push(h[k]);}}return arr;},equals:function eq(h1,h2){var $HASH=mstrmojo.hash,rtn=(h1&&h2)||(!h1&&!h2&&(h1===h2));if(rtn&&h1){rtn=(h1.constructor===h2.constructor);if(rtn){if(h1.constructor===Array){var len=h1.length;rtn=(len===h2.length);if(rtn&&len){var i;for(i=0;i<len;i++){rtn=rtn&&$HASH.equals(h1[i],h2[i]);}}}else{if(typeof h1==="object"){var h1k=$HASH.keyarray(h1),h2k=$HASH.keyarray(h2);rtn=h1k.length===h2k.length;if(rtn){var p;for(p in h1){rtn=rtn&&($HASH.equals(h1[p],h2[p]));}}}else{rtn=(h1===h2);}}}}return rtn;},obj2array:function obj2array(o){var n;for(n in o){var p=o[n];if(p&&typeof p==="object"){o[n]=this.obj2array(p);}}var isArray=o.isArray;if(isArray!==undefined&&isArray===true){var r=[],len=o.length,i;for(i=0;i<len;i++){r.push(o[i]);}return r;}return o;},min:function min(h,vals,nums){var m=null,k;if(h){for(k in h){var v=vals?h[k]:k;if(nums){v=Number(v);}if((m===null)||(v<m)){m=v;}}}return m;},max:function max(h,vals,nums){var m=null,k;if(h){for(k in h){var v=vals?h[k]:k;if(nums){v=Number(v);}if((m===null)||(v>m)){m=v;}}}return m;},make:function make(h,c,props){if(!h||!c){return null;}if(h.attachEventListener){return h;}if(c.makeObservable){h=c.makeObservable(h,props)||h;}else{this.copy(c.prototype,h);if(h.init){h=h.init(props)||h;}}return h;},mergeHashes:function mergeHashes(data,delta){data=this.clone(data)||{};if(delta){mstrmojo.array.forEach(mstrmojo.array.distinct(this.keyarray(delta).concat(this.keyarray(data))),function(k){var dataValue=data[k],deltaValue=delta[k];if(!dataValue){data[k]=deltaValue;}else{if(dataValue&&deltaValue){if(typeof dataValue==="object"){if(dataValue.constructor===Array){data[k]=dataValue.concat(deltaValue);}else{data[k]=this.mergeHashes(dataValue,deltaValue);}}else{data[k]=deltaValue;}}}},this);}return data;}});}());