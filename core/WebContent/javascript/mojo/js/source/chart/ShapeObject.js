(function(){mstrmojo.requiresClsP("mstrmojo.chart.enums","EnumCollectionType");mstrmojo.requiresClsP("mstrmojo.chart.model.enums","EnumDSSGraphObject","EnumDSSGraphFillBevelEffect","EnumDSSGraphFillEffect");mstrmojo.requiresClsP("mstrmojo.chart","Rect2D","Point2D","GraphObject","FormatFill","ChartContext");var $C=mstrmojo.chart,$CHART_ENUMS=$C.enums,$CT=$CHART_ENUMS.EnumCollectionType,$M=mstrmojo.chart.model,$MODEL_ENUMS=$M.enums,$GO=$MODEL_ENUMS.EnumDSSGraphObject,$BE=$MODEL_ENUMS.EnumDSSGraphFillBevelEffect,$FE=$MODEL_ENUMS.EnumDSSGraphFillEffect;mstrmojo.chart.ShapeObject=mstrmojo.declare(mstrmojo.chart.GraphObject,null,{scriptClass:"mstrmojo.chart.ShapeObject",init:function init(props){if(props.hasFill===undefined){props.hasFill=true;}if(props.hasLine===undefined){props.hasLine=true;}this._super(props);if(props.hasFill&&this.mTripleId.mObjectId!==$GO.DssGraphErrorBar){this.mFormatFillPtr=(this.mpParentObject===null)?this.mChartContextPtr.GetFormatFill(this.mTripleId,$CT.CT_NO_COLLECTION):this.mpParentObject.GetFormatFill();}},getRadialInfo:function getRadialInfo(){return null;},ApplyFillFormat:function ApplyFillFormat(iForceNoBevel){var fillColor,shouldUseThreshold=false,newFormatFill,thisFormatFill=this.mFormatFillPtr;if(thisFormatFill===null){return ;}if(iForceNoBevel===undefined){iForceNoBevel=false;}if(thisFormatFill.mAlpha===0){if(thisFormatFill.supportAdvancedFill((0))){var bevelType=thisFormatFill.mFillBevel.type;if(bevelType===$BE.DssGraphFillBevelSmoothEdge||bevelType===$BE.DssGraphFillBevelChiselEdge){if(!iForceNoBevel){this.FillBevel();}}}}fillColor=thisFormatFill.mSimpleColor;if(shouldUseThreshold){newFormatFill=new $C.FormatFill();newFormatFill.mSimpleColor=fillColor;newFormatFill.mFillType=$FE.DssGraphFillSimple;newFormatFill.mAlpha=thisFormatFill.mAlpha;newFormatFill.mDarkerFactor=thisFormatFill.mDarkerFactor;newFormatFill.mFillBevel=thisFormatFill.mFillBevel;newFormatFill.mFillGradient=thisFormatFill.getGradient();newFormatFill.mFillPattern=thisFormatFill.mFillPattern;thisFormatFill=this.mFormatFillPtr=newFormatFill;}switch(thisFormatFill.mFillType){case $FE.DssGraphFillSimple:thisFormatFill.FillSimple(this.mChartContextPtr);break;case $FE.DssGraphFillAdvancedWash:case $FE.DssGraphFillGenericGradient:if(thisFormatFill.mFillGradient.gradientType===9){var radialInfo=this.getRadialInfo();if(radialInfo){thisFormatFill.FillGradient(this.mChartContextPtr,radialInfo);return ;}}var rect=this.GetBoundingRect();thisFormatFill.FillGradient(this.mChartContextPtr,rect);break;case $FE.DssGraphFillPattern:break;case $FE.DssGraphFillPicture:case $FE.DssGraphFillUserPicture:break;default:break;}if(!iForceNoBevel){this.FillBevel();}},FillBevel:function FillBevel(){var rect,formatFill=this.mFormatFillPtr;if(formatFill.supportAdvancedFill(0)===false){return ;}switch(formatFill.mFillBevel.type){case $BE.DssGraphFillBevelNone:break;case $BE.DssGraphFillBevelSmoothEdge:case $BE.DssGraphFillBevelChiselEdge:if(this.SupportBevelEffect()){formatFill.FillEdgeType(this.mChartContextPtr,this.GetClockwisePolygon());}break;case $BE.DssGraphFillBevelDonut:case $BE.DssGraphFillBevelSphere:rect=this.GetBoundingRect();formatFill.FillDonutOrSphere(this.mChartContextPtr,rect,this.IsCircularShape());break;}},SupportBevelEffect:function SupportBevelEffect(){return true;},IsCircularShape:function IsCircularShape(){return false;},SetFormatFill:function SetFormatFill(iFormatFillPtr){this.mFormatFillPtr=iFormatFillPtr;},GetFormatFill:function GetFormatFill(){return this.mFormatFillPtr;},getFormatFromParent:function getFormatFromParent(){var parent=this.mpParentObject;this.mFormatLinePtr=parent.mFormatLinePtr;this.mFormatFillPtr=parent.GetFormatFill();},GetBoundingRectFromPolygon:function GetBoundingRectFromPolygon(irPolygon){var boundingRect=new $C.Rect2D(),polygonSize,i;boundingRect.x=irPolygon[0].x;boundingRect.y=irPolygon[0].y;var bottomRightX=irPolygon[0].x,bottomRightY=irPolygon[0].y;polygonSize=irPolygon.length;for(i=1;i<polygonSize;++i){boundingRect.x=Math.min(boundingRect.x,Math.floor(irPolygon[i].x));boundingRect.y=Math.min(boundingRect.y,Math.floor(irPolygon[i].y));bottomRightX=Math.max(bottomRightX,irPolygon[i].x);bottomRightY=Math.max(bottomRightY,irPolygon[i].y);}boundingRect.width=bottomRightX-boundingRect.x;boundingRect.height=bottomRightY-boundingRect.y;return boundingRect;}});}());