(function(){mstrmojo.requiresCls("mstrmojo.Base","mstrmojo.chart.FormatManager","mstrmojo.chart.DataSetImpl","mstrmojo.chart.ChartImpl","mstrmojo.chart.CEModuleMain");var $C=mstrmojo.chart,$CHART_COMMON=$C.common;mstrmojo.chart.MsiChart=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.chart.MsiChart",mUniversalProperty:null,createFormatManager:function createFormatManager(gpp,controller){var gpm,i,len;if(controller.map&&controller.map.gpp){gpm=controller.map.gpp;}else{gpm=new $CHART_COMMON.MapStructure();var elem;if(gpp){len=gpp.gp.length;for(i=0;i<len;++i){elem=gpp.gp[i];gpm.push([-3,elem.gsid,elem.goid,elem.gaid],elem.v);}}controller.map=controller.map||{};controller.map.gpp=gpm;}var mFormatManager=new $C.FormatManager({GraphPropertyMap:gpm});return mFormatManager;},createDataSet:function createDataSet(props){return new $C.DataSetImpl(props);},createChartFromFormatManager:function createChartFromFormatManager(dataset,formatManager,GDFFileName,useTimer){$C.gModuleMain.ResetGraphObjectMap();this.mUniversalProperty=this.mUniversalProperty||{};var oneChart=new $C.ChartImpl({mDatasetPtr:dataset,mFormatManager:formatManager,GDFFile:GDFFileName,UseTimer:useTimer});oneChart.mChartContextPtr.globalFormats=this.mUniversalProperty;return oneChart;},setController:function setController(controller){$C.gModuleMain.setController(controller);}});}());