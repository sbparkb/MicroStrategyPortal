(function(){mstrmojo.requiresClsP("mstrmojo.chart","RGBColor","FormatBase");mstrmojo.requiresClsP("mstrmojo.chart.enums","EnumFillType");mstrmojo.requiresClsP("mstrmojo.chart.model.enums","EnumDSSGraphFillBevelEffect","EnumDSSGraphGradientType","EnumDSSGraphPictureScaleType","EnumDSSGraphPictureFormat");var $C=mstrmojo.chart,$CHART_ENUMS=$C.enums,$FILL_TYPE=$CHART_ENUMS.EnumFillType,$M=mstrmojo.chart.model,$MODEL_ENUMS=$M.enums,$GT=$MODEL_ENUMS.EnumDSSGraphGradientType,$ST=$MODEL_ENUMS.EnumDSSGraphPictureScaleType,$PF=$MODEL_ENUMS.EnumDSSGraphPictureFormat,$BE=$MODEL_ENUMS.EnumDSSGraphFillBevelEffect;var kFillFlip_NoFlipping=0,kFillFlip_Horizontal=1,kFillFlip_Vertical=2,kFillFlip_Both=3,kFillFlip_BricksHorizontal=4,kFillFlip_BricksVertical=5;var kWhiteColor=$C.gWhite.ToInteger(),kBlackColor=$C.gBlack.ToInteger();var formatKeys=["mFillType","mAlpha","mSimpleColor","mDarkerFactor"],formatValues=[$FILL_TYPE.FT_SIMPLE,255,1],gradientKeys=["startGraphColor","endGraphColor","angle","horizontalOffset","verticalOffset","gradientType","endAlpha","intermediateColors","style"],gradientValues=[null,null,0,50,50,$GT.DssGraphGradientCircular,0,null,0],pictureKeys=["fillFlip","scaleType","pictureFormat","nameLength","pictureFilePtr","tripleId"],pictureValues=[kFillFlip_NoFlipping,$ST.DssGraphPictureScaleNone,$PF.DssGraphPicturePNG,0,null,null],bevelKeys=["type","depth","lightAngle","intensity"],bevelValues=[$BE.DssGraphFillBevelNone,0,270,10];var supportAdvancedFillEffect=false;mstrmojo.chart.FormatFill=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.chart.FormatFill",mFillType:$FILL_TYPE.FT_SIMPLE,mAlpha:255,mSimpleColor:null,mFillGradient:null,mFillPattern:null,mFillPicture:null,mFillBevel:null,mDarkerFactor:1,init:function init(props){var i,len=formatKeys.length;this._super(props);if(props&&props.Bare){for(i=0;i<len;++i){this[formatKeys[i]]=null;}}else{if(props&&props.SimpleColor!==undefined){this.mSimpleColor=props.SimpleColor;}else{this.mSimpleColor=kWhiteColor;}if(props&&props.Alpha!==undefined){this.mAlpha=props.Alpha;}else{this.mAlpha=255;}}if(supportAdvancedFillEffect){this.mFillPattern={foregroundColor:kWhiteColor,backgroundColor:kBlackColor,patternId:28};this.mFillPicture={fillFlip:kFillFlip_NoFlipping,scaleType:$ST.DssGraphPictureScaleNone,pictureFormat:$PF.DssGraphPicturePNG,nameLength:0,pictureFilePtr:null,tripleId:null};this.mFillBevel={type:$BE.DssGraphFillBevelNone,depth:0,lightAngle:270,intensity:10};}},transformToGradient:function transformToGradient(props){var newFormatFill=new $C.FormatFill({SimpleColor:this.SimpleColor,Alpha:this.mAlpha});newFormatFill.mFillType=$FILL_TYPE.FT_GRADIENT;var gradient=newFormatFill.getGradient();gradient.startGraphColor=props.StartGraphColor;gradient.endGraphColor=props.EndGraphColor;gradient.angle=props.Angle;gradient.gradientType=$GT.DssGraphGradientLinear;gradient.endAlpha=props.EndAlpha;gradient.style=props.Style;gradient.intermediateColors=props.Colors.slice(0);return newFormatFill;},getGradient:function getGradient(){if(this.mFillGradient===null){this.mFillGradient={startGraphColor:kBlackColor,endGraphColor:kWhiteColor,angle:0,horizontalOffset:50,verticalOffset:50,gradientType:$GT.DssGraphGradientCircular,endAlpha:0,intermediateColors:[],style:0};}return this.mFillGradient;},FillSimple:function FillSimple(chartContext){chartContext.FillSimple(this,this.mDarkerFactor,this.mSimpleColor,false);},FillGradient:function FillGradient(chartContext,rect){return chartContext.FillGradient(this,rect,this.mDarkerFactor);},EnhancedSeriesEffect:function EnhancedSeriesEffect(iAlpha,iBevelType,iDepth,iBevelAngle,iIntensity){this.mAlpha=iAlpha;if(supportAdvancedFillEffect){var fb=this.mFillBevel;fb.type=iBevelType;fb.depth=iDepth;fb.lightAngle=iBevelAngle;fb.intensity=iIntensity;}},FillEdgeType:function FillEdgeType(ipChartContext,irPolygon){ipChartContext.FillEdgeType(this,irPolygon);},FillDonutOrSphere:function FillDonutOrSphere(ipChartContext,irBoundingRect,iIsCircularShape){ipChartContext.FillDonutOrSphere(this,irBoundingRect,iIsCircularShape);},MakeDarker:function MakeDarker(iFactor){this.mDarkerFactor=iFactor;},RestoreColor:function RestoreColor(){this.mDarkerFactor=1;},supportAdvancedFill:function supportAdvancedFill(type){return supportAdvancedFillEffect;},restoreDefaults:function restoreDefaults(fullyRestore){var i,bevel,picture,gradient,pattern,len;if(fullyRestore){len=formatKeys.length;for(i=0;i<len;++i){this[formatKeys[i]]=formatValues[i];}this.mSimpleColor=kWhiteColor;gradient=this.mFillGradient={};len=gradient.length;for(i=0;i<len;++i){gradient[gradientKeys[i]]=gradientValues[i];}gradient.startGraphColor=kBlackColor;gradient.endGraphColor=kWhiteColor;if(supportAdvancedFillEffect){this.mFillPattern={foregroundColor:kWhiteColor,backgroundColor:kBlackColor,patternId:28};bevel=this.mFillBevel={};len=bevelKeys.length;for(i=0;i<len;++i){bevel[bevelKeys[i]]=bevelValues[i];}picture=this.mFillPicture={};len=pictureKeys.length;for(i=0;i<len;++i){picture[pictureKeys[i]]=pictureValues[i];}}}else{len=formatKeys.length;for(i=0;i<len;++i){if(this[formatKeys[i]]===null){this[formatKeys[i]]=formatValues[i];}}if(this.mSimpleColor===null){this.mSimpleColor=kWhiteColor;}if(this.mFillType===0){return ;}if(this.mFillGradient===null){this.mFillGradient={};}gradient=this.mFillGradient;len=gradientKeys.length;for(i=0;i<len;++i){if(gradient[gradientKeys[i]]===null||gradient[gradientKeys[i]]===undefined){gradient[gradientKeys[i]]=gradientValues[i];}}if(gradient.startGraphColor===null||gradient.startGraphColor===undefined){gradient.startGraphColor=kBlackColor;}if(gradient.endGraphColor===null||gradient.endGraphColor===undefined){gradient.endGraphColor=kWhiteColor;}if(supportAdvancedFillEffect){if(this.mFillPattern===null){this.mFillPattern={};}pattern=this.mFillPattern;if(pattern.foregroundColor===undefined||pattern.foregroundColor===null){pattern.foregroundColor=kWhiteColor;}if(pattern.backgroundColor===undefined||pattern.backgroundColor===null){pattern.backgroundColor=kBlackColor;}if(pattern.patternId===undefined||pattern.patternId===null){pattern.patternId=28;}if(this.mFillBevel===null){this.mFillBevel={};}bevel=this.mFillBevel;len=bevelKeys.length;for(i=0;i<len;++i){if(bevel[bevelKeys[i]]===null){bevel[bevelKeys[i]]=bevelValues[i];}}if(this.mFillPicture===null){this.mFillPicture={};}picture=this.mFillPicture;len=pictureKeys.length;for(i=0;i<len;++i){picture[pictureKeys[i]]=pictureValues[i];}}}}});}());