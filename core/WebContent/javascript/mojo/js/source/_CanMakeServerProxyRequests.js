(function(){mstrmojo.requiresCls("mstrmojo.android.ui.Button");var $BTN=mstrmojo.android.ui.Button.newButton;mstrmojo._CanMakeServerProxyRequests=mstrmojo.provide("mstrmojo._CanMakeServerProxyRequests",{_mixinName:"mstrmojo._CanMakeServerProxyRequests",cancelRequests:function cancelRequests(){return this.serverProxy.cancelRequests();},serverRequest:function serverRequest(params,callback,config){var app=this;try{callback=callback||{};config=config||{};config.projectId=config.projectId||this._currentProjId;config.mobileConfig=this.getConfiguration();var mthName=config.src||(arguments.callee&&arguments.callee.caller.name);var fnHideIndicator=function(flagToCheck){if(config[flagToCheck+"Wait"]){app.hideMessage();}if(config[flagToCheck+"Progress"]){mstrMobileApp.hideProgress();}};if(!config.silent){callback=mstrmojo.func.wrapMethods(callback,{submission:function(requestId,userInteractionRequired){if(!userInteractionRequired){if(config.showWait){app.showMessage();}if(config.showProgress){mstrMobileApp.showProgress(config.progressStateText,!!config.useRefreshProgress);}}},failure:function(res){fnHideIndicator("show");if(res&&res.requireDeviceCertificate){var okFn=function(){try{mstrApp.rootController.spawn(mstrApp.controllerFactory.newController("Settings",{}),{viewFn:"getCertificateAuthenticationFieldsView"});}catch(err){res.method=mthName;mstrApp.handleError(err,app);}};mstrmojo.confirm("Missing/invalid/expired device certificate detected. Would you like to get a new one?",{confirmBtn:{fn:okFn}});return ;}if(!(config.noErrorMessage||res.noErrorMessage)){res.method=mthName;mstrApp.handleError(res,app);}},complete:function(){fnHideIndicator("hide");},canceled:function(){fnHideIndicator("show");}});}try{app.serverProxy.request(callback,params,!!config.override,config);}catch(ex1){callback.failure(ex1);}}catch(ex2){mstrApp.handleError(ex2,this);}}});}());