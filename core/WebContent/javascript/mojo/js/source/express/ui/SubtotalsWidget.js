(function(){mstrmojo.requiresClsP("mstrmojo","ListBase","_IsList");mstrmojo.requiresCls("mstrmojo.ui.CheckList");mstrmojo.requiresDescs(2121,2122,2125,2127,2123,2124,2126,2128,2129,2130);var $DESC=mstrmojo.desc,$ARR=mstrmojo.array;mstrmojo.express.ui.SubtotalsWidget=mstrmojo.declare(mstrmojo.ui.CheckList,null,{scriptClass:"mstrmojo.express.ui.SubtotalsWidget",prevSelection:{},itemField:"v",selectionPolicy:"toggle",multiSelect:true,init:function init(props){this._super(props);mstrmojo.css.addWidgetCssClass(this,"mstrmojo-vi-subtotals");},_set_selectedItems:function(n,v){var selectedTypes=[],prevSelection=this.prevSelection={};$ARR.forEach((v||[]),function(item){selectedTypes.push(item.t);});$ARR.forEach(selectedTypes,function(type){prevSelection[type]=true;});this.setSelectedItems($ARR.filter(this.items,function(item){return $ARR.indexOf(selectedTypes,item.v)>-1;}));},getSubtotalTypes:function getSubtotalTypes(){var items=this.items,selectedIndices=this.selectedIndices,prevSelection=this.prevSelection,selectItems=items.filter(function(item,idx){return selectedIndices[idx]&&!prevSelection[item.v];}),clearItems=items.filter(function(item,idx){return !selectedIndices[idx]&&prevSelection[item.v];}),fnMap=function(item){return item.v;};return[selectItems.map(fnMap),clearItems.map(fnMap)];},items:[{n:$DESC(2121,"Total"),v:-10},{n:$DESC(2122,"Average"),v:-12},{n:$DESC(2125,"Maximum"),v:-14},{n:$DESC(2127,"Minimum"),v:-13},{n:$DESC(2123,"Count"),v:-11},{n:$DESC(2124,"Geometric Mean"),v:-20},{n:$DESC(2126,"Median"),v:-16},{n:$DESC(2128,"Mode"),v:-17},{n:$DESC(2129,"Product"),v:-15},{n:$DESC(2130,"Standard Deviation"),v:-18},{n:$DESC(2132,"Variance"),v:-19}]});}());