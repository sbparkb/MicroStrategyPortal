(function(){mstrmojo.requiresCls("mstrmojo.Magnifier","mstrmojo.hash");var SELECTED_CELL_CSS="xtab-selected-cell";mstrmojo._HasMagnifier={scriptClass:"mstrmojo._HasMagnifier",magnifiedNode:null,magnifier:null,magnifierHelper:null,onmagnifiedNodeChange:function(evt){var oldNd=evt.valueWas,newNd=evt.value;if(oldNd){mstrmojo.css.removeClass(oldNd,SELECTED_CELL_CSS);}if(newNd){mstrmojo.css.addClass(newNd,SELECTED_CELL_CSS);}},displayMagnifier:function dspMgnf(touch,config){var helper=this.magnifierHelper,touchObj=helper.resolveTouchEvent(touch),info,anchor,anchorPos;if(touchObj){anchor=touchObj.cell;anchorPos=touchObj.pos;if(anchor!=this.magnifiedNode){info=helper.resolveInfoToDisplay(touchObj);if(info){this.set("magnifiedNode",anchor);if(!this.magnifier){var me=this;this.magnifier=mstrApp.showPopup(mstrmojo.hash.copy({scriptClass:"mstrmojo.Magnifier",onClose:function(){me.magnifier=null;me.set("magnifiedNode",null);},helper:helper},config),anchor);}this.magnifier.updateContent();this.magnifier.resizeAndPosition(anchorPos);}else{if(this.magnifier){this.magnifier.close();}}}else{if(this.magnifier){this.magnifier.moveTo(anchorPos);}}}}};})();