(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.hash","mstrmojo.array");var $H=mstrmojo.hash,$A=mstrmojo.array;function raiseModelEditEvent(props){this.raiseEvent($H.copy(props,{name:"modelEdit"}));}mstrmojo.condTx.ActionModel=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.condTx.ActionModel",orgActions:null,target:null,_set_condTxs:function(n,v){this.condTxs=v;this.actions=v.actions;this.target=v.target;if(this.actions){this.saveOriginalData();}return true;},deleteAction:function deleteAction(action){var actionIdx=$A.indexOf(this.actions,action);if(-1!==actionIdx){this.actions.splice(actionIdx,1);}raiseModelEditEvent.call(this);},moveAction:function moveAction(srcIdx,dstIdx){var actions=this.actions,action=actions.splice(srcIdx,1);this.actions=actions.slice(0,dstIdx).concat(action,actions.slice(dstIdx,actions.length));raiseModelEditEvent.call(this);},duplicateAction:function duplicateAction(idx){var actions=this.actions;actions.push($H.clone(actions[idx]));raiseModelEditEvent.call(this);},saveOriginalData:function saveOriginalData(){this.orgActions=$H.copy(this.actions);},setConditionData:function setConditionData(conditionNode,newData){var data=conditionNode.data,isNew=data.isNew;$H.copy(newData,$H.clear(data));delete data.isNew;conditionNode.paint();conditionNode.tree.onConditionEdit(conditionNode,isNew);}});}());