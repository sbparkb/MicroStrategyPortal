(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.Editor","mstrmojo.TextBox","mstrmojo.Label","mstrmojo.Button");var $NWB=mstrmojo.Button.newWebButton;function closeAndDestroyEditor(){this.close();this.destroy();}mstrmojo.onetier.vi.prefs.LoginEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.onetier.vi.prefs.LoginEditor",title:mstrmojo.desc(13696,"Login Required"),cssClass:"mstrmojo-ot-prefs-LoginEditor",userName:undefined,password:undefined,loginTitleLabel:undefined,loginTitle:undefined,zIndex:99999,authenticateCredentials:function authenticateCredentials(userName,password){this.throwAbstractMethodError("authenticateCredentials");},onLoginCancelled:mstrmojo.emptyFn,init:function init(props){this._super(props);if(this.loginTitle){var loginTitleLabel=this.loginTitleLabel;loginTitleLabel.text=this.loginTitle;loginTitleLabel.visible=true;}},onPreClose:function onPreClose(){this.onLoginCancelled();return this._super();},children:[{scriptClass:"mstrmojo.Label",text:"",visible:false,cssClass:"login-title",alias:"loginTitleLabel",useRichTooltip:true,getItemTooltip:function(){var position=mstrmojo.dom.position(this.domNode),content="<div>"+mstrmojo.string.encodeHtmlString(this.text,true)+"</div>";return{cssClass:"vi-regular vi-tooltip-C loginEditorTooltip",content:content,top:position.y-10,left:position.x+position.w+9,enableHover:false};},showTooltip:function showTooltip(evt,win){this.richTooltip=this.getItemTooltip();if(this.richTooltip&&this.text.length>50){this.constructor.prototype.showTooltip.call(this,evt,win);}}},{scriptClass:"mstrmojo.TextBox",emptyText:mstrmojo.desc(5135,"User Name"),alias:"userName",cssDisplay:"block"},{scriptClass:"mstrmojo.TextBox",emptyText:mstrmojo.desc(18,"Password"),alias:"password",cssDisplay:"block",type:"password"}],buttons:[$NWB(mstrmojo.desc(26,"Login"),function(){var editor=this.parent.parent;editor.authenticateCredentials(editor.userName.value,editor.password.value);closeAndDestroyEditor.call(editor);},true),$NWB(mstrmojo.desc(221,"Cancel"),function(){var editor=this.parent.parent;editor.onLoginCancelled();closeAndDestroyEditor.call(editor);})]});}());