(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._Collapsible","mstrmojo.HBox","mstrmojo.Button","mstrmojo.Label");mstrmojo.CollapsibleContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Collapsible],{scriptClass:"mstrmojo.CollapsibleContainer",expanded:false,titleBar:null,title:"&nbsp;",markupString:'<div id="{@id}" class="mstrmojo-CollapsibleContainer {@cssClass}"><div class="{@titleCssClass}"></div><div class="mstrmojo-CollapsibleContainer-content"></div></div>',markupSlots:{titleBarNode:function(){return this.domNode.firstChild;},containerNode:function(){return this.domNode.lastChild;}},markupMethods:{onexpandedChange:function(){var _target=this.containerNode;if(this.expanded){this.expandDown(_target);}else{this.collapseUp(_target);}}},toggleExpandImg:function(dn){if(dn){if(this.expanded){mstrmojo.css.toggleClass(dn,"mstrmojo-expand-button",false);mstrmojo.css.toggleClass(dn,"mstrmojo-collapse-button",true);}else{mstrmojo.css.toggleClass(dn,"mstrmojo-collapse-button",false);mstrmojo.css.toggleClass(dn,"mstrmojo-expand-button",true);}}},preBuildRendering:function preBuildRendering(){var tb=this.titleBar;if(tb){tb.parent=this;}else{this.titleCssClass="mstrmojo-webserver-titlebar";}if(this._super){this._super();}},postBuildRendering:function postBuildRendering(){if(this._super){this._super();}this.animate=(navigator.appName!=="Microsoft Internet Explorer");var tb=this.titleBar,w;if(tb){w=mstrmojo.insert(tb);w.set(parent,this);}else{var cc=this,tt=this.title;w=mstrmojo.insert({scriptClass:"mstrmojo.HBox",parent:this,children:[{scriptClass:"mstrmojo.Button",cssText:"margin-left:2px;margin-right:10px;",postApplyProperties:function(){if(cc.expanded){this.iconClass="mstrmojo-collapse-button";}else{this.iconClass="mstrmojo-expand-button";}},onclick:function(){cc.set("expanded",!cc.expanded);cc.toggleExpandImg(this.domNode);}},{scriptClass:"mstrmojo.Label",text:tt}]});}w.render();this.titleBarNode.appendChild(w.domNode);}});}());