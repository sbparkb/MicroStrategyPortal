(function(){mstrmojo.BarcodeReader=mstrmojo.provide("mstrmojo.BarcodeReader",{_callback:null,_callbackId:0,readBarcodes:function readBarcodes(params,callback,name,selectedPrompts,displayKeypadView){this._callbackId++;var id=String(this._callbackId);this._callback=callback;var callbackStr="mstrmojo.BarcodeReader.onBarcodeResult";if(params){params.blockBegin=0;params.blockCount=-1;params.serverUrl=mstrApp.getConfiguration().getTaskUrlByProject(mstrApp.getCurrentProjectId());}mstrMobileApp.readBarcodes(id,name,(params&&JSON.stringify(params))||null,(selectedPrompts&&JSON.stringify(selectedPrompts))||null,displayKeypadView||null,callbackStr);},onBarcodeResult:function onBarcodeResult(id,resCode,value){var callback=this._callback;if(id!==this._callbackId||(!callback)){return ;}delete this._callback;if(resCode==-1){callback.success(value);}else{if(resCode!=0){callback.failure(value||"Error reading bare code.");}}}});}());