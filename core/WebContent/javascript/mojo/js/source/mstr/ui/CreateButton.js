(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.mstr.ui.CreateMenu","mstrmojo.ui.menus._HasMenuPopup");var $DOM=mstrmojo.dom;var menuID="mscld-create-menu";mstrmojo.mstr.ui.CreateButton=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.ui.menus._HasMenuPopup],{scriptClass:"mstrmojo.mstr.ui.CreateButton",markupString:'<div id="mscld-create" class="mstrmojo-CreateButton mscld-create analysis" title="'+mstrmojo.desc(3291,"Create")+'" mstrAttach:click><span class="mstrMenuItemcreate"><span id="mscld-create-menu" class="mscld-create-menu">'+mstrmojo.desc(3291,"Create")+"</span></span></div>",markupSlots:{menuButtonNode:function(){return this.domNode;}},onclick:function(){var createMenu=mstrmojo.all[menuID];if(!createMenu){createMenu=mstrmojo.insert({scriptClass:"mstrmojo.mstr.ui.CreateMenu",id:"mscld-create-menu",opener:this,alignMenuToRight:this.alignMenuToRight});}this.toggleButtonClass(true);createMenu.loadCreateMenu();},toggleButtonClass:function(open){if(this.domNode.className.indexOf("open")>0){mstrmojo.css.toggleClass(this.domNode,"open",open);}else{mstrmojo.css.toggleClass(this.domNode,"open",open);}},init:function(props){this._super(props);if(!this._listenerProc){var me=this;var fn=this._listenerProc=function(){me.browserResized();};$DOM.attachEvent(window,"resize",fn);}},browserResized:function(){if(this.timer){clearTimeout(this.timer);}var createMenu=mstrmojo.all[menuID];if(createMenu){this.timer=setTimeout(function(){createMenu.createMenu.adjustCornersForPopupOverflow();},100);}},destroy:function destroy(ignoreDom){if(this._listenerProc){$DOM.detachEvent(window,"resize",this._listenerProc);}this._super(ignoreDom);},onButtonClick:mstrmojo.emptyFn,onStatusClick:mstrmojo.emptyFn});}());