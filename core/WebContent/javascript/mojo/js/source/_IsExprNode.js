(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.expr","mstrmojo.css");var $ARR=mstrmojo.array,$EXPR=mstrmojo.expr,$CSS=mstrmojo.css;mstrmojo._IsExprNode=mstrmojo.provide("mstrmojo._IsExprNode",{ind:function ind(){var p=this.parent;if(p&&p.indent){var idx=this.childIndex();idx=(idx>-1&&(idx>0))?[idx,idx-1]:null;if(idx){p.indent(idx);}}},out:function out(){var p=this.parent;if(p&&p.outdent){var idx=this.childIndex();idx=(idx>-1&&(idx>0))?[idx,idx-1]:null;if(idx){p.outdent(idx);}}},andOrTxt:function _parentAndOrTxt(){var p=this.parent,pd=p&&p.data,t="",d=this.data;if(pd&&(pd.et===$EXPR.ET.ANDOR)&&pd.fn){t=pd.fn+(d&&d.not?"_"+$EXPR.FN.NOT:"");t=$EXPR.BRANCH_FNS[t];}return'<span class="mstrmojo-text mstrmojo-andor">'+t+"</span>";},getPrefixAndOrToolsMarkup:function(){return('<span class="mstrmojo-indent" onclick="mstrmojo.all[\'{@id}\'].ind()" mstrAttach:mouseover,mouseout>'+mstrmojo.desc(5895,"Group conditions")+'</span><span class="mstrmojo-outdent" onclick="mstrmojo.all[\'{@id}\'].out()" mstrAttach:mouseover,mouseout>'+mstrmojo.desc(5896,"Ungroup Conditions")+"</span>");},premousedown:function premousedown(evt){var el=mstrmojo.dom.eventTarget(evt.hWin,evt.e);if(this.prefixHoverNode&&mstrmojo.dom.contains(this.prefixHoverNode,el,false)){mstrmojo.dom.stopPropogation(evt.hWin,evt.e);return ;}if(this._super){this._super(evt);}},isSelectableArea:function isSelectableArea(el){return true;},childIndex:function idx(){var p=this.parent,pd=p&&p.data,nds=pd&&pd.nds,d=this.data;if(nds&&d){return $ARR.indexOf(nds,d);}return -1;},toggleGroupBorder:function toggleGroupBorder(isShow){$CSS.toggleClass(this.parent.itemsContainerNode.childNodes[this.childIndex()-1].firstChild,"upgroup",isShow);$CSS.toggleClass(this.domNode,"downgroup",isShow);}});}());