(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.Widget","mstrmojo.ui._HasScroller");var $MOJO=mstrmojo,$DOM=$MOJO.dom,$CSS=$MOJO.css;mstrmojo.gm.GMScroll=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.gm.GMScroll",cssClass:undefined,bodyClass:undefined,view:undefined,direction:undefined,markupString:'<div id="{@id}" class="gm-scrollbar"><div class="{@cssClass}"><div class="{@bodyClass}"></div></div></div>',markupSlots:{domContainer:function(){return this.domNode.firstChild;},domBody:function(){return this.domNode.firstChild.firstChild;}},init:function(props){this._super(props);},addScrollListener:function(){if(this.useNativeScrollBar()){$DOM.attachMarkupEvent(this.id,this.domContainer,"scroll");}},setupScrollNodes:function(){this.scrollNode=this.domContainer;},onscroll:function onscroll(){this.view.updateChartsPosition(this.direction,this.getCurrentPosition());this._super();},toggleHoverState:function(hover){$CSS.toggleClass(this.domNode,"hover",hover);},updateScrollPosition:function(p){var node=this.domContainer;if(this.direction==="v"){if(node.scrollTop===p){return ;}node.scrollTop=p;}else{if(node.scrollLeft===p){return ;}node.scrollLeft=p;}},updateScrollbars:function updateScrollbars(){var domNodeStyle=this.domNode.style,scrollNodeStyle;this._super();if(this.scrollNode){scrollNodeStyle=this.scrollNode.style;if(this.direction==="v"){if(scrollNodeStyle.overflowY==="scroll"){domNodeStyle.display="block";}else{domNodeStyle.display="none";}}else{if(scrollNodeStyle.overflowX==="scroll"){domNodeStyle.display="block";}else{domNodeStyle.display="none";}}}},getCurrentPosition:function(){var node=this.domContainer;if(this.direction==="v"){return node.scrollTop;}return node.scrollLeft;},useNativeScrollBar:function(){return !this.hasCustomScrollbar;}});}());