(function(){mstrmojo.requiresCls("mstrmojo.Obj");var constants=mstrmojo.DI.DIConstants,$ARR=mstrmojo.array;mstrmojo.DI.DIDatabaseHelper=mstrmojo.declare(mstrmojo.Obj,null,null);mstrmojo.DI.DIDatabaseHelper.getImportOptionByDBType=function getImportOption(dbType){switch(dbType){case constants.dbType.SAP:case constants.dbType.MSFT_AS:case constants.dbType.ESSBASE:case constants.dbType.TM1:case constants.dbType.PIG:return false;default:return true;}};mstrmojo.DI.DIDatabaseHelper.getSourceTypeByDBType=function getSrcType(dbType){switch(dbType){case constants.dbType.SAP:case constants.dbType.MSFT_AS:case constants.dbType.ESSBASE:case constants.dbType.TM1:return constants.xdaType.mdx;case constants.dbType.PIG:return constants.xdaType.ffsql;default:return -1;}};mstrmojo.DI.DIDatabaseHelper.filterDBById=function filterDBById(dbs,ids,mode){return $ARR.filter(dbs,function(db){var idx=$ARR.indexOf(ids,db.id),result;if(idx>-1){result=mode;}else{result=!mode;}return result;});};mstrmojo.DI.DIDatabaseHelper.filterDBByDispOption=function filterDBById(dbs,disp,dbIdExcludeFilter){return $ARR.filter(dbs,function(db){var isExcluded=false;if((db.disp&disp)===disp){$ARR.forEach(dbIdExcludeFilter,function(excludedDbId){if(db.id===excludedDbId){isExcluded=true;return false;}});return !isExcluded;}});};mstrmojo.DI.DIDatabaseHelper.getDBIds=function getDBIds(dbs){var res=[];$ARR.forEach(dbs,function(db){res=res.concat(db.id);});return res;};mstrmojo.DI.DIDatabaseHelper.getUniqueDBTypes=function getUniqueDBTypes(dbs){var res=[],idx;$ARR.forEach(dbs,function(db){idx=$ARR.indexOf(res,db.dbType);if(idx<0){res.push(db.dbType);}});return res;};mstrmojo.DI.DIDatabaseHelper.filterDBByAdminConfig=function(dbTypes,adminConfig){return $ARR.filter(dbTypes,function(dbType){var idx=$ARR.indexOf(adminConfig,dbType.id),ret=true;if(idx>=0){ret=false;}return ret;});};}());