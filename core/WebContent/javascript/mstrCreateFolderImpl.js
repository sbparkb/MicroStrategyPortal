mstrCreateFolderImplScript=true;mstrCreateFolderImpl.prototype=new mstrEditorImpl();mstrCreateFolderImpl.prototype.parentBone=null;mstrCreateFolderImpl.prototype.path=null;mstrCreateFolderImpl.prototype.CREATEFOLDER_ID="ed_create_saveasbean";mstrCreateFolderImpl.prototype.showCreateFolder=null;mstrCreateFolderImpl.prototype.createFolderFormId="CreateFolder";mstrCreateFolderImpl.prototype.folderNameFieldId="childFolderName";mstrCreateFolderImpl.prototype.createFolderForm=null;mstrCreateFolderImpl.prototype.folderNameInput=null;mstrCreateFolderImpl.prototype.okId="2002";mstrCreateFolderImpl.prototype.cancelId="cancelBtn";mstrCreateFolderImpl.prototype.saveasForm=null;mstrCreateFolderImpl.prototype.onload=function(){try{mstrEditorImpl.prototype.onload.call(this);var createFolderPane=document.getElementById(this.CREATEFOLDER_ID);if(createFolderPane){createFolderPane.onclick=new Function("e","return "+this.path+".onclick(e);");}if(this.createFolderForm){this.createFolderForm.onsubmit=new Function("e","return "+this.path+".onsubmit(e);");}if(this.folderNameInput){this.folderNameInput.onkeydown=new Function("e","return "+this.path+".onkeydown(e);");this.folderNameInput.setAttribute("autocomplete","off");}}catch(err){microstrategy.errors.log(err);return false;}};mstrCreateFolderImpl.prototype.onclick=function(e){try{if(!e){e=window.event;}var src=getEventTarget(e);if(src){switch(src.id){case this.okId:this.preserveSaveReportName();break;case this.cancelId:this.hide();break;}}return true;}catch(err){microstrategy.errors.log(err);return false;}};mstrCreateFolderImpl.prototype.onsubmit=function(e){try{var inputTag=this.folderNameInput;if(inputTag){var value=inputTag.value.replace(/ /g,"");if(value.length==0){showMessage({contents:microstrategy.descriptors.getDescriptor("3380"),elements:microstrategy.OK_BUTTON,okEval:"document.getElementById('"+inputTag.id+"').focus();",type:mstrMsgBoxImpl.MSG_WARNING});return false;}}appendPageState(this.createFolderForm);return true;}catch(err){microstrategy.errors.log(err);return false;}};mstrCreateFolderImpl.prototype.onkeydown=function(e){try{e=e||window.event;if(e.keyCode==13){if(this.createFolderForm){createHiddenInput(this.createFolderForm,this.okId,"OK");submitForm(this.createFolderForm);}e.cancelBubble=true;return false;}else{return true;}}catch(err){microstrategy.errors.log(err);}return true;};mstrCreateFolderImpl.prototype.initEditor=function(){try{mstrEditorImpl.prototype.initEditor.call(this);this.createFolderForm=document.getElementById(this.createFolderFormId);this.folderNameInput=document.getElementById(this.folderNameFieldId);this.elem.style.position="absolute";}catch(err){microstrategy.errors.log(err);return false;}};mstrCreateFolderImpl.prototype.show=function(){var me=this;window.setTimeout(function(){try{mstrEditorImpl.prototype.show.call(me);if(me.folderNameInput){me.folderNameInput.focus();if(bIsIE4){me.folderNameInput.select();}}}catch(err){microstrategy.errors.log(err);return false;}},10);};mstrCreateFolderImpl.prototype.moveToCenter=function(){try{var x=((getClientWidth()-getObjWidth(this.elem))/2);var y=(((getClientHeight()-getObjHeight(this.elem))/2)+getDocumentScrollTop());this.moveTo(x,y);}catch(err){microstrategy.errors.log(err);return false;}};mstrCreateFolderImpl.prototype.preserveSaveReportName=function(){var oReportForm=this.saveasForm;var oFolderForm=this.createFolderForm;oFolderForm.sReportName.value=oReportForm.saveAsReportName.value;oFolderForm.sReportDesc.value=oReportForm.saveAsReportDescription.value;};mstrCreateFolderImpl.prototype.setSaveasForm=function(oForm){this.saveasForm=oForm;};mstrCreateFolderImpl.prototype.showCurtain=function(zindex){document.body.appendChild(this.elem);mstrEditorImpl.prototype.showCurtain.call(this,zindex);};function mstrCreateFolderImpl(id){this.inherits=mstrEditorImpl;this.inherits(id);delete this.inherits;return this;}