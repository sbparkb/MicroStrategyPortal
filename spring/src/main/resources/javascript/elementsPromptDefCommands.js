mstrElementsPromptDefCommandsImpl.prototype=new mstrPromptDefCommandsImpl();mstrElementsPromptDefCommandsImpl.prototype.postProcessCommands=function(){try{mstrPromptDefCommandsImpl.prototype.postProcessCommands.call(this);if(this.promptObj.setPreDefElems!=null){var elems="";var option;for(i=0;i<this.promptObj.setPreDefElems.length;i++){option=this.promptObj.setPreDefElems.options[i];if(i!=0){elems=elems+this.UNIT_SEPARATOR;}elems=elems+option.id+this.ITEM_SEPARATOR+option.value;}this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_ELEMENTS_AVAILABLE_LIST,this.promptBeanPath,["4097016"],[elems])]);}if(this.promptObj.setAllElems=="1"){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_CLEAR_RESTRICTION,this.promptBeanPath,[],[])]);}if(this.promptObj.clearDefault){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_REMOVE_DEFAULT_ANSWER_ELEMENTS,this.promptBeanPath,["4097015"],["1"])]);}if(this.promptObj.setDefaultSelection){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_PROMPT_PROPERTY,this.promptBeanPath,["4097023","4097020","4097021","4097022"],[this.PROPERTIES_LAYOUT,this.PROPERTY_DEFAULTSELECTION,this.promptObj.setDefaultSelection,"0"])]);}}catch(err){microstrategy.errors.log(err);return false;}};mstrElementsPromptDefCommandsImpl.prototype.exec=function(cmdid,value,obj){try{switch(cmdid){case this.commands.setDefaultSelection:this.promptObj.setDefaultSelection=value;break;case this.commands.setPreDefElems:this.promptObj.setPreDefElems=obj;break;case this.commands.setAllElems:this.promptObj.setAllElems=value;break;case this.commands.clearDefault:this.promptObj.clearDefault=value;break;case this.commands.openAttSelector:this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.WebEventOpenSelectionBean,this.appPromptBeanPath,["92002"],[this.selMode.attribute])]);this.updateManager.flushAndSubmitChanges();break;case this.commands.openFilterSelector:this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.WebEventOpenSelectionBean,this.appPromptBeanPath,["92002"],[this.selMode.filter])]);this.updateManager.flushAndSubmitChanges();break;case this.commands.editPredefined:this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.WebEventOpenPromptsContainerBean,this.appPromptBeanPath,["92005"],["1"])]);this.updateManager.flushAndSubmitChanges(true);break;case this.commands.editDefault:this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.WebEventOpenPromptsContainerBean,this.appPromptBeanPath,["92005"],["0"])]);this.updateManager.flushAndSubmitChanges();break;case this.commands.setAttrObj:var obj=this.buildObjFromString(value,this.ITEM_SEPARATOR);this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_ATTRIBUTE,this.promptBeanPath,["4097012","4097013"],[obj.dssid,obj.n])]);break;case this.commands.setGeoLevel:if(value&&value!=""){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_GEOLEVEL,value);}break;case this.commands.setFilterObj:var obj=this.buildObjFromString(value,this.ITEM_SEPARATOR);this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_EP_FILTER,this.promptBeanPath,["4097017","4097018","4097019"],[obj.dssid,obj.tp,obj.n])]);break;default:mstrPromptDefCommandsImpl.prototype.exec.call(this,cmdid,value,obj);}}catch(err){microstrategy.errors.log(err);return false;}};function mstrElementsPromptDefCommandsImpl(){this.inherits=mstrPromptDefCommandsImpl;this.inherits();this.inherits=null;this.commands.setPreDefElems="ep_set_pre_list";this.commands.setAllElems="ep_all_elems";this.commands.clearDefault="clearDefault";this.commands.openAttSelector="openAttSelector";this.commands.openFilterSelector="openFilterSelector";this.commands.setAttrObj="setAttrObj";this.commands.setGeoLevel="setGeoLevel";this.commands.setFilterObj="setFilterObj";this.commands.setDefaultSelection="setDefaultSelection";this.promptObj.setPreDefElems=null;this.promptObj.setAllElems=null;this.promptObj.clearDefault=null;return this;}