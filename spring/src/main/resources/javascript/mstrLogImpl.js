mstrLogImplScript=true;mstrLogImpl.prototype=new Object();mstrLogImpl.prototype.logRecords=new Object();mstrLogImpl.prototype.logMode=0;mstrLogImpl.prototype.logLevel=0;mstrLogImpl.prototype.actionCounter=0;mstrLogImpl.prototype.currentAction=0;mstrLogImpl.ALERT_MODE=4;mstrLogImpl.JSP_MODE=2;mstrLogImpl.FILE_MODE=1;mstrLogImpl.ACTION_LEVEL=4;mstrLogImpl.METHOD_LEVEL=8;mstrLogImpl.MOVE_ITEMS=1;mstrLogImpl.ADD_ITEMS_TO_SUBSECTION=2;mstrLogImpl.SELECT_OBJECT=3;mstrLogImpl.MARQUEE_SELECT=4;mstrLogImpl.COPY=5;mstrLogImpl.PASTE=6;mstrLogImpl.ADD_TO_TEMPLATE=7;mstrLogImpl.REMOVE_FROM_TEMPLATE=8;mstrLogImpl.PIVOT=9;mstrLogImpl.CLICK_TOOLBAR=10;mstrLogImpl.UNDO=11;mstrLogImpl.REDO=12;mstrLogImpl.LOAD_TABS=13;mstrLogImpl.LOAD_FMT_TOOLBAR=14;mstrLogImpl.APPLY_EDITOR_CHANGES=15;mstrLogImpl.CUT=16;mstrLogImpl.SWAP_TEMPLATE_AXES=17;mstrLogImpl.prototype.show=function(){var records=this.logRecords;var url="";var names="";var times="";var compName="";var compTime="";var msg="";for(var rec in records){var record=records[rec];compName=record.getName();compTime=record.getTotalTime();names=names+compName+",";times=times+compTime+",";msg=msg+record.getFormattedMsg();}this.clear();if((this.logMode&mstrLogImpl.ALERT_MODE)!=0){if(msg.length>0){msg="Performance Report:\n"+msg;}else{msg="No components were analyzed.";}alert(msg);}if(((this.logMode&mstrLogImpl.JSP_MODE)!=0)||((this.logMode&mstrLogImpl.FILE_MODE)!=0)){var oForm=getObj("performanceForm");if(oForm){var aField=getObj("nm");aField.value=names;aField=getObj("tm");aField.value=times;if((this.logMode&mstrLogImpl.JSP_MODE)!=0){oForm.target="_new";}oForm.submit();}}};mstrLogImpl.prototype.start=function(methodId,actionId){var componentId=methodId;if(this.currentAction>0){componentId=this.currentAction+"_"+componentId+"_"+this.actionCounter;}else{if((this.logLevel&mstrLogImpl.ACTION_LEVEL)==0){actionId=0;}if(actionId&&actionId>0){this.actionCounter++;this.currentAction=actionId;componentId=this.currentAction+"_"+componentId+"_"+this.actionCounter;}}var timerStart=new Date();var startTime=timerStart.getTime();if(!this.logRecords[componentId]){var record=new PerfRecord(methodId,this.currentAction);record.setStartTime(startTime);this.logRecords[componentId]=record;}else{var record=this.logRecords[componentId];record.setStartTime(startTime);}};mstrLogImpl.prototype.stop=function(methodId,actionId){var componentId=methodId;if((this.logLevel&mstrLogImpl.ACTION_LEVEL)==0){actionId=0;}if((actionId&&actionId>0)||this.currentAction>0){componentId=this.currentAction+"_"+componentId+"_"+this.actionCounter;if(actionId==this.currentAction){this.currentAction=0;}}var record=this.logRecords[componentId];var stopTime=new Date();record.setStopTime(stopTime);};mstrLogImpl.prototype.clear=function(){this.logRecords=new Object();this.actionCounter=0;this.currentAction=0;};mstrLogImpl.prototype.shouldLog=function(level){return((this.logLevel&level)!=0);};function mstrLogImpl(){return this;}PerfRecord.prototype=new Object();PerfRecord.prototype.getFormattedMsg=function(){var msg="";var totalTime=this.getTotalTime();if(this.actionId>0){msg="Action: "+this.actionId+"\t";}msg=msg+"    Method: "+this.methodId+"\t";msg=msg+"Total Time: "+totalTime+"\t";msg=msg+"Times Called: "+this.timesCalled+"\n";return msg;};PerfRecord.prototype.setStartTime=function(startTime){if(this.startTimeIndex==0){this.startTime=startTime;}this.startTimeIndex++;};PerfRecord.prototype.setStopTime=function(stopTime){this.startTimeIndex--;if(this.startTimeIndex==0){this.calculateTotalTime(this.startTime,stopTime);this.timesCalled++;}};PerfRecord.prototype.getTotalTime=function(){return this.totalTime;};PerfRecord.prototype.calculateTotalTime=function(startTime,stopTime){this.totalTime=this.totalTime+(stopTime-startTime);};PerfRecord.prototype.getName=function(){var name="";if(this.actionId>0){name=this.actionId+"_";}name=name+this.methodId;return name;};function PerfRecord(methodId,actionId){this.startTimeIndex=0;this.methodId=methodId;this.actionId=actionId;this.timesCalled=0;this.totalTime=0;}