mstrUserAnalysisQuotaImplScript=true;mstrUserAnalysisQuotaImpl.prototype=new mstrEditorImpl();mstrUserAnalysisQuotaImpl.prototype.quotas=null;mstrUserAnalysisQuotaImpl.prototype.curProId=null;mstrSecurityFilterFrameImpl.prototype.dfnDivider=null;mstrUserAnalysisQuotaImpl.prototype.onload=function(){try{this.initializing=true;this.initEditor();this.initSettings();this.initializing=false;}catch(err){microstrategy.errors.log(err);return false;}};mstrUserAnalysisQuotaImpl.prototype.initSettings=function(){try{this.proSel=document.getElementById("projectsList");this.quoInput=document.getElementById("quotaInput");this.dRadio=document.getElementById("useDefaultQuota1");this.ndRadio=document.getElementById("useDefaultQuota0");this.curProId=this.proSel.options[0].value;this.proSel.onchange=new Function("e","return microstrategy.bone('"+this.id+"').onProjectChange(e);");this.quoInput.onkeyup=new Function("e","return microstrategy.bone('"+this.id+"').onQuotaInputChange(e);");this.dRadio.onclick=new Function("e","return microstrategy.bone('"+this.id+"').onQuotaRadioClick(e);");this.ndRadio.onclick=new Function("e","return microstrategy.bone('"+this.id+"').onQuotaRadioClick(e);");this.onProjectChange();}catch(err){microstrategy.errors.log(err);return false;}};mstrUserAnalysisQuotaImpl.prototype.onProjectChange=function(e){try{var index=this.proSel.selectedIndex?this.proSel.selectedIndex:0;var selOpt=this.proSel.options[index];this.curProId=selOpt.value;var quota=this.quotas[this.curProId];this.dRadio.checked=quota.isD;this.ndRadio.checked=!quota.isD;this.quoInput.disabled=quota.isD;this.quoInput.value=quota.v?quota.v:"";}catch(err){microstrategy.errors.log(err);return false;}};mstrUserAnalysisQuotaImpl.prototype.onQuotaRadioClick=function(e){try{var e=e||window.event;var src=getEventTarget(e);var quota=this.quotas[this.curProId];if(src.id==this.dRadio.id){quota.isD=true;this.quoInput.disabled=true;}else{if(src.id==this.ndRadio.id){quota.isD=false;this.quoInput.disabled=false;}}}catch(err){microstrategy.errors.log(err);return false;}};mstrUserAnalysisQuotaImpl.prototype.onQuotaInputChange=function(e){try{var quota=this.quotas[this.curProId];quota.v=this.quoInput.value;}catch(err){microstrategy.errors.log(err);return false;}};mstrUserAnalysisQuotaImpl.prototype.applyChanges=function(tabMgr){try{var evtId=mstrUpdateManager.MODIFY_ANALYSIS_QUOTAS;if(this.quotas){for(var pId in this.quotas){var quota=this.quotas[pId];var argValue=pId+this.dfnDivider+(quota.isD?-1:quota.v);tabMgr.getWebEvent(evtId).argNames.push("32768011");tabMgr.getWebEvent(evtId).argValues.push(argValue);}}}catch(err){microstrategy.errors.log(err);return false;}};function mstrUserAnalysisQuotaImpl(id){this.inherits=mstrEditorImpl;this.inherits(id);delete this.inherits;return this;}