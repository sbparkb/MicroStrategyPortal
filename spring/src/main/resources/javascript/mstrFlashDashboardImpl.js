mstrFlashDashboardImplScript=true;mstrFlashDashboardImpl.prototype=new mstrBoneImpl();mstrFlashDashboardImpl.prototype.commands=null;mstrFlashDashboardImpl.prototype.currentRWViewMode=8;mstrFlashDashboardImpl.prototype.viewerBone=true;mstrFlashDashboardImpl.prototype.groupBys=null;mstrFlashDashboardImpl.prototype.objectID="";mstrFlashDashboardImpl.prototype.objectType=microstrategy.DSSTYPE_DOC_DEFINITION;mstrFlashDashboardImpl.prototype.needSaveBeforeNotes=true;mstrFlashDashboardImpl.prototype.onload=function(){try{mstrBoneImpl.prototype.onload.call(this);this.observer=new mstrObserverImpl();this.commands=new mstrViewerCommandsImpl(this);this.commands.parentBone=this;if(this.keepAlive){window.setTimeout("microstrategy.getViewerBone().commands.exec('ping');",this.keepAlive);}this.initNotesIcon();mstr.controllers.Factory.add(microstrategy.updateManager);}catch(err){microstrategy.errors.log(err);}};mstrFlashDashboardImpl.prototype.onupdatemanagerchange=function(type,ac){var safeAC=[];if(ac!=null&&ac.length){for(var i=0;i<ac.length;i++){var origAO=ac[0];var ao={};ao.id=origAO.id;ao.beanPath=origAO.beanPath;ao.argID=origAO.argID;ao.newArgs=origAO.newArgs;safeAC.push(ao);}}this.callFlashPlayerFn(this.CALLBACK_FN_UPDATE_MGR_CHANGE,[type,safeAC]);};mstrFlashDashboardImpl.prototype.toggleGrouping=function(){this.showGrouping=!this.showGrouping;this.observer.notifyAll("onFlashGroupByChange");this.callFlashPlayerFn(this.CALLBACK_FN_SHOW_GROUPBY,[this.showGrouping]);};mstrFlashDashboardImpl.prototype.groupingChecked=function(){return this.showGrouping;};mstrFlashDashboardImpl.prototype.callFlashPlayerFn=function(fnName,fnArgs){var fo;var flashDiv=microstrategy.findChildWithAtt(this.elem,"DIV","scriptclass","mstrFlashViewerImpl");if(flashDiv){fo=(mstr.utils.ISIE4)?flashDiv.getElementsByTagName("object")[0]:flashDiv.getElementsByTagName("embed")[0];}if(!fo){return ;}var fnPtr=fo[fnName];if(!fnPtr||typeof (fnPtr)!="function"){return ;}var len=(fnArgs)?fnArgs.length:0;var sArgs="";for(var i=0;i<len;i++){if(i==0){sArgs="fnArgs[0]";}else{sArgs=sArgs+", fnArgs["+i+"]";}}var fnExpr="fo."+fnName+"("+sArgs+")";try{eval(fnExpr);}catch(err){microstrategy.errors.log(err);}};mstrFlashDashboardImpl.prototype.setCurrentGroupByElement=function(gKey,elemID){try{microstrategy.updateManager.add([microstrategy.updateManager.createActionObject(null,mstrUpdateManager.SET_CURRENT_GROUP_BY_ELEMENT,this.beanPath,["2048018","2048006","2048078"],["false",gKey,elemID],[])],true);if(this.groupBys&&this.groupBys[gKey]){this.groupBys[gKey]=elemID;}}catch(err){microstrategy.errors.log(err);}};mstrFlashDashboardImpl.prototype.containsGroupByDifferentThanAll=function(){try{if(this.groupBys){for(id in this.groupBys){if(this.groupBys[id]!="OA:(All)"){return true;}}return false;}}catch(err){microstrategy.errors.log(err);return false;}};mstrFlashDashboardImpl.prototype.initNotesIcon=function(){try{var notesIconModel=mstr.$obj("NotesIconModel_model");if(notesIconModel&&!this.needSaveBeforeNotes){notesIconModel.set("objectID",this.objectID);notesIconModel.set("objectType",this.objectType);}if(this.needSaveBeforeNotes||(microstrategy.bone("accordion_AccordionTabManagerStyle")&&microstrategy.bone("accordion_AccordionTabManagerStyle").currentTabName==microstrategy.ACCORDION_RW_NOTES_PANEL)){var notesIconView=mstr.$obj("NotesIconView_view");if(notesIconView){notesIconView.set("visible",false);}}else{if(notesIconModel){notesIconModel.execCheck();}}}catch(err){microstrategy.errors.log(err);}};mstrFlashDashboardImpl.prototype.onObjectBrowserTabChange=function(){this.observer.notifyAll("onObjectBrowserTabChange");};function mstrFlashDashboardImpl(id){this.inherits=mstrBoneImpl;this.inherits(id);this.inherits=null;this.primaryBone=true;return this;}