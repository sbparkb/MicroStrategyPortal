mstrAdminBrowserImplScript=true;mstrAdminBrowserImpl.prototype=new mstrEditorImpl();mstrAdminBrowserImpl.prototype.files=null;mstrAdminBrowserImpl.prototype.searchBox=null;mstrAdminBrowserImpl.prototype.search=null;mstrAdminBrowserImpl.prototype.upFolder=null;mstrAdminBrowserImpl.prototype.folderBox=null;mstrAdminBrowserImpl.prototype.selectedClass="selected";mstrAdminBrowserImpl.prototype.selected=null;mstrAdminBrowserImpl.prototype.onload=function(e){try{this.initEditor();this.files=microstrategy.subObjectFind(this.elem,"div",microstrategy.SUBOBJTYPE_FILE_LIST);this.folderBox=this.elem.getElementsByTagName("select")[0];this.upFolder=getElementById("upFolder");this.search=getElementById("search");this.searchBox=document.getElementById("name");this.clearDiv=microstrategy.findChildWithAtt(this.elem,"div","id","clearSearch");if(this.files){this.files.onmousedown=new Function("e","return microstrategy.bone('"+this.id+"').onmousedown(e);");}if(this.clearDiv){this.clearDiv.onclick=new Function("","return microstrategy.bone('"+this.id+"').clearSearch();");if(this.searchBox&&this.searchBox.value!=""){this.clearDiv.style.display="inline";}}}catch(err){microstrategy.errors.log(err);return false;}};mstrAdminBrowserImpl.prototype.checkForFormSubmit=function(e){try{if(!e){e=window.event;}if(e.keyCode==13){if(this.onsearch){this.onsearch();}if(bIsIE4){window.event.cancelBubble=true;}return false;}}catch(err){microstrategy.errors.log(err);return false;}};mstrAdminBrowserImpl.prototype.updateSelections=function(e,obj){if(obj&&obj.tagName.toLowerCase()=="span"){if(this.selected){this.resetClassName(this.selected);}this.selected=obj;var oldClassName=obj.className;obj.className=this.selectedClass+oldClassName;}return false;};mstrAdminBrowserImpl.prototype.resetClassName=function(obj){try{var newClass="";if(obj){var oldClassName=obj.className;if((oldClassName.length>0)&&(oldClassName.indexOf(this.selectedClass)==0)){newClass=oldClassName.substr(this.selectedClass.length);}obj.className=newClass;}}catch(err){microstrategy.errors.log(err);}return true;};mstrAdminBrowserImpl.prototype.onmousedown=function(e){try{if(!e){e=window.event;}var obj=getEventTarget(e);if(obj){if(obj.tagName.toLowerCase()=="li"){obj=obj.firstChild;}if(obj.tagName.toLowerCase()=="span"){return this.updateSelections(e,obj);}else{if(obj.tagName.toLowerCase()=="a"){if(obj.getAttribute(microstrategy.HTMLATTR_OBJTYPE)==microstrategy.OBJTYPE_FOLDER){this.openFolder(obj.getAttribute(microstrategy.HTMLATTR_DSS_ID));}else{obj=obj.parentNode;if(obj.tagName.toLowerCase()=="span"){return this.updateSelections(e,obj);}}}else{if(obj.tagName.toLowerCase()=="div"){var spanObj=microstrategy.findChildWithAtt(obj,"span",microstrategy.HTMLATTR_OBJTYPE,microstrategy.OBJTYPE_SECURITY_FILTER);if(spanObj!=null){return this.updateSelections(e,spanObj);}else{this.resetClassName(this.selected);this.selected=null;}}else{this.resetClassName(this.selected);this.selected=null;}}}}return false;}catch(err){microstrategy.errors.log(err);return false;}};mstrAdminBrowserImpl.prototype.onsearch=function(e){try{if(this.searchBox){if(!this.searchBox.value){this.searchBox.value="";}var um=this.updateManager;um.add([um.createActionObject(null,mstrUpdateManager.OB_SEARCH,microstrategy.obBeanPaths[mstrUpdateManager.OB_SEARCH],["51003"],[this.searchBox.value],[],null)]);um.flushAndSubmitChanges();}}catch(err){microstrategy.errors.log(err);return false;}};mstrAdminBrowserImpl.prototype.clearSearch=function(){try{this.clearDiv.style.display="none";if(this.searchBox){this.searchBox.value="";}if(this.search){this.search.click();}}catch(err){microstrategy.errors.log(err);return false;}};mstrAdminBrowserImpl.prototype.openFolder=function(dssId){try{var um=this.updateManager;um.add([um.createActionObject(null,mstrUpdateManager.OB_NAVIGATE,microstrategy.obBeanPaths[mstrUpdateManager.OB_NAVIGATE],["51001"],[dssId],[],null)]);um.flushAndSubmitChanges();}catch(err){microstrategy.errors.log(err);return false;}};function mstrAdminBrowserImpl(id){this.inherits=mstrEditorImpl;this.inherits(id);delete this.inherits;return this;}