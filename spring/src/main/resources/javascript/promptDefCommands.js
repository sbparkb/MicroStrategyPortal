mstrPromptDefCommandsImpl.prototype=new Object();mstrPromptDefCommandsImpl.prototype.commands=new Object();mstrPromptDefCommandsImpl.prototype.promptObj=new Object();mstrPromptDefCommandsImpl.prototype.selMode=new Object();mstrPromptDefCommandsImpl.prototype.updateManager=microstrategy.updateManager;mstrPromptDefCommandsImpl.prototype.promptBeanPath=null;mstrPromptDefCommandsImpl.prototype.appPromptBeanPath=null;mstrPromptDefCommandsImpl.prototype.ITEM_SEPARATOR="~";mstrPromptDefCommandsImpl.prototype.UNIT_SEPARATOR="\u001F";mstrPromptDefCommandsImpl.prototype.filterBeanPath=null;mstrPromptDefCommandsImpl.prototype.PROPERTIES_WEBPROPERTIES="WebProperties";mstrPromptDefCommandsImpl.prototype.PROPERTY_PSXSL="PSXSL";mstrPromptDefCommandsImpl.prototype.PROPERTIES_LAYOUT="PromptLayoutProperties";mstrPromptDefCommandsImpl.prototype.PROPERTIES_SEARCH="PromptSearchProperties";mstrPromptDefCommandsImpl.prototype.PROPERTIES_EXPRESSION="ExpressionPromptProperties";mstrPromptDefCommandsImpl.prototype.PROPERTIES_PROMPT="PromptProperties";mstrPromptDefCommandsImpl.prototype.PROPERTIES_FORMAT="FormattingNumber";mstrPromptDefCommandsImpl.prototype.PROPERTY_ARRANGEMENT="Arrangement";mstrPromptDefCommandsImpl.prototype.PROPERTY_ARRANGEMENTSIZE="ArrangementSize";mstrPromptDefCommandsImpl.prototype.PROPERTY_HEIGHTMODE="HeightMode";mstrPromptDefCommandsImpl.prototype.PROPERTY_HEIGHT="Height";mstrPromptDefCommandsImpl.prototype.PROPERTY_WIDTHMODE="WidthMode";mstrPromptDefCommandsImpl.prototype.PROPERTY_WIDTH="Width";mstrPromptDefCommandsImpl.prototype.PROPERTY_SHOPPINGCART="ListAsShoppingCart";mstrPromptDefCommandsImpl.prototype.PROPERTY_DISPLAYSTYLE="DisplayStyle";mstrPromptDefCommandsImpl.prototype.PROPERTY_CUSTOMSTYLE="CustomStyle";mstrPromptDefCommandsImpl.prototype.PROPERTY_USEWEBBLOCKS="UseWebBlocks";mstrPromptDefCommandsImpl.prototype.PROPERTY_DEFAULTSELECTION="DefaultSelection";mstrPromptDefCommandsImpl.prototype.PROPERTY_DISPLAYSEARCH="DisplaySearchBox";mstrPromptDefCommandsImpl.prototype.PROPERTY_SEARCHREQUIRED="SearchRequired";mstrPromptDefCommandsImpl.prototype.PROPERTY_NAVIGATION="AllowNavigationBeyondSearchRoot";mstrPromptDefCommandsImpl.prototype.PROPERTY_PULLDOWNASVIEWFILTER="PullDownAsViewFilter";mstrPromptDefCommandsImpl.prototype.PROPERTY_ALLOWROOTOPERATORECHANGE="AllowRootOperatorChange";mstrPromptDefCommandsImpl.prototype.PROPERTY_DEFAULTROOTOPERATOR="DefaultRootOperator";mstrPromptDefCommandsImpl.prototype.PROPERTY_DEFAULTOPERATOR="DefaultOperator";mstrPromptDefCommandsImpl.prototype.PROPERTY_ALLOWINTEREXPRESSIONOPERATORCHANGE="AllowInterExpressionOperatorChange";mstrPromptDefCommandsImpl.prototype.PROPERTY_ALLOWLOADFROMFILE="AllowLoadFromFile";mstrPromptDefCommandsImpl.prototype.PROPERTY_SHOWOUTPUTLEVELSELECTOR="ShowOutputLevelSelector";mstrPromptDefCommandsImpl.prototype.PROPERTY_EXPRESSIONTYPEALLOWED="ExpressionTypesAllowed";mstrPromptDefCommandsImpl.prototype.PROPERTY_DEFAULTEXPRESSIONTYPE="DefaultExpressionType";mstrPromptDefCommandsImpl.prototype.PROPERTY_MAXELEMENTSPERSUBEXPRESSION="MaxElementsPerSubExpression";mstrPromptDefCommandsImpl.prototype.PROPERTY_ALLOWELEMENTBROWSE="AllowElementBrowse";mstrPromptDefCommandsImpl.prototype.PROPERTY_ANSWERRESTRICTION="AnswerRestriction";mstrPromptDefCommandsImpl.prototype.PROPERTY_SHOWTIME="ShowTime";mstrPromptDefCommandsImpl.prototype.PROPERTY_USEFOLDERSTRUCTURE="UseFolderStructure";mstrPromptDefCommandsImpl.prototype.PROPERTY_DONOTSHOWEMPTYFOLDERS="DonotShowEmptyFolders";mstrPromptDefCommandsImpl.prototype.PROPERTY_ONVALUE="OnValue";mstrPromptDefCommandsImpl.prototype.PROPERTY_OFFVALUE="OffValue";mstrPromptDefCommandsImpl.prototype.PROPERTY_NUMBERFORMAT="NumberFormat";mstrPromptDefCommandsImpl.prototype.PROPERTY_INTERVAL="Interval";mstrPromptDefCommandsImpl.prototype.PROPERTY_LOCALIZEDMINDATE="LocalizedMinDate";mstrPromptDefCommandsImpl.prototype.PROPERTY_LOCALIZEDMAXDATE="LocalizedMaxDate";mstrPromptDefCommandsImpl.prototype.PROPERTY_LOOKUPFORM="LookupForm";mstrPromptDefCommandsImpl.prototype.PROPERTY_GEOCOORDINATE="GeographicCoordinate";mstrPromptDefCommandsImpl.prototype.PROPERTY_GEOMAPPING="GeographicMapping";mstrPromptDefCommandsImpl.prototype.PROPERTY_GEOLEVEL="LookupForm";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_TEXTBOX="Text box";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_OPTION="Option button";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_CHECKBOX_OLD="Check box";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_CHECKBOX="CheckBox";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_PULLDOWN="Pull down";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_LIST="List";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_CART="Cart";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_CALENDAR="Calendar";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_TREE="Tree";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_SWITCH="Switch";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_SLIDER="Slider";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_STEPPER="Stepper";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_WHEEL="Wheel";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_BARCODE="Barcode";mstrPromptDefCommandsImpl.prototype.DISPLAYSTYLE_GEOLOCATION="GeoLocation";mstrPromptDefCommandsImpl.prototype.ALIGNMENT_VERTICAL="1";mstrPromptDefCommandsImpl.prototype.ALIGNMENT_HERIZONTAL="0";mstrPromptDefCommandsImpl.prototype.WIDTH_MODE_FIXED="1";mstrPromptDefCommandsImpl.prototype.EXPRESSIONTYPEALLOWED_SELECT="1";mstrPromptDefCommandsImpl.prototype.EXPRESSIONTYPEALLOWED_QUALIFY="2";mstrPromptDefCommandsImpl.prototype.EXPRESSIONTYPEALLOWED_BOTH="3";mstrPromptDefCommandsImpl.prototype.DEFAULTEXPRESSIONTYPE_SELECT="1";mstrPromptDefCommandsImpl.prototype.DEFAULTEXPRESSIONTYPE_QUALIFY="2";mstrPromptDefCommandsImpl.prototype.DEFAULTROOTOPERATOR_AND="19";mstrPromptDefCommandsImpl.prototype.EFAULTROOTOPERATOR_OR="20";mstrPromptDefCommandsImpl.prototype.NAVIGATION_NONE="0";mstrPromptDefCommandsImpl.prototype.NAVIGATION_UP="1";mstrPromptDefCommandsImpl.prototype.NAVIGATION_DOWN="2";mstrPromptDefCommandsImpl.prototype.NAVIGATION_BOTH="3";mstrPromptDefCommandsImpl.prototype.VALUE_TRUE="-1";mstrPromptDefCommandsImpl.prototype.VALUE_FALSE="0";mstrPromptDefCommandsImpl.prototype.ANSWERRESTICTION_NONE="0";mstrPromptDefCommandsImpl.prototype.ANSWERRESTICTION_SINGLE="1";mstrPromptDefCommandsImpl.prototype.ANSWERRESTICTION_MULTIPLE="-1";mstrPromptDefCommandsImpl.prototype.onload=function(){this.commands.setTitle="setTitle";this.commands.setDesc="setDesc";this.commands.setRequired="setRequired";this.commands.setHasMin="setHasMin";this.commands.setMinValue="setMinVal";this.commands.setMinDateRangeValue="setMinDateRangeValue";this.commands.setHasMax="setHasMax";this.commands.setMaxValue="setMaxVal";this.commands.setMaxDateRangeValue="setMaxDateRangeValue";this.commands.setHasDefault="setHasDefault";this.commands.setDefaultValue="setDefaultValue";this.commands.editPredefined="editPredefined";this.commands.editDefault="editDefault";this.commands.setProperty="setProperty";this.commands.setPAnswerAllowed="setPAnswerAllowed";this.commands.setFixedWidth="setFixedWidth";this.commands.setWidth="setWidth";this.commands.setOnValue="setOnValue";this.commands.setOffValue="setOffValue";this.commands.setNumberFormat="setNumberFormat";this.commands.setInterval="setInterval";this.commands.setDispStyle="setDispStyle";this.commands.setFixedHeight="setFixedHeight";this.commands.setHeight="setHeight";this.commands.setArrangement="setArrangement";this.commands.setArrangementSizeMode="setArrangementSizeMode";this.commands.setArrangeSize="setArrangeSize";this.commands.setShowSearchBox="setShowSearchBox";this.commands.setLookupForm="setLookupForm";this.commands.setGeoMapping="setGeoMapping";this.commands.setAllowNav="setAllowNav";this.commands.setSearchRequired="setSearchRequired";this.commands.setMaxElemPerSubMode="setMaxElemPerSubMode";this.commands.setMaxElemPerSub="setMaxElemPerSub";this.commands.setExpTypeAllowed="setExpTypeAllowed";this.commands.setDefaultExpType="setDefaultExpType";this.commands.setDefaultCondOp="setDefaultCondOp";this.commands.setDefaultRootOp="setDefaultRootOp";this.commands.setAllowRootOpChange="setAllowRootOpChange";this.commands.setAllowInterOpChange="setAllowInterOpChange";this.commands.setAllowElementImport="setAllowElementImport";this.commands.setDispOutputLevel="setDispOutputLevel";this.commands.setCustomStyle="setCustomStyle";this.commands.setNotUseWebBlocks="setNotUseWebBlocks";this.commands.setUseFolderStructure="setUseFolderStructure";this.commands.setDonotShowEmptyFolders="setDonotShowEmptyFolders";this.commands.setName="setName";this.commands.setAllowElementBrowse="setAllowElementBrowse";this.commands.setAllowOpChange="setAllowOpChange";this.commands.radioSelection="radioSelection";this.commands.setPre90StyleVal="setPre90StyleVal";this.commands.setKeepPre90Style="setKeepPre90Style";this.promptObj.setTitle=null;this.promptObj.setDesc=null;this.promptObj.setRequired=null;this.promptObj.setHasMin=null;this.promptObj.setMinValue=null;this.promptObj.setMinDateRangeValue=null;this.promptObj.setHasMax=null;this.promptObj.setMaxValue=null;this.promptObj.setMaxDateRangeValue=null;this.promptObj.setHasDefault=null;this.promptObj.setDefaultValue=null;this.promptObj.setProperty=null;this.promptObj.setFixedWidth=null;this.promptObj.setWidth=null;this.promptObj.setOnValue=null;this.promptObj.setOffValue=null;this.promptObj.setNumberFormat=null;this.promptObj.setInterval=null;this.promptObj.setFixedHeight=null;this.promptObj.setHeight=null;this.promptObj.setArrangement=null;this.promptObj.setArrangementSizeMode=null;this.promptObj.setArrangeSize=null;this.promptObj.setMaxElemPerSubMode=null;this.promptObj.setMaxElemPerSub=null;this.promptObj.setCustomStyle=null;this.promptObj.setName=null;this.promptObj.setAllowOpChange=null;this.promptObj.setAllowRootOpChange=null;this.promptObj.setAllowInterOpChange=null;this.promptObj.setAllowNav=null;this.promptObj.setUseFolderStructure=null;this.promptObj.setDonotShowEmptyFolders=null;this.selMode.attribute="1";this.selMode.search="2";this.selMode.filter="3";this.selMode.objects="4";this.selMode.expressionOrigin="5";};mstrPromptDefCommandsImpl.prototype.processCommands=function(propertiesArray){try{if(!this.updateManager){this.updateManager=microstrategy.updateManager;}for(counter=0;counter<propertiesArray.length;counter++){var property=propertiesArray[counter];var obj=property.obj;var cmdId=property.cmdId;var value=property.value;this.exec(cmdId,value,obj);}this.postProcessCommands();return true;}catch(err){microstrategy.errors.log(err);return false;}};mstrPromptDefCommandsImpl.prototype.processCommandsInFilterEditor=function(propertiesArray){if(!this.updateManager){this.updateManager=microstrategy.updateManager;}if(this.filterBeanPath){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.EXPRESSION_OK_PROMPT_EDIT,this.filterBeanPath,[],[])]);this.updateManager.flushAndSubmitChanges();}};mstrPromptDefCommandsImpl.prototype.exec=function(cmdid,value,obj){switch(cmdid){case"processCommandsInFilterEditor":this.processCommandsInFilterEditor(value);break;case"processCommands":this.processCommands(value);break;case this.commands.setTitle:this.promptObj.setTitle=value;break;case this.commands.setDesc:this.promptObj.setDesc=value;break;case this.commands.setRequired:this.promptObj.setRequired=value;break;case this.commands.setHasMin:this.promptObj.setHasMin=value;break;case this.commands.setMinValue:this.promptObj.setMinValue=value;break;case this.commands.setMinDateRangeValue:this.promptObj.setMinDateRangeValue=value;break;case this.commands.setHasMax:this.promptObj.setHasMax=value;break;case this.commands.setMaxValue:this.promptObj.setMaxValue=value;break;case this.commands.setMaxDateRangeValue:this.promptObj.setMaxDateRangeValue=value;break;case this.commands.setHasDefault:this.promptObj.setHasDefault=value;break;case this.commands.setDefaultValue:this.promptObj.setDefaultValue=value;break;case this.commands.setPAnswerAllowed:this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_ANSWERRESTRICTION,value);break;case this.commands.setFixedWidth:this.promptObj.setFixedWidth=value;break;case this.commands.setWidth:this.promptObj.setWidth=value;break;case this.commands.setOnValue:this.promptObj.setOnValue=value;break;case this.commands.setOffValue:this.promptObj.setOffValue=value;break;case this.commands.setNumberFormat:this.promptObj.setNumberFormat=value;break;case this.commands.setInterval:this.promptObj.setInterval=value;break;case this.commands.setFixedHeight:this.promptObj.setFixedHeight=value;break;case this.commands.setHeight:this.promptObj.setHeight=value;break;case this.commands.setArrangement:this.promptObj.setArrangement=value;break;case this.commands.setArrangementSizeMode:this.promptObj.setArrangementSizeMode=value;break;case this.commands.setArrangeSize:this.promptObj.setArrangeSize=value;break;case this.commands.setAllowOpChange:this.promptObj.setAllowOpChange=value;break;case this.commands.setDispStyle:this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_DISPLAYSTYLE,value);break;case this.commands.setCustomStyle:if(value&&value.length>0){this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_CUSTOMSTYLE,value);}else{this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_PROMPT_PROPERTY,this.promptBeanPath,["4097023","4097020","4097021","4097022"],[this.PROPERTIES_LAYOUT,this.PROPERTY_CUSTOMSTYLE,"","1"])]);}break;case this.commands.setNotUseWebBlocks:if(value==1){this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_USEWEBBLOCKS,this.VALUE_FALSE);}else{this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_USEWEBBLOCKS,this.VALUE_TRUE);}break;case this.commands.setShowSearchBox:if(value&&value!=""){this.addProperty(this.PROPERTIES_SEARCH,this.PROPERTY_DISPLAYSEARCH,value);}break;case this.commands.setLookupForm:if(value&&value!=""){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_LOOKUPFORM,value);}break;case this.commands.setGeoMapping:if(value&&value!=""){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_GEOMAPPING,value);}break;case this.commands.setSearchRequired:if(value==1){this.addProperty(this.PROPERTIES_SEARCH,this.PROPERTY_SEARCHREQUIRED,this.VALUE_TRUE);}else{this.addProperty(this.PROPERTIES_SEARCH,this.PROPERTY_SEARCHREQUIRED,this.VALUE_FALSE);}break;case this.commands.setMaxElemPerSubMode:this.promptObj.setMaxElemPerSubMode=value;break;case this.commands.setMaxElemPerSub:this.promptObj.setMaxElemPerSub=value;break;case this.commands.setExpTypeAllowed:this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_EXPRESSIONTYPEALLOWED,value);break;case this.commands.setDefaultExpType:this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_DEFAULTEXPRESSIONTYPE,value);break;case this.commands.setDefaultCondOp:if(value=="-1"){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_PROMPT_PROPERTY,this.promptBeanPath,["4097023","4097020","4097021","4097022"],[this.PROPERTIES_EXPRESSION,this.PROPERTY_DEFAULTOPERATOR,"","1"])]);}else{this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_DEFAULTOPERATOR,value);}break;case this.commands.setDefaultRootOp:this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_DEFAULTROOTOPERATOR,value);break;case this.commands.setAllowRootOpChange:this.promptObj.setAllowRootOpChange=value;break;case this.commands.setAllowInterOpChange:this.promptObj.setAllowInterOpChange=value;break;case this.commands.setAllowElementImport:if(value==1){this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWLOADFROMFILE,this.VALUE_TRUE);}else{this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWLOADFROMFILE,this.VALUE_FALSE);}break;case this.commands.setAllowElementBrowse:if(value==1){this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWELEMENTBROWSE,this.VALUE_TRUE);}else{this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWELEMENTBROWSE,this.VALUE_FALSE);}break;case this.commands.setDispOutputLevel:if(value==1){this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_SHOWOUTPUTLEVELSELECTOR,this.VALUE_TRUE);}else{this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_SHOWOUTPUTLEVELSELECTOR,this.VALUE_FALSE);}break;case this.commands.setUseFolderStructure:this.promptObj.setUseFolderStructure=value;break;case this.commands.setDonotShowEmptyFolders:this.promptObj.setDonotShowEmptyFolders=value;break;case this.commands.setAllowNav:this.promptObj.setAllowNav=value;break;case this.commands.setName:this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.EDITABLE_OBJECT_EVENT_SET_NAME,this.promptBeanPath,["1048576001"],[value])]);break;case this.commands.setPre90StyleVal:if(!obj.disabled){this.addProperty(this.PROPERTIES_WEBPROPERTIES,this.PROPERTY_PSXSL,value);}break;case this.commands.setKeepPre90Style:if(value!=1){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_PROMPT_PROPERTY,this.promptBeanPath,["4097023","4097020","4097021","4097022"],[this.PROPERTIES_WEBPROPERTIES,this.PROPERTY_PSXSL,"","1"])]);}break;case this.commands.radioSelection:break;default:alert("unknow command: "+cmdid);}};mstrPromptDefCommandsImpl.prototype.addProperty=function(psName,pName,pValue){var p={psName:psName,pName:pName,v:pValue};if(this.promptObj.setProperty==null){this.promptObj.setProperty=[p];}else{this.promptObj.setProperty[this.promptObj.setProperty.length]=p;}};mstrPromptDefCommandsImpl.prototype.sendPropertiesToUM=function(){if(this.promptObj.setProperty!=null){for(var i=0;i<this.promptObj.setProperty.length;i++){var prop=this.promptObj.setProperty[i];if(prop.pName=="Width"||prop.pName=="Height"){var v=microstrategy.number.toString(prop.v);prop.v=microstrategy.number.toUSUnits(v,false);}this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_PROMPT_PROPERTY,this.promptBeanPath,["4097023","4097020","4097021","4097022"],[prop.psName,prop.pName,prop.v,"0"])]);}}};mstrPromptDefCommandsImpl.prototype.postProcessCommands=function(){if(this.promptObj.setTitle){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_TITLE,this.promptBeanPath,["4097005"],[this.promptObj.setTitle])]);}if(this.promptObj.setDesc){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_DESC,this.promptBeanPath,["4097006"],[this.promptObj.setDesc])]);}if(this.promptObj.setRequired){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_REQUIRED,this.promptBeanPath,["4097002"],[this.promptObj.setRequired])]);}if(this.promptObj.setHasMin=="0"){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_MIN,this.promptBeanPath,["4097003","4097004"],[this.promptObj.setHasMin,""])]);}else{if(this.promptObj.setHasMin=="1"){if(this.promptObj.setMinValue==null){alert("ERROR: no min value set!");}else{this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_MIN,this.promptBeanPath,["4097003","4097004"],[this.promptObj.setHasMin,this.promptObj.setMinValue])]);}}else{if(this.promptObj.setMinValue!=null){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_MIN,this.promptBeanPath,["4097003","4097004"],["1",this.promptObj.setMinValue])]);}}}if(this.promptObj.setHasMax=="0"){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_MAX,this.promptBeanPath,["4097003","4097004"],[this.promptObj.setHasMax,""])]);}else{if(this.promptObj.setHasMax=="1"){if(this.promptObj.setMaxValue==null){alert("ERROR: no max value set!");}else{this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_MAX,this.promptBeanPath,["4097003","4097004"],[this.promptObj.setHasMax,this.promptObj.setMaxValue])]);}}else{if(this.promptObj.setMaxValue!=null){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_SET_MAX,this.promptBeanPath,["4097003","4097004"],["1",this.promptObj.setMaxValue])]);}}}if(this.promptObj.setHasDefault=="0"){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_CONST_SET_DEFAULT_ANS,this.promptBeanPath,["4097004"],[""])]);}else{if(this.promptObj.setHasDefault=="1"){if(this.promptObj.setDefaultValue==null){alert("ERROR: no default value set!");}else{this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_CONST_SET_DEFAULT_ANS,this.promptBeanPath,["4097004"],[this.promptObj.setDefaultValue])]);}}else{if(this.promptObj.setDefaultValue!=null){this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPT_CONST_SET_DEFAULT_ANS,this.promptBeanPath,["4097004"],[this.promptObj.setDefaultValue])]);}}}if(this.promptObj.setFixedWidth!=null){if(this.promptObj.setFixedWidth=="1"){this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_WIDTHMODE,this.WIDTH_MODE_FIXED);this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_WIDTH,this.promptObj.setWidth);}else{this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_WIDTHMODE,"0");}}else{if(this.promptObj.setWidth!=null){this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_WIDTH,this.promptObj.setWidth);}}if(this.promptObj.setFixedHeight!=null){if(this.promptObj.setFixedHeight=="1"){this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_HEIGHTMODE,this.WIDTH_MODE_FIXED);this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_HEIGHT,this.promptObj.setHeight);}else{this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_HEIGHTMODE,"0");}}else{if(this.promptObj.setHeight!=null){this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_HEIGHT,this.promptObj.setHeight);}}if(this.promptObj.setArrangement!=null){this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_ARRANGEMENT,this.promptObj.setArrangement);}if(this.promptObj.setArrangementSizeMode!=null){if(this.promptObj.setArrangementSizeMode=="1"){}else{this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_PROMPT_PROPERTY,this.promptBeanPath,["4097023","4097020","4097021","4097022"],[this.PROPERTIES_LAYOUT,this.PROPERTY_ARRANGEMENTSIZE,"","1"])]);this.promptObj.setArrangeSize=null;}}if(this.promptObj.setArrangeSize!=null){this.addProperty(this.PROPERTIES_LAYOUT,this.PROPERTY_ARRANGEMENTSIZE,this.promptObj.setArrangeSize);}if(this.promptObj.setMaxElemPerSubMode!=null){if(this.promptObj.setMaxElemPerSubMode=="1"){}else{this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_PROMPT_PROPERTY,this.promptBeanPath,["4097023","4097020","4097021","4097022"],[this.PROPERTIES_EXPRESSION,this.PROPERTY_MAXELEMENTSPERSUBEXPRESSION,"","1"])]);this.promptObj.setMaxElemPerSub=null;}}if(this.promptObj.setMaxElemPerSub!=null){this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_MAXELEMENTSPERSUBEXPRESSION,this.promptObj.setMaxElemPerSub);}if(this.promptObj.setAllowOpChange==null||this.promptObj.setAllowOpChange==1){if(this.promptObj.setAllowRootOpChange==1){this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWROOTOPERATORECHANGE,this.VALUE_TRUE);this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWINTEREXPRESSIONOPERATORCHANGE,this.VALUE_FALSE);}if(this.promptObj.setAllowInterOpChange==1){this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWROOTOPERATORECHANGE,this.VALUE_TRUE);this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWINTEREXPRESSIONOPERATORCHANGE,this.VALUE_TRUE);}}else{this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWROOTOPERATORECHANGE,this.VALUE_FALSE);this.addProperty(this.PROPERTIES_EXPRESSION,this.PROPERTY_ALLOWINTEREXPRESSIONOPERATORCHANGE,this.VALUE_FALSE);}if(this.promptObj.setUseFolderStructure!=null){if(this.promptObj.setUseFolderStructure==1){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_USEFOLDERSTRUCTURE,this.VALUE_TRUE);}else{this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_USEFOLDERSTRUCTURE,this.VALUE_FALSE);this.updateManager.add([this.updateManager.createActionObject(null,mstrUpdateManager.PROMPTDEF_EVENT_SET_PROMPT_PROPERTY,this.promptBeanPath,["4097023","4097020","4097021","4097022"],[this.PROPERTIES_SEARCH,this.PROPERTY_NAVIGATION,"","1"])]);this.promptObj.setAllowNav=null;}}if(this.promptObj.setDonotShowEmptyFolders!=null){if(this.promptObj.setDonotShowEmptyFolders==1){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_DONOTSHOWEMPTYFOLDERS,this.VALUE_TRUE);}else{this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_DONOTSHOWEMPTYFOLDERS,this.VALUE_FALSE);}}if(this.promptObj.setAllowNav){if(this.promptObj.setAllowNav==1){this.addProperty(this.PROPERTIES_SEARCH,this.PROPERTY_NAVIGATION,this.NAVIGATION_BOTH);}else{this.addProperty(this.PROPERTIES_SEARCH,this.PROPERTY_NAVIGATION,this.NAVIGATION_DOWN);}}if(this.promptObj.setOnValue!=null){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_ONVALUE,this.promptObj.setOnValue);}if(this.promptObj.setOffValue!=null){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_OFFVALUE,this.promptObj.setOffValue);}if(this.promptObj.setNumberFormat!=null){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_NUMBERFORMAT,this.promptObj.setNumberFormat);}if(this.promptObj.setInterval!=null){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_INTERVAL,this.promptObj.setInterval);}if(this.promptObj.setMinDateRangeValue!=null){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_LOCALIZEDMINDATE,this.promptObj.setMinDateRangeValue);}if(this.promptObj.setMaxDateRangeValue!=null){this.addProperty(this.PROPERTIES_PROMPT,this.PROPERTY_LOCALIZEDMAXDATE,this.promptObj.setMaxDateRangeValue);}var formatProps=["Category","DecimalPlaces","CurrencySymbol","ThousandSeparator","CurrencyPosition","NegativeNumbers","Format"];var formatProp,formatPropValue=null;for(var i=0;i<formatProps.length;i++){formatProp=formatProps[i];formatPropValue=this.promptObj["set"+formatProp];if(formatPropValue!=null){this.addProperty(this.PROPERTIES_FORMAT,formatProp,formatPropValue);}}if(this.promptObj.setProperty!=null){this.sendPropertiesToUM();}};mstrPromptDefCommandsImpl.prototype.buildObjListString=function(list){var objs="";if(list){var option;for(i=0;i<list.length;i++){option=list.options[i];if(i!=0){objs=objs+this.UNIT_SEPARATOR;}objs=objs+option.value;}}return objs;};mstrPromptDefCommandsImpl.prototype.buildObjFromString=function(objString,sep){if(!sep){sep=this.UNIT_SEPARATOR;}var obj={};if(objString){var values=objString.split(sep);if(values.length>0){obj.dssid=values[0];}if(values.length>1){obj.tp=values[1];}if(values.length>2){obj.n=values[2];}if(values.length>3){obj.stp=values[3];}}return obj;};function mstrPromptDefCommandsImpl(){this.onload();return this;}