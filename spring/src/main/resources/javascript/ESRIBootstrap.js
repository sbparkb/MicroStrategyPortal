ESRIBootStrapScript=true;if(typeof (mstrmap)=="undefined"){mstrmap={};}if(typeof (mstrmap.esri)=="undefined"){mstrmap.esri={};loadESRIMapScripts();}if(typeof (mstrApp)=="undefined"){mstrApp={};}function isOIVM(){return !(!mstrApp||!mstrApp.isOIVM||!mstrApp.isOIVM());}function bootStartESRIMap(gridParams){if(typeof (gridParams)=="undefined"){return ;}var c=mstrmap.ESRIMap;if(isOIVM()){c=mstrmap.ESRIMapOIVM;}if((typeof (dojo)!="undefined")&&c){var map=c.newMapViewer(gridParams.params,gridParams.divId,gridParams);}else{window.setTimeout(function(){bootStartESRIMap(gridParams);},100);}}function isOnLoadWorking(){return mstrmap.isFF||mstrmap.isChrome||mstrmap.isSafari||mstrmap.isIE11Above;}function loadArcGISLib(){if(typeof esriMapScriptsLoaded!="undefined"&&esriMapScriptsLoaded){return ;}var script=document.createElement("script");script.type="text/javascript";script.src=window.location.protocol+"//serverapi.arcgisonline.com/jsapi/arcgis/?v=2.4";document.getElementsByTagName("head")[0].appendChild(script);if(mstrmap.isIE){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;dojo.require("esri.map");dojo.require("esri.tasks.query");loadMojoScript();}};}else{if(isOnLoadWorking()){script.onload=function(){script.onload=null;loadMojoScript();};}}}function loadMojoScript(){if(!isOIVM()){var script=document.createElement("script");script.type="text/javascript";script.src="../javascript/bundles/mojo-map.js";document.getElementsByTagName("head")[0].appendChild(script);}else{loadMapParentScript();return ;}if(mstrmap.isIE){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;if(isOIVM()){loadMapParentScript();}else{loadMainScript();}}};}else{if(isOnLoadWorking()){script.onload=function(){script.onload=null;if(isOIVM()){loadMapParentScript();}else{loadMainScript();}};}}}function loadMapParentScript(){script=document.createElement("script");script.type="text/javascript";script.src="../javascript/ESRIMap.js";document.getElementsByTagName("head")[0].appendChild(script);if(mstrmap.isIE){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;loadMainScript();}};}else{if(isOnLoadWorking()){script.onload=function(){script.onload=null;loadMainScript();};}}}function loadMainScript(){var script=document.createElement("script");script.type="text/javascript";if(isOIVM()){script.src="../javascript/ESRIMapOIVM.js";}else{script.src="../javascript/ESRIMap.js";}document.getElementsByTagName("head")[0].appendChild(script);if(mstrmap.isIE){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;loadMapDPViewer();}};}else{if(isOnLoadWorking()){script.onload=function(){script.onload=null;loadMapDPViewer();};}}}function loadMapDPViewer(){var script=document.createElement("script");script.type="text/javascript";script.src="../javascript/ESRIMapViewer.js";document.getElementsByTagName("head")[0].appendChild(script);if(mstrmap.isIE){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;loadFinish();}};}else{if(isOnLoadWorking()){script.onload=function(){script.onload=null;loadFinish();};}}}function loadFinish(){loadCoreCss();loadTundraCss();esriMapScriptsLoaded=true;}function loadESRIMapScripts(){if(typeof (mstrmap.ua)=="undefined"){mstrmap.ua=window.navigator.userAgent;mstrmap.isIE=!!document.all;mstrmap.isIE11Above=!!mstrmap.ua.match(/Trident/)&&(!mstrmap.isIE);mstrmap.isFF=!mstrmap.isIE&&!!mstrmap.ua.match(/Firefox/);mstrmap.isWK=(mstrmap.ua.indexOf("AppleWebKit")>-1)?true:false;mstrmap.isChrome=mstrmap.isWK&&(mstrmap.ua.indexOf("Chrome")>-1)?true:false;mstrmap.isSafari=mstrmap.isWK&&(mstrmap.ua.indexOf("Safari")>-1)&&!mstrmap.isChrome?true:false;}loadArcGISLib();}function loadCoreCss(){var currentStyles=document.styleSheets;if(currentStyles){var i,style;for(i=0;i<currentStyles.length;i++){style=currentStyles[i];if(style.id=="mojocore"){return ;}}}var css=document.createElement("link");css.setAttribute("rel","stylesheet");css.setAttribute("type","text/css");css.setAttribute("href","../javascript/mojo/css/core.css");css.setAttribute("id","mojocore");document.getElementsByTagName("head")[0].appendChild(css);}function loadTundraCss(){var currentStyles=document.styleSheets;if(currentStyles){var i,style;for(i=0;i<currentStyles.length;i++){style=currentStyles[i];if(style.id=="esritundra"){return ;}}}var css=document.createElement("link");css.setAttribute("rel","stylesheet");css.setAttribute("type","text/css");css.setAttribute("href",window.location.protocol+"//serverapi.arcgisonline.com/jsapi/arcgis/1.5/js/dojo/dijit/themes/tundra/tundra.css");css.setAttribute("id","esritundra");document.getElementsByTagName("head")[0].appendChild(css);}