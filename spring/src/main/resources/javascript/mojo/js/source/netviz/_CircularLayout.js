(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.VisEnum");var $ARR=mstrmojo.array,$VIS_ENUM=mstrmojo.VisEnum,LAYOUT_NAME=$VIS_ENUM.NETWORK_LAYOUT.CIRCULAR;mstrmojo.netviz._CircularLayout=mstrmojo.provide("mstrmojo.netviz._CircularLayout",{_mixinName:"mstrmojo.netviz._CircularLayout",init:function(e){if(this._super){this._super(e);}if(this.layouts===undefined){this.layouts={};}this.layouts[LAYOUT_NAME]=layout;}});function layout(abstractedModel,stage,sceneDimension){function position(node){if(node.isExcluded){return ;}var p=node.sprite.getGeometry(),i,len;angle+=deltaAngle;p.x=Math.cos(angle)*r+r+maxR;p.y=Math.sin(angle)*r+r+maxR;node.sprite.setGeometry(p);if(node.edges){for(i=0,len=node.edges.length;i<len;i++){node.edges[i].sprite.setGeometry({x:r+maxR,y:r+maxR,type:"bezier"});}}angle+=deltaAngle;}var angle=0,maxR=sceneDimension.maxR+$VIS_ENUM.NETWORK_CIRCLE_BORDER_WIDTH,count=sceneDimension.circleCount,l=count*maxR*2,r=Math.max(Math.min(stage.width,stage.height)/2-maxR,l/(2*Math.PI)),deltaAngle=Math.PI/count;stage.currentLayout=LAYOUT_NAME;$ARR.forEach(abstractedModel.nodes,position);}}());