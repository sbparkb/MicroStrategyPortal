(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._FillsBrowser","mstrmojo._HasLayout","mstrmojo.ui.Splitter","mstrmojo.qb.thirdParty.BISourceSelector","mstrmojo.qb.thirdParty.SourceInput");mstrmojo.requiresDescs(12384);var FIRST_ITEM_SLOT="firstSplitNode",SECOND_ITEM_SLOT="secondSplitNode";var VIEW_MODE_AUTO_FIT=0,VIEW_MODE_FIXED_SIZE=1;mstrmojo.qb.thirdParty.RootView=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo._HasPopup],{scriptClass:"mstrmojo.qb.thirdParty.RootView",markupString:'<div id="{@id}" class="mstrmojo-qb {@cssClass}" style="{@cssText}"><div class="mstrmojo-qb-layout"></div><div></div></div>',markupSlots:{layout:function(){return this.domNode.firstChild;}},layoutConfig:{h:{layout:"100%"},w:{layout:"100%"}},onError:mstrmojo.emptyFn,loadView:mstrmojo.emptyFn,toggleDatabaseView:mstrmojo.emptyFn,viewMode:VIEW_MODE_AUTO_FIT,fixedViewSize:null,init:function init(props){this._super(props);var evtConfig={},tableConfig=evtConfig[this.id]={},width,height,size;tableConfig.windowSizeChanged=this.adjustSize;mstrApp.getRootController().attachDataChangeListeners(evtConfig);if(this.viewMode===VIEW_MODE_AUTO_FIT&&!mstrApp.isCloudPro){this.viewMode=VIEW_MODE_FIXED_SIZE;size=mstrApp.container.size;if(size){width=parseInt(size.w,10);height=parseInt(size.h,10);}this.fixedViewSize=(!isNaN(width)&&!isNaN(height))?{w:width+"px",h:height+"px"}:{w:"1006px",h:"540px"};}if(this.viewMode===VIEW_MODE_FIXED_SIZE){this.getBrowserDimensions=function getBrowserDimensions(){return this.fixedViewSize;};}},preBuildRendering:function preBuildRendering(){if(this._super){this._super();}this.adjustSize({size:mstrApp.size});},children:[{scriptClass:"mstrmojo.ui.Splitter",cssClass:"mstrmojo-qb-es-whole-panel",config:{firstSplit:{v:"40%",min:"335px",max:undefined},secondSplit:{v:"60%",min:"300px",max:undefined},resizeHandle:{v:"2px"}},getLayoutOffsets:function getLayoutOffsets(){return{h:0,w:48};},slot:"layout",alias:"main",children:[{scriptClass:"mstrmojo.qb.thirdParty.BISourceSelector",slot:FIRST_ITEM_SLOT,alias:"srcSelector"},{scriptClass:"mstrmojo.qb.thirdParty.SourceInput",slot:SECOND_ITEM_SLOT,alias:"srcInput"}]}],adjustSize:function(evt){var size=evt.size,isCloud=mstrApp.isCloudPro,widthDelta=isCloud?40:0,heightDelta=isCloud?180:104;var width=parseInt(size.w,10)-widthDelta+"px",height=parseInt(size.h,10)-heightDelta+"px";if(this.height&&height!==this.height){this.set("height",height);}else{this.height=height;}if(this.width&&width!==this.width){this.set("width",width);}else{this.width=width;}return true;},getSrcCnt:function(){return this.main.srcInput.children.length;},getSrcUrls:function getSrcUrls(){return this.main.srcInput.getSrcs();},removeSrcs:function removeSrcs(urls){this.main.srcInput.removeSrcs(urls);}});}());