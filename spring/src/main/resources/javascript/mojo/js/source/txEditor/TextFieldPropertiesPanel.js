(function(){mstrmojo.requiresCls("mstrmojo._CanValidate","mstrmojo.Pulldown","mstrmojo.expr","mstrmojo.num","mstrmojo.txEditor.CommonComponent","mstrmojo.txEditor.Container","mstrmojo.txEditor.Table");mstrmojo.requiresDescs(1549,2099,2100,4449,8252,8259,8330,8983,8984,8985,8986,8987,8988,8998);var _TC=mstrmojo.txEditor.CommonComponent,_DTP=mstrmojo.expr.DTP,_N=mstrmojo.num,_V=mstrmojo.validation,_TR=_V.TRIGGER,_SC=_V.STATUSCODE,NO_VALIDATION=0,PHONE_NO=1,EMAIL_ADDRESS=2,ZIP_CODE=3,SOCIAL_SECURITY_NO=4,REG_EXP=5,VALIDATION_METHODS_OTHER=[{n:mstrmojo.desc(1549),v:NO_VALIDATION},{n:mstrmojo.desc(8983),v:REG_EXP}],VALIDATION_METHODS_NUM=[{n:mstrmojo.desc(1549),v:NO_VALIDATION},{n:mstrmojo.desc(8984),v:PHONE_NO},{n:mstrmojo.desc(8985),v:ZIP_CODE},{n:mstrmojo.desc(8986),v:SOCIAL_SECURITY_NO},{n:mstrmojo.desc(8983),v:REG_EXP}],VALIDATION_METHODS_STR=[{n:mstrmojo.desc(1549),v:NO_VALIDATION},{n:mstrmojo.desc(8984),v:PHONE_NO},{n:mstrmojo.desc(8987),v:EMAIL_ADDRESS},{n:mstrmojo.desc(8985),v:ZIP_CODE},{n:mstrmojo.desc(8986),v:SOCIAL_SECURITY_NO},{n:mstrmojo.desc(8983),v:REG_EXP}],_getVis=_TC.getVis;mstrmojo.txEditor.TextFieldPropertiesPanel=mstrmojo.declare(mstrmojo.txEditor.Container,null,{scriptClass:"mstrmojo.txEditor.TextFieldPropertiesPanel",cssClass:"mstrmojo-TransactionEditor-TextField",children:[{scriptClass:"mstrmojo.txEditor.Table",layout:[{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{colSpan:3}]}],children:[_TC.createRequiredCheckBox({slot:"0,0"}),_TC.createLabel({slot:"5,0"},mstrmojo.desc(14627,"Validation:")),{slot:"5,1",alias:"textFieldValidation",scriptClass:"mstrmojo.Pulldown",popupToBody:true,popupZIndex:112,itemIdField:"v",defaultText:" ",defaultSelection:0,getVisibility:_getVis,_initValue:function(){var txInput=mstrmojo.all.teModel.currentTxInput,dtp=txInput.dtp,vm=txInput.ctl.pr.vm;this.set("items",_TC.isNumericType(dtp)?VALIDATION_METHODS_NUM:(_TC.isStringType(dtp)?VALIDATION_METHODS_STR:VALIDATION_METHODS_OTHER));this.set("value",vm);},onvalueChange:function(){mstrmojo.all.teModel.currentTxInput.ctl.pr.set("vm",this.value);}},_TC.createLabel({slot:"1,0",getVisibility:function(){return _TC.isStringType(mstrmojo.all.teModel.currentTxInput.dtp);}},mstrmojo.desc(8252)+":"),_TC.createTextInput({slot:"1,1",size:7,dtp:_DTP.INTEGER,min:1,max:999999,_isVisible:function(){return _TC.isStringType(mstrmojo.all.teModel.currentTxInput.dtp);},bindings:{enabled:function(){var vm=parseInt(this.parent.textFieldValidation.value,10);if(vm===PHONE_NO||vm===ZIP_CODE||vm===SOCIAL_SECURITY_NO){this.set("value",256);return false;}return true;}}},"ml"),_TC.createLabel({slot:"1,2",getVisibility:function(){return _TC.isStringType(mstrmojo.all.teModel.currentTxInput.dtp);}},mstrmojo.desc(8259)),_TC.createLabel({slot:"2,0",getVisibility:function(){return _TC.isStringType(mstrmojo.all.teModel.currentTxInput.dtp);}},mstrmojo.desc(8988)+":"),_TC.createTextInput({slot:"2,1",size:7,dtp:_DTP.INTEGER,min:0,max:999999,_isVisible:function(){return _TC.isStringType(mstrmojo.all.teModel.currentTxInput.dtp);},bindings:{enabled:function(){var vm=parseInt(this.parent.textFieldValidation.value,10);if(vm===PHONE_NO||vm===ZIP_CODE||vm===SOCIAL_SECURITY_NO){this.set("mnl",0);return false;}return true;}}},"mnl"),_TC.createLabel({slot:"2,2",getVisibility:function(){return _TC.isStringType(mstrmojo.all.teModel.currentTxInput.dtp);}},mstrmojo.desc(8259)),_TC.createCheckBox({slot:"3,0",alias:"textFieldMinValue",text:mstrmojo.desc(2100),_isVisible:function(){return _TC.isNumericType(mstrmojo.all.teModel.currentTxInput.dtp);}},"emin"),_TC.createTextInput({slot:"3,1",size:7,dtp:_DTP.DOUBLE,_isVisible:function(){return _TC.isNumericType(mstrmojo.all.teModel.currentTxInput.dtp);},_initValue:function(){this.set("value",_N.toLocaleString(mstrmojo.all.teModel.currentTxInput.ctl.pr.min));},bindings:{enabled:"this.parent.textFieldMinValue.checked"},updateModel:function(v){mstrmojo.all.teModel.currentTxInput.ctl.pr.min=(v?_N.toString(v,true):null);}},"min"),_TC.createCheckBox({slot:"4,0",alias:"textFieldMaxValue",text:mstrmojo.desc(2099),_isVisible:function(){return _TC.isNumericType(mstrmojo.all.teModel.currentTxInput.dtp);}},"emax"),_TC.createTextInput({slot:"4,1",size:7,dtp:_DTP.DOUBLE,_isVisible:function(){return _TC.isNumericType(mstrmojo.all.teModel.currentTxInput.dtp);},_initValue:function(){this.set("value",_N.toLocaleString(mstrmojo.all.teModel.currentTxInput.ctl.pr.max));},bindings:{enabled:"this.parent.textFieldMaxValue.checked"},updateModel:function(v){mstrmojo.all.teModel.currentTxInput.ctl.pr.max=(v?_N.toString(v,true):null);}},"max"),_TC.createLabel({slot:"6,0",bindings:{visible:function(){return this.parent.textFieldValidation.value===REG_EXP;}},getVisibility:function(){return this.parent.textFieldValidation.value===REG_EXP;}},mstrmojo.desc(4449)+":"),_TC.createTextInput({slot:"6,1",dtp:_DTP.VARCHAR,constraints:{trigger:_TR.ALL,validator:function(v){try{new RegExp(v);return{code:_SC.VALID};}catch(e){return{code:_SC.INVALID,msg:mstrmojo.desc(8998)};}}},_isVisible:function(){return this.parent.textFieldValidation.value===REG_EXP;},bindings:{visible:function(){return this.parent.textFieldValidation.value===REG_EXP;}},onvisibleChange:function(){if(this.visible){this.set("value",mstrmojo.all.teModel.currentTxInput.ctl.pr.rgx);}}},"rgx"),_TC.createCheckBox({slot:"7,0",text:mstrmojo.desc(8330),_isVisible:function(){return mstrmojo.all.teModel.rwTxs.tp===_TC.RW_UNIT_TYPE.RW_UNIT_FIELDGROUP;}},"psw")]}]});}());