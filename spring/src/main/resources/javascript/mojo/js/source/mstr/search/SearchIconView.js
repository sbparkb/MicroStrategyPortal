(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.array","mstrmojo.string","mstrmojo.Container","mstrmojo.WidgetList","mstrmojo.mstr._ObjectActions");mstrmojo.requiresDescs(3364,3366,9202);var $DESC=mstrmojo.desc,$CSS=mstrmojo.css,$escape4HTMLText=mstrmojo.string.escape4HTMLText;mstrmojo.mstr.search.SearchIconView=mstrmojo.declare(mstrmojo.WidgetList,[mstrmojo.mstr._ObjectActions],{scriptClass:"mstrmojo.mstr.search.SearchIconView",init:function init(props){this._super(props);$CSS.addWidgetCssClass(this,"mstrmojo-SearchIconView");},itemFunction:function itemFunction(item,idx,w){var itemWidget=new mstrmojo.mstr.search.SearchIconItem({parent:w,idx:idx,data:item});w.attachListener4ItemWidget(itemWidget,w);return itemWidget;},attachListener4ItemWidget:function attachListener4ItemWidget(itemWidget,listenerWidget){var evts=["ItemExecute"],len=evts.length,i;for(i=0;i<len;i++){itemWidget.attachEventListener(evts[i],listenerWidget.id,"itemEventHandler");}return itemWidget;},itemEventHandler:function(evt){var evtName=evt.name,data=evt.data;switch(evtName){case"ItemExecute":this.execute(data,{zIndex:mstrmojo.mstr.search.Search.zIndex+2});break;}}});mstrmojo.mstr.search.SearchIconItem=mstrmojo.declare(mstrmojo.Container,[],{scritpClass:"mstrmojo.mstr.search.SearchIconItem",markupString:'<div class="mstrmojo-SearchIconItem" mstrAttach:click ><i class="mstrIcon-lg" data-role="icn"></i><div class="ttl" data-role="ttl"></div><div class="owner" data-role="owner"><label>'+$DESC(3364,"Owner:")+'</label><span></span></div><div class="modified" data-role="mdt"><label>'+$DESC(3366,"Modified:")+'</label><span></span></div><div class="desc" data-role="desc"></div></div>',markupSlots:{iconNode:function(){return this.domNode.firstChild;},titleNode:function(){return this.domNode.childNodes[1];},ownerNode:function(){return this.domNode.childNodes[2].lastChild;},modifiedNode:function(){return this.domNode.childNodes[3].lastChild;},descNode:function(){return this.domNode.lastChild;}},markupMethods:{ondataChange:function(){var item=this.data||{},desc=item.desc||"";$CSS.addClass(this.iconNode,this.getIconCls(item));this.titleNode.innerHTML=$escape4HTMLText(item.n);this.ownerNode.innerHTML=$escape4HTMLText(item.owner);this.modifiedNode.innerHTML=$escape4HTMLText(item.mdt);this.descNode.innerHTML=this.allowHTMLOnObjectDesc?desc:$escape4HTMLText(desc);}},data:{},getIconCls:function getIconCls(item){item=item||this.data;return"t"+item.t+(item.st?" st"+item.st:"")+(item.isc?" isc":"")+(item.dvm?" dvm"+item.dvm:"");},onclick:function onclick(evt){var tgt=evt.getTarget(),role=(tgt.dataset&&tgt.dataset.role)||tgt.getAttribute("data-role");if(role==="icn"||role==="ttl"){this.raiseEvent({name:"ItemExecute",data:this.data});}}});}());