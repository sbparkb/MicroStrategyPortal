(function(){mstrmojo.requiresCls("mstrmojo.debug");var MAX_DEPTH=14;var SPACES="                              ";var NL="\n";function isArray(obj){return toString.call(obj)==="[object Array]";}function arrayToString(a,depth,params,nl){var d=depth||1;var spc=SPACES.substr(0,d);var output=["undefined"];var i;nl=nl||NL;if(a){output=["["];for(i=0;i<a.length;i++){if(i!==0){output.push(","+nl);}else{output.push(nl);}output.push(spc+objToString(a[i],d+1,params));}output.push(spc+spc+nl+"]");}return output.join("");}function hashToString(h,depth,params,nl){var d=depth||1,spc=SPACES.substr(0,d),i=0,output=["undefined"],ik=params.ignoreKeys;nl=nl||NL;if(h){output=["{"+nl];var key;for(key in h){if(params.ignoreFuncs&&typeof h[key]==="function"){continue;}else{if(ik&&ik[key]){continue;}}if(i===0){output.push(nl);}else{output.push(","+nl);}output.push(spc+'"'+key+'": ');if(key==="window"||key==="document"||key==="mstrmojo"||key==="global"){if(h[key]==="null"){output.push("null");}else{output.push("["+key+"]");}}else{if(/.*Sibling*/.test(key)){if(h[key]==="null"){output.push("null");}else{output.push("["+typeof h[key]+"]");}}else{if(key==="target"){if(h[key]==="null"){output.push("null");}else{output.push("[id="+h[key].id+"]");}}else{output.push(objToString(h[key],d+1,params));}}}i++;}output.push(spc+spc+nl+"}");}return output.join("");}function touchListToString(touchList,depth,params,nl){var numTouches=touchList.length;var d=depth||1;var spc=SPACES.substr(0,d);var output=["["];nl=nl||NL;var k;for(k=0;k<numTouches;k++){if(k===0){output.push(" ");}else{output.push(", ");}output.push(objToString(touchList[k],d+1,params," "));}output.push("]");return output.join("");}function touchEventToString(evt,depth,params,nl){var d=depth||1;var spc=SPACES.substr(0,d);var output=[];nl=nl||NL;output.push(spc+"{"+nl);output.push(spc+"changedTouches: ");output.push(touchListToString(evt.changedTouches,d+1,params)+","+nl);output.push(spc+"touches: ");output.push(touchListToString(evt.touches,d+1,params)+","+nl);output.push(spc+"targetTouches: ");output.push(touchListToString(evt.targetTouches,d+1,params)+nl);output.push(spc+"}"+nl);return output.join("");}function objToString(o,depth,params,nl){var d=depth||1;var spc=(nl===" ")?"":SPACES.substr(0,d);var i=0;var output=[];nl=nl||NL;if(o===null){output.push("null");}else{if(o===undefined){output.push("undefined");}else{if(isArray(o)){output.push(arrayToString(o,d+1,params));}else{if(typeof o==="function"){output.push("function");}else{if(o instanceof HTMLElement){output.push("[HTMLElement, id="+o.id+"]");}else{if(o instanceof TouchEvent){output.push(touchEventToString(o,d+1,params));}else{if(o===window||o===document){output.push(o.toString());}else{if(typeof o==="object"){if(d<=params.maxDepth){output.push(hashToString(o,d+1,params,nl));}else{output.push("["+(typeof o)+"]");}}else{if(typeof o==="string"){output.push('"'+o.replace(/"/g,'\\"')+'"');}else{output.push(o.toString());}}}}}}}}}return output.join("");}mstrmojo.debug.utils={objectToString:function objectToString(o,params){var depth=0;return objToString(o,depth,params);},touchEventToString:function touchEventToString(evt){var depth=0;return objToString(evt,depth);}};mstrmojo.dbg_obj=function dbg_obj(obj,userParams){var params={ignoreFuncs:false,ignoreKeys:{},maxDepth:MAX_DEPTH};userParams=userParams||{};var n;for(n in userParams){params[n]=userParams[n];}mstrmojo.dbg(mstrmojo.debug.utils.objectToString(obj,params));};mstrmojo.dbg_touchEvent=function dbg_touchEvent(obj){mstrmojo.dbg(mstrmojo.debug.utils.touchEventToString(obj));};}());