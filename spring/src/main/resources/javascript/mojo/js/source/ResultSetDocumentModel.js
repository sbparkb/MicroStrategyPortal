(function(){mstrmojo.requiresCls("mstrmojo.DocModel","mstrmojo.func","mstrmojo.hash");var $FWM=mstrmojo.func.wrapMethods,$HSH=mstrmojo.hash;function wrapCallback(callback){var model=this;return $FWM({success:function(res){mstrmojo.hash.copy(res,model);}},callback);}function submitToDataService(methodName,args){var dataService=this.getDataService();dataService[methodName].apply(dataService,args);}function getPromptsCallback(){var model=this;return function(res){model.setPrompts(model.getDataService().getPrompts());};}mstrmojo.ResultSetDocumentModel=mstrmojo.declare(mstrmojo.DocModel,null,{scriptClass:"mstrmojo.ResultSetDocumentModel",setPrompts:function setPrompts(prompts){this.prompts=prompts;if(prompts){prompts.host=this;}},execute:function execute(params,callback,resParams){var model=this,p=$HSH.copy(params,{dssId:params.did}),cbs;p.objType=params.objType||params.t;if(params.forceExec){p.freshExec=true;p.doNotUpdateCaches=true;}cbs=$FWM({success:function(res){$HSH.copy(res,model);model.setPrompts(model.getDataService().getPrompts());},prompts:getPromptsCallback.call(model)},callback);submitToDataService.call(this,"execute",[p,model.newCallback($HSH.copy({method:"execute"},cbs)),resParams]);},open:function open(params,callback){var model=this;if(params.data){$HSH.copy(params.data,model);}if(callback.success){callback.success(model);}if(callback.complete){callback.complete(model);}},answerPrompts:function answerPrompts(callback){submitToDataService.call(this,"answerPrompts",[this.prompts,wrapCallback.call(this,callback)]);},linkToObject:function linkToObject(params,callback){var model=this,cb=$FWM({prompts:getPromptsCallback.call(this)},callback),sc=cb.success;cb.success=function(res){$HSH.copy(res,model);model.setPrompts(model.getDataService().getPrompts());model.gbElements=params.groupByElements;sc(res);delete model.gbElements;};submitToDataService.call(this,"linkToObject",[params,cb]);},getPageByTree:function getPageByTree(callback){this.getDataService().getPageByTree(callback);}});}());