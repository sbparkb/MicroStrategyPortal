(function(){mstrmojo.requiresCls("mstrmojo.Base");mstrmojo.requiresClsP("mstrmojo.gm","GMUtility","GMEnums");var $AST=mstrmojo.gm.EnumAxisScale,GMUTIL=mstrmojo.gm.GMUtility;var ASC=mstrmojo.gm.GMAxisScale=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.gm.GMAxisScale",axKey:undefined,rMin:undefined,rMax:undefined,mMin:undefined,mMax:undefined,logScale:false,scaleType:undefined,minMax:undefined,isCust:false,autoMin:false,autoMax:false,init:function(props){this._super(props);if(this.mMin===undefined){this.mMin=this.rMin;}if(this.mMax===undefined){this.mMax=this.rMax;}if(props.minMax!==undefined&&props.minMax!==$AST.CUSTOM){this.scaleType=props.minMax;}},absorbInfo:function(axScaleObj){var isCust;if(this.axKey!==axScaleObj.axKey){return ;}this.logScale=axScaleObj.logScale;this.scaleType=axScaleObj.scaleType;isCust=this.isCust=axScaleObj.isCust;if(isCust===false){return ;}this.mMin=axScaleObj.mMin;this.mMax=axScaleObj.mMax;this.autoMin=axScaleObj.autoMin;this.autoMax=axScaleObj.autoMax;},serialize2String:function(){return[this.axKey,this.scaleType,this.mMin,this.mMax,this.rMin,this.rMax,this.logScale,this.autoMin,this.autoMax].join(":");}});mstrmojo.gm.GMAxisScale.createAxisScaleFromArr=function(infoArr){var props={axKey:infoArr[0],scaleType:parseInt(infoArr[1],10),mMin:parseFloat(infoArr[2]),mMax:parseFloat(infoArr[3]),rMin:parseFloat(infoArr[4]),rMax:parseFloat(infoArr[5]),logScale:infoArr[6]===""?undefined:GMUTIL.isTrueForBoolValue(infoArr[6]),autoMin:GMUTIL.isTrueForBoolValue(infoArr[7]),autoMax:GMUTIL.isTrueForBoolValue(infoArr[8])};props.isCust=(props.mMin!==props.rMin||props.mMax!==props.rMax)||props.scaleType===$AST.CUSTOM;return new ASC(props);};mstrmojo.gm.GMAxisScale.createAxisScaleCollectionFromArrays=function(axisScaleDataArr,resASCollection){resASCollection=resASCollection||{};axisScaleDataArr.forEach(function(axisScaleArr){resASCollection[axisScaleArr[0]]=mstrmojo.gm.GMAxisScale.createAxisScaleFromArr(axisScaleArr);});return resASCollection;};mstrmojo.gm.GMAxisScale.createAllMetricsAxObj=function(axScaleCollection){var key,props={axKey:"AllMetrics"},mMinArr=[],mMaxArr=[],axObj,logScaleAllSame=true,autoMinAllSame=true,autoMaxAllSame=true;if(axScaleCollection.AllMetrics!==undefined){return ;}for(key in axScaleCollection){if(key!=="AllMetrics"&&axScaleCollection.hasOwnProperty(key)){axObj=axScaleCollection[key];if(props.rMin===undefined){props.rMin=axObj.rMin;}else{if(props.rMin>axObj.rMin){props.rMin=axObj.rMin;}}mMinArr.push(axObj.mMin);if(props.mMin===undefined){props.mMin=axObj.mMin;}else{if(props.mMin>axObj.mMin){props.mMin=axObj.mMin;}}if(props.rMax===undefined){props.rMax=axObj.rMax;}else{if(props.rMax<axObj.rMax){props.rMax=axObj.rMax;}}mMaxArr.push(axObj.mMax);if(props.mMax===undefined){props.mMax=axObj.mMax;}else{if(props.mMax<axObj.mMax){props.mMax=axObj.mMax;}}if(props.logScale===undefined){props.logScale=axObj.logScale;}else{if(props.logScale!==axObj.logScale){logScaleAllSame=false;}}if(props.scaleType===undefined){props.scaleType=axObj.scaleType;}else{if(props.scaleType!==axObj.scaleType){props.scaleType=$AST.DIFFERENT;}}if(props.autoMin===undefined){props.autoMin=axObj.autoMin;}else{if(props.autoMin!==axObj.autoMin){props.autoMin=false;autoMinAllSame=false;}}if(props.autoMax===undefined){props.autoMax=axObj.autoMax;}else{if(props.autoMax!==axObj.autoMax){props.autoMax=false;autoMaxAllSame=false;}}}}if(!logScaleAllSame){props.logScale=undefined;}props.isCust=(props.mMin!==props.rMin||props.mMax!==props.rMax)||props.scaleType===$AST.CUSTOM;if(props.scaleType===$AST.CUSTOM){var dif=false;mMaxArr.forEach(function(sMax){if(sMax!==props.mMax){dif=true;}});mMinArr.forEach(function(sMin){if(sMin!==props.mMin){dif=true;}});if(!autoMinAllSame||!autoMaxAllSame){dif=true;}if(dif){props.scaleType=$AST.DIFFERENT;}}axScaleCollection.AllMetrics=new ASC(props);return axScaleCollection.AllMetrics;};mstrmojo.gm.GMAxisScale.serializeCollection2String=function(axScaleCollection){var key,allMetricsObj=axScaleCollection.AllMetrics,stringArr=[];if(allMetricsObj===undefined){allMetricsObj=mstrmojo.gm.GMAxisScale.createAllMetricsAxObj(axScaleCollection);}stringArr.push(allMetricsObj.serialize2String());for(key in axScaleCollection){if(key!=="AllMetrics"&&axScaleCollection.hasOwnProperty(key)){stringArr.push(axScaleCollection[key].serialize2String());}}return stringArr.join(",");};}());