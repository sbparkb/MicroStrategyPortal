(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.List","mstrmojo.ui.LayoutBox","mstrmojo.ui.Splitter","mstrmojo.Refine.RefineFacetPanel","mstrmojo.Refine.RefineDataPreview","mstrmojo.Refine.RefineHistoryList");mstrmojo.Refine.RefinePanel=mstrmojo.declare(mstrmojo.ui.Splitter,null,{scriptClass:"mstrmojo.Refine.RefinePanel",alias:"refinePanel",cssClass:"refine-panal",markupString:'<div id="{@id}" class="mstrmojo-Splitter {@orientationCss} {@cssClass}"><div class="mstrmojo-SplitterPanel refine-transformation-panal"></div><div class="mstrmojo-SplitterHandle refine-panal-middle"></div><div class="mstrmojo-SplitterPanel"></div><div class="mstrmojo-clearingDiv"></div></div>',setDimensions:function setDimensions(h,w){var height=parseInt(h,10);var width=parseInt(w,10);if(isNaN(height)||isNaN(width)){return ;}if(!this.layoutConfig){this.layoutConfig={h:{},w:{}};}var contentWidth=Math.max(width,980);this.layoutConfig.w.firstSplitNode=contentWidth+"px";this.layoutConfig.w.resizeHandleNode=contentWidth+"px";this.layoutConfig.w.secondSplitNode=contentWidth+"px";if(this._super){this._super(height+"px",width+"px");}},postBuildRendering:function postBuildRendering(){this.setDimensions("0px","0px");this.setDimensions(this.parent.refinePanelNode.style.height,this.parent.refinePanelNode.style.width);if(this._super){this._super();}},handleSampleStatusChanged:function(){var facetPanel=this.bottomPanal.splitter.facetPanel;if(facetPanel&&facetPanel.hasRendered){facetPanel.resetAllFacets();}facetPanel.updateEngine(false);},config:{firstSplit:{v:"150px",min:"100px",max:undefined},secondSplit:{v:"100%",min:"100px",max:undefined},resizeHandle:{v:"2px"}},orientation:1,children:[{slot:"firstSplitNode",alias:"topPanal",scriptClass:"mstrmojo.ui.LayoutBox",cssClass:"refine-panal-top",setDimensions:function setDimensions(h,w){var height=parseInt(h,10);var width=parseInt(w,10);if(!this.layoutConfig){this.layoutConfig={h:{},w:{}};}this.layoutConfig.h.containerNode=height+"px";this.layoutConfig.w.containerNode=(width)+"px";if(mstrmojo.ui.LayoutBox.prototype.setDimensions){mstrmojo.ui.LayoutBox.prototype.setDimensions.call(this,height+"px",(width-22)+"px");}}},{slot:"secondSplitNode",alias:"bottomPanal",scriptClass:"mstrmojo.ui.LayoutBox",cssClass:"refine-panal-bottom",children:[{alias:"splitter",scriptClass:"mstrmojo.ui.Splitter",orientation:1,draggable:false,config:{firstSplit:{v:"100%"},secondSplit:{v:"120px"},resizeHandle:{v:"11px"}},children:[{slot:"secondSplitNode",alias:"facetPanel",scriptClass:"mstrmojo.Refine.RefineFacetPanel"}]}],setDimensions:function setDimensions(h,w){var height=parseInt(h,10);var width=parseInt(w,10);if(!this.layoutConfig){this.layoutConfig={h:{},w:{}};}this.layoutConfig.h.containerNode=(height-28)+"px";this.layoutConfig.w.containerNode=(width)+"px";if(mstrmojo.ui.LayoutBox.prototype.setDimensions){mstrmojo.ui.LayoutBox.prototype.setDimensions.call(this,height+"px",width+"px");}}}]});}());