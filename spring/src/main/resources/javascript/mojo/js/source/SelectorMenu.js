(function(){mstrmojo.requiresCls("mstrmojo.registry","mstrmojo.Popup","mstrmojo.MenuItem","mstrmojo.Box","mstrmojo.MetricSelectorUtility");var $ID="mstrSelectorMenu",$S="mstrmojo.all['"+$ID+"'].selector",$BOX="mstrmojo.Box",$BOXC="mstrmojo-Menu-Box",$PRS="pressed",$QUA="qua",$QBIND=$S+"."+$QUA+"==",$IBIND="!!"+$S+".include",$MUQ=mstrmojo.MetricSelectorUtility.Q,$D=mstrmojo.desc;function createSctrMnBtn(t,clickName,clickValue,pressedBinding){var btn={scriptClass:"mstrmojo.MenuItem",text:t,cssClass:"mstrmojo-InteractiveButton",onclick:function(){var p=mstrmojo.all[$ID],s=p.selector;s.set(clickName,clickValue);p.close();},bindings:{pressed:pressedBinding,enabled:"mstrmojo.all['"+$ID+"'].optEnabled",iconClass:"this."+$PRS+" ? ' "+$PRS+"' : ' ' "},onpressedChange:function(){if(this.domNode){mstrmojo.css.toggleClass(this.domNode,$PRS,this.pressed);}}};return btn;}mstrmojo.SelectorMenu=mstrmojo.registry.ref({id:"mstrSelectorMenu",slot:"popupNode",scriptClass:"mstrmojo.Popup",cssClass:"mstrmojo-Menu",shadowNodeCssClass:"mstrmojo-Menu-shadow",contentNodeCssClass:"mstrmojo-Menu-content",locksHover:true,optEnabled:true,onOpen:function onOpen(){var op=this.opener,opNode=op&&op[this.slot],opPos=mstrmojo.dom.position(opNode),opTop=opPos.y||0,cmPos=this.cmPos,x,y,diff;if(cmPos){x=cmPos.x;y=cmPos.y-opTop;}else{var el=this.openerButton.domNode;diff=mstrmojo.boxmodel.offset(el,opNode);x=diff.left;y=diff.top+((el&&el.offsetHeight)||0);}var dim=mstrmojo.dom.windowDim(),dn=this.domNode;var h=dn.offsetHeight,bH=dim.h-opTop;diff=Math.max(0,y+h-bH);this.set("top",y-diff+"px");var w=dn.offsetWidth,bW=dim.w;diff=Math.max(0,x+w-bW);this.set("left",x-diff+"px");var s=mstrmojo.all[$ID].selector;if(s&&s.isInFilterPanel()){var fps=s.getFilterPanel();if(fps){this.set("optEnabled",!!fps.defn.cas);}}},children:[{scriptClass:$BOX,bindings:{visible:$S+".style==7"},cssClass:$BOXC,children:[createSctrMnBtn($D(3945,"Include"),"include",true,$IBIND),createSctrMnBtn($D(3946,"Exclude"),"include",false,"!"+$IBIND)]},{scriptClass:$BOX,cssClass:$BOXC,bindings:{visible:$S+".style==7||"+$S+".style==8"},children:[createSctrMnBtn($D(527,"Value"),$QUA,$MUQ._G,$QBIND+"0"),createSctrMnBtn($D(8070,"Rank Highest"),$QUA,$MUQ._RT,$QBIND+"1"),createSctrMnBtn($D(8071,"Rank Lowest"),$QUA,$MUQ._RB,$QBIND+"2"),createSctrMnBtn($D(8072,"Rank % Highest"),$QUA,$MUQ._PT,$QBIND+"3"),createSctrMnBtn($D(8073,"Rank % Lowest"),$QUA,$MUQ._PB,$QBIND+"4")]}]});}());