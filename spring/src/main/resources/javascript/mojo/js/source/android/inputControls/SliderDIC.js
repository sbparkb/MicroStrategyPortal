(function(){mstrmojo.requiresCls("mstrmojo.SliderBox","mstrmojo._IsInputControl","mstrmojo.android._HasPreviewButton","mstrmojo.ui.MobileSlider","mstrmojo.num");var INPUT_VALUES_MANUAL=1,$NUM=mstrmojo.num;mstrmojo.android.inputControls.SliderDIC=mstrmojo.declare(mstrmojo.SliderBox,[mstrmojo._IsInputControl,mstrmojo.android._HasPreviewButton],{scriptClass:"mstrmojo.android.inputControls.SliderDIC",popupStyle:1,init:function init(props){var sbMin,sbMax,sbItv,sb;this._super(props);this.items=this.getItems();this.cssClass=this.showByDefault?"mstrmojo-SliderGroup":"mstrmojo-PopupSlider";if(this.dic.ipt!==INPUT_VALUES_MANUAL){this.isSequential=true;sbMax=this.max=this.dic.max;sbMin=this.min=this.dic.min;sbItv=this.interval=this.dic.itv;}else{sbMin=1;sbMax=this.items.length;sbItv=1;}sb=this.sliderBar;if(sb){sb.min=sbMin;sb.max=sbMax;sb.interval=sbItv;}},preBuildRendering:function preBuildRendering(){var dic=this.dic,ldw=(dic.ldw!=null)?dic.ldw/100:0.4,os;this.valueText=this.dv;this._super();if(this.showByDefault){os=this.openerStyle;this.valueCssText="left:-"+os.iw*ldw+"px;width:"+os.iw*ldw+"px";this.cssText="width:"+os.iw*(1-ldw)+"px";this.alignSlider(this.openerNode,os.ih);}},onpopupResized:function onpopupResized(){var sb=this.sliderBar;if(sb){sb.refresh();}},sliderRef:{scriptClass:"mstrmojo.ui.MobileSlider",onslidingValueChange:function(){if(this.hasRendered){this.selectedIdx=parseInt((this.slidingValue-this.min)/this.interval,10)||0;this.parent.selectedIdxChanged(this.selectedIdx);}},selectedIdx:0,select:function(v){this.selectedIdx=v||0;this.slidingValue=this.value=this.min+v*this.interval;}},selectedIdxChanged:function selectedIdxChanged(v){var item=this.items[v],sv=item&&item.n;this.set("value",$NUM.toLocaleString(sv));this.set("valueText",$NUM.toLocaleString(sv));}});}());