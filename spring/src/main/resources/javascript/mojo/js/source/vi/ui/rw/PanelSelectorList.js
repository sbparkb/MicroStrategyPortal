(function(){mstrmojo.requiresCls("mstrmojo.ListBase","mstrmojo._IsList","mstrmojo.ui._HasScroller");var $DOM=mstrmojo.dom,$STR=mstrmojo.string;var itemMarkup;function centerList(){var firstItemNode=this._getItemNode(0);if(firstItemNode){var newWidth=(Math.min(this.maxVisibleButtons,this.items.length)*firstItemNode.offsetWidth)+"px",domNodeStyle=this.domNode.style;if(newWidth!==domNodeStyle.width){domNodeStyle.width=newWidth;if(!this._sbto){this._sbto=window.setTimeout(function(){delete this._sbto;this.updateScrollbars();}.bind(this),0);}}}}mstrmojo.vi.ui.rw.PanelSelectorList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.vi.ui.rw.PanelSelectorList",init:function init(props){this._super(props);mstrmojo.css.addWidgetCssClass(this,"mstrmojo-ui-PanelSelectorList");},multiSelect:false,maxVisibleButtons:10,getItemMarkup:function getItemMarkup(item){if(!itemMarkup){itemMarkup=this._super(item).replace(">{@en@n}<",' title="{@en@n}"><div></div><');}return itemMarkup;},getItemProps:function getItemProps(item,idx){var props=this._super(item,idx);props.n=item.n+" ("+(idx+1)+"/"+this.items.length+")";return props;},setupScrollNodes:function setupScrollNodes(){this.scrollNode=this.itemsContainerNode;},_set_items:function _set_items(propName,propValue){this._super(propName,propValue);centerList.call(this);},selectPanel:function selectPanel(id){var items=this.items,idx=mstrmojo.array.find(items,"id",id);this.singleSelect(idx);return items[idx];},postBuildRendering:function postBuildRendering(){var rtn=this._super();centerList.call(this);return rtn;},useRichTooltip:true,getItemTooltip:function(item,itemNode){var position=$DOM.position(itemNode),content="<div>"+$STR.encodeHtmlString(item.n,true)+" "+((item.idx+1)+"/"+this.items.length)+"</div>";var richTooltip={areaId:item._renderIdx+"text",cssClass:"vi-regular vi-tooltip-V V-center",contentNodeCssClass:"regular-unitlist-tooltips",posType:mstrmojo.tooltip.POS_BOTTOMCENTER,content:content,top:position.y-4,left:position.x+10,enableHover:true};return richTooltip;},showTooltip:function showTooltip(evt,win){var target=evt.target||$DOM.eventTarget(evt.hWin,evt.e),item=this.getItemFromTarget(target);if(item&&item.n){this.richTooltip=this.getItemTooltip(item,this.getItemNodeFromTarget(target));this._super(evt,win);}}});}());