(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.StackContainer","mstrmojo.ui.CheckList","mstrmojo.DI.DIResourceAdmin","mstrmojo.DI.DIDBRoleAdmin","mstrmojo.DI.DIConstants");mstrmojo.requiresDescs(14460,14461);var constants=mstrmojo.DI.DIConstants,RESOURCE_MODE=0,DBROLE_MODE=1;mstrmojo.DI.DISourceListAdmin=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.DI.DISourceListAdmin",mode:RESOURCE_MODE,markupString:'<div id="{@id}" class="mstrmojo-di-sources-admin {@cssClass}"><div class="mstrmojo-di-source-headers"></div><div class = "mstrmojo-di-source-content"></div></div>',markupSlots:{headersNode:function(){return this.domNode.children[0];},contentsNode:function(){return this.domNode.children[1];}},onmodeChange:function(){this.contentStack.set("selected",this.contentStack.children[this.mode]);},children:[{slot:"headersNode",scriptClass:"mstrmojo.ui.ButtonBar",cssClass:"mstrmojo-di-source-menu",renderOnScroll:false,showIcon:false,selectedIndex:0,postselectionChange:function(evt){var value=evt.added&&this.items[evt.added[0]].v;this.parent.set("mode",value);},items:[{n:mstrmojo.desc(14460,"Resources"),v:RESOURCE_MODE},{n:mstrmojo.desc(14461,"Databases"),v:DBROLE_MODE}]},{scriptClass:"mstrmojo.StackContainer",alias:"contentStack",cssClass:"mstrmojo-di-source-content-stack",slot:"contentsNode",children:[{scriptClass:"mstrmojo.DI.DIResourceAdmin",visible:true},{scriptClass:"mstrmojo.DI.DIDBRoleAdmin",visible:false}]}],preBuildRendering:function(){if(this._super){this._super();}var model=mstrApp.getRootController().getModel();this.onmodeChange();model.attachEventListener("windowSizeChanged",this.id,this.adjustSize);},adjustSize:function(evt){var width=Math.floor(parseInt(evt.size.w,10));if(!isNaN(width)&&width>0){this.set("width",width+"px");}},onFinishButtonClick:function(){var stack=this.contentStack;mstrApp.getRootController().saveSourceListAdminConfig(stack.children[0].getAdminConfig(),stack.children[1].getAdminConfig());},onBackButtonClick:function(){mstrApp.getRootController().showPage(constants.pageType.dataSelection);},onCancelButtonClick:function(){mstrApp.getRootController().showPage(constants.pageType.dataSelection);return true;},onHelpButtonClick:function onHelpButtonClick(){return"";}});}());