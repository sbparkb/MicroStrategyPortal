(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.ObjectBrowser");var $ARR=mstrmojo.array;var SUPPORTED_SUBTYPES=[257,1024,3072,12032];mstrmojo.vi.ui.editors.ObjectPicker=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.vi.ui.editors.ObjectPicker",cssClass:"mstrmojo-vi-ObjectPicker",zIndex:9,title:mstrmojo.desc(11496,"Select Object"),help:null,rootFolderID:null,rootFolderType:null,folderLinksContextId:4,supportedTypes:$ARR.hash(SUPPORTED_SUBTYPES),item:null,OKFn:null,children:[{scriptClass:"mstrmojo.ObjectBrowser",alias:"ob",closeable:false,browsableTypes:"8,"+SUPPORTED_SUBTYPES.join(","),closeOnSelect:false,showCompletePath:false,searchVisible:false,scrollableIncFetch:true,bindings:{rootFolderID:"this.parent.rootFolderID",rootFolderType:"this.parent.rootFolderType",folderLinksContextId:"this.parent.folderLinksContextId"}},{scriptClass:"mstrmojo.HBox",slot:"buttonNode",alias:"btnHBox",cssClass:"mstrmojo-Editor-buttonBar",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton hot",text:mstrmojo.desc(1442,"OK"),onclick:function onclick(){var editor=this.parent.parent;this.parent.parent.close({item:editor.item});var fn=editor.OKFn;if(fn){fn(editor.item);}editor.set("item",null);},bindings:{enabled:function enabled(){return !!this.parent.parent.item;}}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton",text:mstrmojo.desc(2399,"Cancle"),onclick:function onclick(){var editor=this.parent.parent;this.parent.parent.close();editor.set("item",null);}}]}],preBuildRendering:function preBuildRendering(){if(this._super){this._super();}this.ob.onSelectCB=[this,"onOBSelect"];},postBuildRendering:function postBuildRendering(){if(this._super){this._super();}this.browse();},onOBSelect:function onOBSelect(item){this.set("item",((this.supportedTypes[item.t]||this.supportedTypes[item.st])?item:null));},browse:function browse(){this.ob.browse();}});}());