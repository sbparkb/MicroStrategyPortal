(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.InlineEditBox","mstrmojo.Button");var SEPARATOR=": ";mstrmojo.qb.thirdParty.InlineEditBox=mstrmojo.declare(mstrmojo.InlineEditBox,null,{postCreate:function postCreate(){if(this._super){this._super();}this.markupMethods=mstrmojo.hash.copy(this.markupMethods);this.markupMethods.oneditModeChange=function(){var em=this.editMode,dn=this.domNode,tn=this.textNode,en=this.editNode;mstrmojo.css.toggleClass(dn,["edit"],em);if(em){tn.style.display="none";en.style.display="block";tn=this.inputNode;var tns=tn.style;tn.value=this.parent.url||"";tns.width=(dn.clientWidth-(this.okSave?(this.okNode.offsetWidth+this.cancelNode.offsetWidth):0))+"px";tns.height=dn.clientHeight+"px";tn.focus();if(tn.createTextRange){var tr=tn.createTextRange(),len=tn.value.length;tr.move("character",len);tr.select();}}else{tn.style.display="block";en.style.display="none";}};},save:function(){this.set("text",this.parent.dbRoleName+SEPARATOR+this.inputNode.value);this.set("editMode",false);if(this.onSave){this.onSave();}},rename:function(){if(this.editMode!==this.allowEdit){this.set("editMode",this.allowEdit);}},onSave:function(){this.parent.set("url",this.inputNode.value);},bindings:{text:function(){return this.parent.dbRoleName+SEPARATOR+this.parent.url;}}});mstrmojo.qb.thirdParty.UrlSourceItem=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.qb.thirdParty.UrlSourceItem",markupString:"<div class='qb-bi-source-url-list' mstrAttach:click ><div></div><div></div><div></div></div>",markupSlots:{containerNode:function(){return this.domNode;},iconNode:function(){return this.domNode.children[0];},contentNode:function(){return this.domNode.children[1];},deleteNode:function(){return this.domNode.children[2];}},allowEdit:true,url:"",dbRoleID:"",dbRoleName:"",children:[{slot:"iconNode",alias:"icon",cssClass:"mstrmojo-di-url-icon",scriptClass:"mstrmojo.Label"},{slot:"contentNode",alias:"text",cssClass:"urlItem-text-div",scriptClass:"mstrmojo.qb.thirdParty.InlineEditBox"},{scriptClass:"mstrmojo.Button",slot:"deleteNode",cssClass:"mstrmojo-url-delete-button",innerIconClass:"close-button",onclick:function(){this.parent.deleteURL();}}],deleteURL:function deleteURL(){this.parent.deleteURL(this);}});}());