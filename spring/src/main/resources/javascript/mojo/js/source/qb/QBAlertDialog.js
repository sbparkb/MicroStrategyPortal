(function(){mstrmojo.requiresCls("mstrmojo.Dialog","mstrmojo.Button");mstrmojo.requiresDescs(1442,3610,11581,11582);var $CSS=mstrmojo.css,CSS_CLASS_ON="on",EXPAND_BUTTON_TEXT=mstrmojo.desc(11581,"Click for more details"),COLLAPSE_BUTTON_TEXT=mstrmojo.desc(11582,"Collapse");mstrmojo.qb.QBAlertDialog=mstrmojo.declare(mstrmojo.Dialog,null,{scriptClass:"mstrmojo.qb.QBAlertDialog",cssClass:"mstrmojo-qb-AlertDialog",title:mstrmojo.desc(3610),genericMsg:"",detailedMsg:"",width:"475px",isExpanded:false,buttons:[mstrmojo.Button.newInteractiveButton(mstrmojo.desc(1442),function(evt){var dialog=this.parent.parent;dialog.destroy();if(dialog.callback){dialog.callback();}},"#666666")],children:[{scriptClass:"mstrmojo.Label",alias:"genericLabel",text:"",cssClass:"mstrmojo-qb-alertdialog-genericlabel"},{scriptClass:"mstrmojo.Label",alias:"expandButton",text:"",cssClass:"mstrmojo-qb-alertdialog-expandbutton",cssDisplay:"",onclick:function onclick(evt){var dialog=this.parent;dialog.isExpanded=!dialog.isExpanded;dialog.expandButton.set("text",dialog.isExpanded?COLLAPSE_BUTTON_TEXT:EXPAND_BUTTON_TEXT);$CSS.toggleClass(dialog.detailedLabel.domNode,CSS_CLASS_ON,dialog.isExpanded);}},{scriptClass:"mstrmojo.Label",alias:"detailedLabel",text:"",cssClass:"mstrmojo-qb-alertdialog-detailedlabel",cssDisplay:""}],postBuildRendering:function postBuildRendering(){if(this._super){this._super();}this.isExpanded=false;this.genericLabel.set("text",this.genericMsg);this.detailedLabel.set("text",this.detailedMsg||"");this.expandButton.set("text",EXPAND_BUTTON_TEXT);$CSS.toggleClass(this.expandButton.domNode,CSS_CLASS_ON,!!this.detailedMsg);}});mstrmojo.qb.old_alert=function alert(genericMsg,detailedMsg,callback,title,alertCfg){var id="mstr-qb-alert",alertDialog,newCfg={id:id,zIndex:1000};try{mstrmojo.all[id].destroy();}catch(e){}if(alertCfg){mstrmojo.hash.copy(alertCfg,newCfg);}alertDialog=new mstrmojo.qb.QBAlertDialog(newCfg);alertDialog.title=title||mstrmojo.desc(3610);alertDialog.genericMsg=genericMsg;alertDialog.detailedMsg=detailedMsg;alertDialog.callback=callback;alertDialog.render();};mstrmojo.qb.alert=function alert(genericMsg,detailedMsg,callback,title,alertCfg){if(mstrApp.isBISource){mstrApp.getRootController().handleServerRequestError(genericMsg,detailedMsg,callback,title);}else{mstrmojo.DI.controller.DIDialogController.showErrorDialog(genericMsg,detailedMsg,callback,title,alertCfg);}};}());