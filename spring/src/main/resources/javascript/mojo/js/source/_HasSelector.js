(function(){mstrmojo._HasSelector=mstrmojo.provide("mstrmojo._HasSelector",{_mixinName:"mstrmojo._HasSelector",postBuildRendering:function(){if(this._super){this._super();}if(!this.dfm){var ts=this.model.data.gts;if(ts){var tts=(ts.row||[]).concat(ts.col||[]);var i=0,tCnt=0,fCnt=0,len=tts&&tts.length,t=null,r=null;for(;i<len;i++){t=tts[i];if(t.otp!=-1){tCnt++;if(t.es){fCnt++;r=t;}}}this.dfm=(fCnt==1&&tCnt==1)?r:null;}}},makeSelection:function(attElementID){var cnt=this,m=this.model.data,sc=this.dfm&&this.dfm.sc;if(window.microstrategy&&window.microstrategy.findBone){var grid=microstrategy.findBone(cnt.domNode);if(grid&&grid.makeSelections){grid.makeSelections([{attId:cnt.dfm.id,values:[attElementID]}]);}}else{var dm=this.model.docModel;if(dm&&dm.slice){dm.slice({ck:sc.ck,eid:attElementID,src:m.k,tks:sc.tks,ctlKey:sc.ckey,include:true});}}},isElementSelected:function(attElementID){if(!this.idSelected){this.idSelected=-1;if(this.dfm&&this.dfm.sc){if(this.dfm.sc.ces&&this.dfm.sc.ces.length>0){var idx=this.dfm.sc.ces[0].id;this.idSelected=parseInt(idx.substr(idx.lastIndexOf(":")+1));if(isNaN(this.idSelected)){idx=idx.substr(0,idx.lastIndexOf(":"));this.idSelected=parseInt(idx.substr(idx.lastIndexOf(":")+1));}}}}attElementID=attElementID.substr(0,attElementID.lastIndexOf(":"));attElementID=parseInt(attElementID.substr(attElementID.lastIndexOf(":")+1));return attElementID==this.idSelected;}});}());