(function(){mstrmojo.requiresCls("mstrmojo.MobileDocXtabGraph","mstrmojo.graph._CanvasGraph");mstrmojo.graph.MobileDocXtabCanvasGraph=mstrmojo.declare(mstrmojo.MobileDocXtabGraph,[mstrmojo.graph._CanvasGraph],{scriptClass:"mstrmojo.graph.MobileDocXtabCanvasGraph",update:function update(node){delete this.graphData;this._super(node);},setModel:function setModel(model){this.graphData=model.data;},retrieveGraphSrc:function retrieveGraphSrc(h,w){if(!this.graphData){var id=this.id,parentMethod=this._super,md=this.model;if(parseInt(h,10)>0&&parseInt(w,10)>0){this.model.getDataService().getRWGraphImage({w:w,h:h,k:this.k,sid:this.node.data.sid},md.newCallback({success:function(res){var graph=mstrmojo.all[id];if(!graph){return ;}graph.setModel({data:res});parentMethod.call(graph,h,w);var parent=graph.parent;if(parent&&parent.updateScroller){parent.updateScroller();}}}));}}else{this._super(h,w);}}});}());