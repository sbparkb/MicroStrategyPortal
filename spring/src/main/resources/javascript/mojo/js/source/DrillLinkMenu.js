(function(){mstrmojo.requiresCls("mstrmojo.boxmodel","mstrmojo.Popup");mstrmojo.DrillLinkMenu=mstrmojo.registry.ref({id:"mstrDrillLinkMenu",slot:"drillLinkMenuNode",scriptClass:"mstrmojo.Popup",cssClass:"mstrmojo-Menu",shadowNodeCssClass:"mstrmojo-Menu-shadow",contentNodeCssClass:"mstrmojo-Menu-content",locksHover:true,onOpen:function onOpen(){var op=this.opener,opPos=op&&op.domNode&&mstrmojo.dom.position(op.domNode),opTop=opPos.y||0,cmPos=this.cmPos,x,y,diff;if(cmPos){x=cmPos.x;y=cmPos.y-opTop;}else{var el=this.openerButton&&this.openerButton.domNode;diff=mstrmojo.boxmodel.offset(el,op&&op[this.slot]);x=diff.left;y=diff.top+((el&&el.offsetHeight)||0);}var dim=mstrmojo.dom.windowDim(),dn=this.domNode;var h=dn.offsetHeight,bH=dim.h-opTop;diff=Math.max(0,y+h-bH);this.set("top",y-diff+"px");var w=dn.offsetWidth,bW=dim.w;diff=Math.max(0,x+w-bW);this.set("left",x-diff+"px");},children:[{scriptClass:"mstrmojo.ListBox",itemCssClass:"mstrmojo-ListBox-item mstrmojo-InteractiveText",bindings:{items:"this.parent.drillLinkItems"},onchange:function(){if(this.selectedIndex!==-1){var w=this.parent.opener;w.goToLink(this.selectedItem);this.clearSelect();this.parent.close();}}}]});})();