(function(){mstrmojo.requiresCls("mstrmojo.chart.FormatBase","mstrmojo.chart.RGBColor","mstrmojo.chart.enums.EnumLineStyle");var $C=mstrmojo.chart,$CHART_ENUMS=$C.enums,$LSL=$CHART_ENUMS.EnumLineStyle;$C.gLinePatterns=[[1,0],[18,6],[3,3],[9,6,3,6],[9,3,3,3,3,3],[9,2],[3,8],[30,10],[10,10],[3,8,3,8,3,17],[12,8,12,8,3,8],[12,5,12,5,3,5,3,5],[25,10,10,10],[25,5,8,5,8,5],[35,10,25,10,10,10],[37,5,37,5,8,5,8,5]];var formatKeys=["mLineStyle","mAlpha","mLineThickness","mLineThicknessPt","mLineColor","mGradient"],formatValues=[$LSL.LS_SOLID,255,1,75,null,null];function hNewGradient(){if(this.mGradient===null){this.mGradient={valid:false,angle:0,endAlpha:0,style:1,colors:[],range:{start:{x:0,y:0},end:{x:0,y:0}}};}}mstrmojo.chart.FormatLine=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.chart.FormatLine",mLineStyle:$LSL.LS_SOLID,mAlpha:255,mLineThickness:1,mLineThicknessPt:75,mLineColor:0,mGradient:null,init:function init(props){var i,len=formatKeys.length;this._super(props);if(props){if(props.Line){var pl=props.Line;this.mLineStyle=pl.LineStyle;this.mAlpha=pl.Alpha;this.mLineThickness=pl.LineThickness;this.mLineColor=pl.LineColor;}else{if(props.Bare){for(i=0;i<len;++i){this[formatKeys[i]]=null;}}else{this.mLineStyle=props.LineStyle||$LSL.LS_SOLID;this.mAlpha=props.Alpha||255;this.mLineThickness=props.LineThickness||1;this.mLineColor=props.LineColor||0;}}}},getGradient:function getGradient(){hNewGradient.call(this);return this.mGradient;},transformToGradient:function transformToGradient(props){var newFormatLine=new $C.FormatLine({Line:{LineStyle:$LSL.LS_GRADIENT,Alpha:this.mAlpha,LineThickness:this.mLineThickness,LineColor:this.mLineColor}});var gradient=newFormatLine.getGradient();gradient.valid=props.Valid;gradient.angle=props.Angle;gradient.endAlpha=props.EndAlpha;gradient.style=props.Style;gradient.colors=props.Colors.slice(0);gradient.range={start:{x:props.Start.x,y:props.Start.y},end:{x:props.End.x,y:props.End.y}};gradient.strokePatten=this.mLineStyle;return newFormatLine;},transformToGradientFromFill:function transformToGradientFromFill(fillGradient,Start,End){var newFormatLine=new $C.FormatLine({Line:{LineStyle:$LSL.LS_GRADIENT,Alpha:this.mAlpha,LineThickness:this.mLineThickness,LineColor:this.mLineColor}});var gradient=newFormatLine.getGradient();gradient.valid=true;gradient.angle=fillGradient.angle;gradient.endAlpha=fillGradient.endAlpha;gradient.style=fillGradient.style;gradient.colors=[];gradient.colors=fillGradient.intermediateColors.slice(0);gradient.colors.push({Color:fillGradient.endGraphColor,Step:1});gradient.colors.splice(0,0,{Color:fillGradient.startGraphColor,Step:0});gradient.range={start:{x:Start.x,y:Start.y},end:{x:End.x,y:End.y}};return newFormatLine;},ApplyLineFormat:function ApplyLineFormat(chartContext){chartContext.ApplyLineFormat(this);},getLinePattern:function getLinePattern(lineStyle){return $C.gLinePatterns[lineStyle];},restoreDefaults:function restoreDefaults(fullyRestore){var i;if(fullyRestore){for(i=0;i<formatKeys.length;++i){this[formatKeys[i]]=formatValues[i];}}else{for(i=0;i<formatKeys.length;++i){if(this[formatKeys[i]]===null){this[formatKeys[i]]=formatValues[i];}}}if(this.mLineColor===null){this.mLineColor=$C.gBlack.ToInteger();}}});mstrmojo.chart.FormatLine.getLinePattern=function getLinePattern(lineStyle){return $C.gLinePatterns[lineStyle];};$C.gOutlineWhite=new $C.FormatLine({LineStyle:$LSL.LS_SOLID,Alpha:255,LineThickness:1,LineColor:$C.gWhite.ToInteger()});$C.gOutlineBlack=new $C.FormatLine({LineStyle:$LSL.LS_DASH,Alpha:255,LineThickness:2,LineColor:$C.gBlack.ToInteger()});$C.gLeaderLine=new $C.FormatLine({LineStyle:$LSL.LS_SOLID,Alpha:255,LineThickness:2,LineColor:$C.gLeaderLineColor.ToInteger()});$C.gStrokeForDarkBackground=new $C.FormatLine({LineStyle:$LSL.LS_SOLID,Alpha:191,LineThickness:1,LineColor:$C.gStrokeColorForDarkBackground.ToInteger()});$C.gStrokeForLightBackground=new $C.FormatLine({LineStyle:$LSL.LS_SOLID,Alpha:191,LineThickness:1,LineColor:$C.gStrokeColorForLightBackground.ToInteger()});}());