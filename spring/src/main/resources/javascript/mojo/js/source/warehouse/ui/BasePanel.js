(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.hash");var $H=mstrmojo.hash,$CSS=mstrmojo.css,CSS_HIDDEN="hidden",$WIDGET=mstrmojo.Widget,CSS_PREFIX="mstrmojo-wh-pn-",SLOT_TITLE_ICONS_NODE="titleIconsNode";mstrmojo.warehouse.ui.BasePanel=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.warehouse.ui.BasePanel",markupString:'<div id="{@id}" class="mstrmojo-wh-Panel {@cssClass}" mstrAttach:click><div class="'+CSS_PREFIX+'header"><div class="'+CSS_PREFIX+'title tp{@icntp}"><span>{@title}</span></div><div class="'+CSS_PREFIX+'ttl-icons"></div></div><div><div class="'+CSS_PREFIX+'instructions-text">{@instructionsText}</div></div></div>',markupSlots:{headerNode:function headerNode(){return this.domNode.firstChild;},titleNode:function titleNode(){return this.domNode.firstChild.firstChild;},titleTextNode:function titleTextNode(){return this.domNode.firstChild.firstChild.firstChild;},titleIconsNode:function titleIconsNode(){return this.domNode.firstChild.children[1];},instructionsNode:function instructionsNode(){return this.domNode.lastChild.children[0];},containerNode:function containerNode(){return this.domNode;}},markupMethods:{onvisibleChange:$WIDGET.visibleMarkupMethod,onheightChange:$WIDGET.heightMarkupMethod,onwidthChange:$WIDGET.widthMarkupMethod},onRender:function onRender(){this._super();if(this.instructionsHeight){this.oninstructionsHeightChange({value:this.instructionsHeight});}this.oninstructionsVisibleChange({value:this.instructionsVisible});},title:"",titleTooltip:"",icntp:"",postBuildRendering:function postBuildRendering(){this._super();if(this.editableSlot){this.setEditableTitle("");}},ontitleChange:function ontitleChange(){this.titleTextNode.innerHTML=this.title;},addNewTitleButton:function addNewTitleButton(props){this.addChildren($H.copy(props,{scriptClass:"mstrmojo.Widget",markupString:'<span id="{@id}" class="{@cssClass}" mstrAttach:click>{@text}</span>',onvisibleChange:function onvisibileChange(){this.domNode.style.display=this.visible?"":"none";},useRichTooltip:true,showTooltip:function showTooltip(evt,win){this.richTooltip={cssClass:"vi-regular vi-tooltip-A",posType:mstrmojo.tooltip.POS_TOPLEFT,refNode:this.domNode,top:32,content:this.title||""};this.constructor.prototype.showTooltip.call(this,evt,win);},slot:SLOT_TITLE_ICONS_NODE}));},setEditableTitle:function setEditableTitle(title){$CSS.toggleClass(this.titleNode,CSS_HIDDEN,(title===""));$CSS.toggleClass(this.titleIconsNode,CSS_HIDDEN,(title===""));this.set("text",title);this.set("title",title);},instructionsText:"",instructionsHeight:undefined,oninstructionsHeightChange:function oninstructionsHeightChange(evt){var iNode=this.instructionsNode,h=evt.value;if(iNode){iNode.style.height=h;iNode.style.lineHeight=h;}else{this.instructionsHeight=undefined;}},instructionsVisible:false,oninstructionsVisibleChange:function oninstructionsVisibleChange(evt){if(evt.value){this.instructionsNode.style.display="block";}else{this.instructionsNode.style.display="none";}}});}());