(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.Label","mstrmojo.DataGrid");mstrmojo.requiresDescs(14615,1442,12381,12382,12403,12404,12405);var $DESC=mstrmojo.desc;mstrmojo.qb.es.AlternateSourceDialog=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.qb.es.AlternateSourceDialog",cssClass:"mstrmojo-qb-ValidateAlternateSource-dialog",title:$DESC(12405,"Alert"),items:null,onOpen:function onOpen(){var table=this.table,columns=[],i,headerTexts=[$DESC(14615,"Match Status"),$DESC(12403,"Original Table"),$DESC(12404,"New Table")],headerWidget,itemLength=this.items.length;MATCH_RESULT_COLUMN=0;function dataFunction(rowData,rowIndex,dataGrid){var rowDataTrans=[rowData[1],rowData[0],rowData[2]],dataField=this.dataField,cell=rowDataTrans[dataField],txt;if(parseInt(dataField,10)===MATCH_RESULT_COLUMN){if(cell<0){txt="";}else{txt=cell?'<div class="matched-item"></div>':'<div class="unmatched-item"></div>';}}else{txt=cell;}return txt;}for(i=0;i<headerTexts.length;i++){headerWidget={headerText:headerTexts[i],colWidth:(i===MATCH_RESULT_COLUMN)?"88":"261",dataFunction:dataFunction,dataField:i.toString()};columns.push(headerWidget);}for(i=0;i<9-itemLength;i++){var emptyItem={0:"",1:-1,2:""};emptyItem.prototype=this.items[0];this.items.push(emptyItem);}table.set("columns",columns);table.set("items",this.items);},children:[{scriptClass:"mstrmojo.Label",cssClass:"validation-note1",text:$DESC(12382,"The selected table cannot serve as an alternate source due to the above mismatches. Please select an alternate table.")},{scriptClass:"mstrmojo.DataGrid",alias:"table",cssClass:"validation-table",resizableColumns:false,columns:[]},{scriptClass:"mstrmojo.Label",cssClass:"validation-note2",text:$DESC(12381,"Note: The column names and the data types have to match between the currently uploaded table and the original table for relational sources.")},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBox",slot:"buttonNode",children:[{scriptClass:"mstrmojo.Button",alias:"ok",text:mstrmojo.desc(1442,"OK"),cssClass:"mstrmojo-Button mstrmojo-WebButton",onclick:function(){var dialog=this.parent.parent;dialog.close();}}]}],postBuildRendering:function postBuildRendering(){if(this._super){this._super();}}});}());