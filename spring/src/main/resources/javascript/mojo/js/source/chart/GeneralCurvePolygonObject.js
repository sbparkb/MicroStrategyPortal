(function(){mstrmojo.requiresCls("mstrmojo.chart.ShapeObject","mstrmojo.chart.ChartContext","mstrmojo.chart.enums.EnumLineJoinType");var $C=mstrmojo.chart,$CHART_ENUMS=$C.enums,$LJT=$CHART_ENUMS.EnumLineJoinType;function hSetPath(isLinePath){var chartCtx=this.mChartContextPtr,firstBorderLinePtr=this.mFirstBorderLinePtr,secondBorderLinePtr=this.mSecondBorderLinePtr,lTuning=(isLinePath&&chartCtx.NeedAdjustedLinePath());chartCtx.NewPath();if(this.mHasInnerLine){if(isLinePath&&this.mHas360Degrees){chartCtx.NewPath();firstBorderLinePtr.MoveToStart(lTuning);firstBorderLinePtr.CurveToEnd(lTuning);chartCtx.ClosePath();chartCtx.NewPath();secondBorderLinePtr.MoveToStart(lTuning);secondBorderLinePtr.CurveToEnd(lTuning);chartCtx.ClosePath();}else{firstBorderLinePtr.MoveToStart(lTuning);firstBorderLinePtr.CurveToEnd(lTuning);secondBorderLinePtr.LineToStart(lTuning);secondBorderLinePtr.CurveToEnd(lTuning);chartCtx.ClosePath();}}else{firstBorderLinePtr.MoveToStart(lTuning);firstBorderLinePtr.CurveToEnd(lTuning);if(!this.mHas360Degrees){var center=this.mCenter;chartCtx.LineTo(center.x,center.y);}chartCtx.ClosePath();}}mstrmojo.chart.GeneralCurvePolygonObject=mstrmojo.declare(mstrmojo.chart.ShapeObject,null,{scriptClass:"mstrmojo.chart.GeneralCurvePolygonObject",mFirstBorderLinePtr:null,mSecondBorderLinePtr:null,mHasInnerLine:false,mHas360Degrees:false,mCenter:null,init:function init(props){this._super(props);if(props.SecondBorderLinePtr===undefined){this.mHasInnerLine=false;}else{this.mHasInnerLine=false;this.mCenter=props.Center;}this.mFirstBorderLinePtr=props.FirstBorderLinePtr;this.mSecondBorderLinePtr=props.SecondBorderLinePtr;this.mHas360Degrees=props.Has360Degrees;},Draw:function Draw(){var chartCtx=this.mChartContextPtr,backupLineJoinType=chartCtx.GetLineJoin();chartCtx.SetLineJoin($LJT.LJT_BEVEL);this.SetLineWidth();hSetPath.call(this,false);this.ApplyFillFormat();if(chartCtx.NeedAdjustedLinePath()||(this.mHasInnerLine&&this.mHas360Degrees)){hSetPath.call(this,true);}this.ApplyLineFormat();chartCtx.SetLineJoin(backupLineJoinType);},PointInObject:function PointInObject(point){var polygon=[];this.GetApproximatePolygon(polygon);return point.IsInPolygon(polygon);},DrawOutLine:function DrawOutLine(){var chartCtx=this.mChartContextPtr,backupLineJoinType=chartCtx.GetLineJoin();chartCtx.SetLineJoin($LJT.LJT_BEVEL);this.SetOutlineWidth();hSetPath.call(this,true);this.ApplyOutlineFormat();chartCtx.SetLineJoin(backupLineJoinType);},ObjectInRectangle:function ObjectInRectangle(rect){var tempRect=this.GetBoundingRect();return rect.PointInRectangle(tempRect.GetTopLeft())&&rect.PointInRectangle(tempRect.GetBottomRight());},GetBoundingRect:function GetBoundingRect(){var polygon=[];this.GetApproximatePolygon(polygon);return this.GetBoundingRectFromPolygon(polygon);},SupportBevelEffect:function SupportBevelEffect(){return false;},GetClockwisePolygon:function GetClockwisePolygon(){return[];},GetApproximatePolygon:function GetApproximatePolygon(polygon){var i,len;this.mFirstBorderLinePtr.GetApproximatePolyline(polygon);if(this.mHasInnerLine){var secondPolyline=[];this.mSecondBorderLinePtr.GetApproximatePolyline(secondPolyline);len=secondPolyline.length;for(i=0;i<len;++i){polygon.push(secondPolyline[i]);}}else{if(!this.mHas360Degrees){polygon.push(this.mCenter);}}return polygon;}});}());