(function(){mstrmojo.requiresCls("mstrmojo._HasPopup","mstrmojo.hash","mstrmojo.css");var $HASH=mstrmojo.hash,$CSS=mstrmojo.css;var CLS_IS_OPEN="open";function getHostElement(popup){return popup?popup.popupConfig.hostElement:null;}mstrmojo.ui.menus._HasMenuPopup=mstrmojo.provide("mstrmojo.ui.menus._HasMenuPopup",$HASH.copy(mstrmojo._HasPopup));mstrmojo.ui.menus._HasMenuPopup.openPopup=function openPopup(ref,config){var lastOpened=this._lastOpened;if(lastOpened){this.closePopup();}mstrmojo._HasPopup.openPopup.call(this,ref,config);$CSS.addClass(getHostElement(ref),CLS_IS_OPEN);};mstrmojo.ui.menus._HasMenuPopup.closePopup=function closePopup(){$CSS.removeClass(getHostElement(this._lastOpened),CLS_IS_OPEN);mstrmojo._HasPopup.closePopup.call(this);};}());