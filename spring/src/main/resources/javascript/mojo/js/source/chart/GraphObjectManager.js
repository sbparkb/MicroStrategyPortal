(function(){mstrmojo.requiresCls("mstrmojo.Base","mstrmojo.chart.TripleId","mstrmojo.chart.common.MapStructure");var $C=mstrmojo.chart,$NTID=$C.gNullTripleId;var kMapGenesis=0;mstrmojo.chart.GraphObjectManager=mstrmojo.declare(mstrmojo.Base,null,{scriptClass:"mstrmojo.chart.GraphObjectManager",mGraphObjectList:null,mGraphObjectManagerList:null,mTripleId:null,mpManager:null,mChartContextPtr:null,mGraphObjectMap:null,init:function init(props){this._super(props);this.mGraphObjectList=[];this.mGraphObjectManagerList=[];this.mTripleId=this.mTripleId||props.TripleId||$NTID;this.mpManager=props.GraphObjectManager||null;if(this.mpManager!==null){this.mChartContextPtr=this.mpManager.mChartContextPtr;}if(kMapGenesis===-1){}else{if(kMapGenesis===1||(!!this.mpManager)===false){this.mGraphObjectMap=new mstrmojo.chart.common.MapStructure();}else{this.mGraphObjectMap=this.mpManager.mGraphObjectMap||new mstrmojo.chart.common.MapStructure();}}},getMapGenesis:function getMapGenesis(){return kMapGenesis;},AddToMapAndList:function AddToMapAndList(graphObject){this.AddToMap(graphObject);this.mGraphObjectList.push(graphObject);},AddObjectsToMapAndList:function AddObjectsToMapAndList(objects){var i,len;len=objects.length;for(i=0;i<len;++i){this.AddToMapAndList(objects[i]);}},AddToManagerList:function AddToManagerList(graphObject){this.mGraphObjectManagerList.push(graphObject);},AddToMap:function AddToMap(graphObject){if(graphObject){this.mGraphObjectMap.replaceByTripleId(graphObject.mTripleId,graphObject);}},getGraphObjectFromList:function getGraphObjectList(tripleId,recursive){var i,currentTripleId,result,objectManagerList=this.mGraphObjectManagerList,objectList=this.mGraphObjectList,utility=this.mChartContextPtr.getUtiliy();for(i=objectList.length-1;i>=0;--i){currentTripleId=objectList[i].mTripleId;if(utility.tripleId.equal(currentTripleId,tripleId)){result={object:objectList[i],find:true};return result;}}if(recursive){for(i=objectManagerList.length-1;i>=0;--i){result=objectManagerList[i].getGraphObjectFromList(tripleId);if(result.find){return result;}}}return{object:null,find:false};},GetGraphObject:function GetGraphObject(tripleId,recursive){var graphObject,i,thisGraphObjectMap=this.mGraphObjectMap,thisGraphObjectManagerList=this.mGraphObjectManagerList,len;recursive=(recursive===undefined)?true:recursive;if(thisGraphObjectMap){graphObject=thisGraphObjectMap.findByTripleId(tripleId);if(graphObject!==undefined){return graphObject;}if(recursive){len=thisGraphObjectManagerList.length;for(i=len-1;i>=0;--i){graphObject=thisGraphObjectManagerList[i].GetGraphObject(tripleId,true);if(graphObject!==undefined){return graphObject;}}}return null;}graphObject=this.getGraphObjectFromList(tripleId,recursive);return graphObject;},GetGraphObjectManager:function GetGraphObjectManager(tripleId,recursive){if(recursive===undefined){recursive=true;}var i,objectManagerList=this.mGraphObjectManagerList,utility=this.mChartContextPtr.getUtiliy();for(i=objectManagerList.length-1;i>=0;--i){var currentTripleId=objectManagerList[i].mTripleId;if(utility.tripleId.equal(currentTripleId,tripleId)){return objectManagerList[i];}if(recursive){var graphObjectManager=objectManagerList[i].GetGraphObjectManager(tripleId,true);if(graphObjectManager){return graphObjectManager;}}}return null;},Draw:function Draw(){var len,i;len=this.mGraphObjectList.length;for(i=0;i<len;++i){this.mGraphObjectList[i].Draw();}},GenerateInterpolationFrame:function GenerateInterpolationFrame(progress){var numberOfGraphObjectManagers=this.mGraphObjectManagerList.length,i,numberOfGraphObjects;this.mProgress=progress;for(i=0;i<numberOfGraphObjectManagers;++i){this.mGraphObjectManagerList[i].GenerateInterpolationFrame(progress);}numberOfGraphObjects=this.mGraphObjectList.length;for(i=0;i<numberOfGraphObjects;++i){this.mGraphObjectList[i].SetProgress(progress);}}});}());