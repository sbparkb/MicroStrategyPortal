(function(){mstrmojo.requiresCls("mstrmojo.OfflineTransactionModel","mstrmojo.Button");mstrmojo._CanSupportOfflineTransactions=mstrmojo.provide("mstrmojo._CanSupportOfflineTransactions",{_mixinName:"mstrmojo._CanSupportOfflineTransactions",getTransactionNotificationController:function getTransactionNotificationController(){var ctl=this.txNtfCtlr;if(this.oflnTxModel&&(!ctl||!mstrmojo.all[ctl.id])){ctl=this.txNtfCtlr=mstrApp.controllerFactory.newController("Transactions",{model:this.oflnTxModel,rootCtrl:mstrApp.rootController});}return ctl;},submitTransactionQueue:function submitTransactionQueue(projectId,taskId){mstrMobileApp.submitOfflineTransactions(projectId,taskId,"mstrApp.onSubmitTransactionQueueDone");},onSubmitTransactionQueueDone:function onSubmitTransactionQueueDone(status,res){if(this.oflnTxModel){this.oflnTxModel.onSubmitDone(status);}if(status){mstrApp.rootController.generateActionToolbar();mstrmojo.toast(mstrmojo.desc(9724,"All pending transactions have been successfully submitted"));}else{mstrmojo.toast(mstrmojo.desc(9261,"A background transaction submission failed"));}},submitOfflineTransaction:function submitOfflineTransaction(){if(this.oflnTxModel){this.oflnTxModel.submitOfflineTransaction();}},refreshOfflineTransactionModel:function refreshOfflineTransactionModel(){if(this.oflnTxModel){this.oflnTxModel.refresh();}}});}());