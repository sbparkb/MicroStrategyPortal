window.Timeline={};window.Timeline.Platform={};window.Timeline.Platform.serverLocale="en";window.Timeline.Platform.clientLocale="en";window.Timeline.urlPrefix="../VisFramework/timeline/";(function(){mstrmojo.requiresCls("mstrmojo.Vis","mstrmojo._LoadsScript");mstrmojo.VisTimeline=mstrmojo.declare(mstrmojo.Vis,[mstrmojo._LoadsScript],{scriptClass:"mstrmojo.VisTimeline",model:null,dataParser:null,minYear:"2008",maxYear:"2012",markupString:'<div id="{@id}" class="timeline-default" style="top:{@top};left:{@left};position:absolute;"></div>',postBuildRendering:function postBR(){if(this._super){this._super();}this.domNode.style.width=parseInt(this.width,10)+"px";this.domNode.style.height=parseInt(this.height,10)+"px";var css=document.createElement("link");css.setAttribute("rel","stylesheet");css.setAttribute("type","text/css");css.setAttribute("href","../VisFramework/timeline/styles/styles.css");document.getElementsByTagName("head")[0].appendChild(css);if(this.model.eg){this.domNode.innerHTML=this.model.eg;}else{if(this.model.minYear){this.minYear=this.model.minYear;}if(this.model.maxYear){this.maxYear=this.model.maxYear;}this.loadScripts();}},loadScripts:function(){var scriptsObjectArray=[];scriptsObjectArray.push({url:"../VisFramework/timeline/bundle.js?a=123"});scriptsObjectArray.push({url:"../VisFramework/timeline/scripts/l10n/en/labellers.js"});scriptsObjectArray.push({url:"../VisFramework/timeline/scripts/l10n/en/timeline.js"});var me=this;this.requiresExternalScripts(scriptsObjectArray,function(){me.renderVis();});},renderVis:function(){if(!this.model.json){return ;}if(this.model.json.eg){var msgDiv=document.createElement("div");msgDiv.innerHTML=this.model.json.eg;msgDiv.style.color="#FF0000";msgDiv.style.fontSize="10pt";this.domNode.appendChild(msgDiv);return ;}var eventSource=new Timeline.DefaultEventSource(0);var theme=Timeline.ClassicTheme.create();theme.event.bubble.width=320;theme.event.bubble.height=220;theme.ether.backgroundColors[1]=theme.ether.backgroundColors[0];var dMinYear=Timeline.DateTime.parseGregorianDateTime(this.minYear);var bandInfos=[Timeline.createBandInfo({width:"10%",intervalUnit:Timeline.DateTime.MONTH,intervalPixels:80,date:dMinYear,showEventText:false,theme:theme}),Timeline.createBandInfo({width:"90%",intervalUnit:Timeline.DateTime.MONTH,intervalPixels:100,eventSource:eventSource,date:dMinYear,theme:theme})];bandInfos[0].etherPainter=new Timeline.YearCountEtherPainter({startDate:"Jan 1 "+this.minYear+" 00:00:00 GMT",multiple:5,theme:theme});bandInfos[0].syncWith=1;bandInfos[0].highlight=false;bandInfos[0].decorators=[new Timeline.SpanHighlightDecorator({startDate:"Jan 1 "+this.minYear+" 00:00:00 GMT",endDate:"Jul 1 "+this.maxYear+" 00:00:00 GMT",startLabel:"start",endLabel:"finish",color:"#FFC080",opacity:50,theme:theme})];Timeline.create(this.domNode,bandInfos,Timeline.HORIZONTAL);eventSource.loadJSON(this.model.json,"");}});})();