(function(){mstrmojo.requiresCls("mstrmojo.Doc","mstrmojo._HasBuilder","mstrmojo._IsRwDocument","mstrmojo.hash","mstrmojo.array","mstrmojo.DocModel");var $A=mstrmojo.array,$AFE=$A.forEach;function isInfoWindowLayout(l){return(typeof l.defn.iw!=="undefined"&&l.defn.iw);}mstrmojo.maps.androidmap.InfoWindowDoc=mstrmojo.declare(mstrmojo.Doc,null,{scriptClass:"mstrmojo.maps.androidmap.InfoWindowDoc",cssClass:"mstrmojo-Doc",addChild:function(view){view.height=this.height;view.width=this.width;view.visible=true;this.addChildren([view]);},buildChildren:function buildChildren(noAddChildren){this._super(true);this._layouts=this.getLayouts();},getLoadingPlaceholder:function(view){var n=view.n||"";return new mstrmojo.Label({cssClass:"pre-loader",n:n,k:view.k,isPreloader:true,t:"foo"});},cleanUpLastWidget:function cleanUpLastWidget(destroy){this._super(false);},selectLayout:function selectLayout(layout,updateServer,callback){this._super(layout,updateServer,callback);return layout;},replaceView:function replaceView(view,targetView){view.slot=targetView.slot;this.removeChildren(targetView,true);targetView.unrender();targetView.destroy();this.addChild(view);return view;},replaceLayout:function replaceLayout(oldLayout,newLayoutNode){var layouts=this._layouts||[],idx=$A.find(layouts,"k",oldLayout.k);if(idx>=0){oldLayout.unrender();oldLayout.destroy();}var c=this.builder.build([newLayoutNode],this.model)[0];if(idx>=0){layouts[idx]=c;}else{layouts.push(c);}this._layouts=layouts;return c;},onLayoutRebuilt:function onLayoutRebuilt(layout){this.replaceView(layout,this.currentView);this.currentView=layout;layout.set("visible",true);},destroy:function destroy(ignoreDom){$AFE(this._layouts,function(lyt){lyt.destroy(ignoreDom);});this._super(ignoreDom);}});}());