(function(){mstrmojo.requiresCls("mstrmojo.ui.List","mstrmojo.ui._HasScroller");mstrmojo.ui.ScrollableList=mstrmojo.declare(mstrmojo.ui.List,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.ScrollableList",markupString:'<div id="{@id}" class="mstrmojo-ListBase {@cssClass}" style="{@cssText}" mstrAttach:click,dblclick,mousedown,mouseover,mouseout,contextmenu><div class="list-content"><div class="items-container {@icnCss}" style="{@icnCssText}">{@itemsHtml}</div></div></div>',markupSlots:{itemsContainerNode:function itemsContainerNode(){return this.domNode.firstChild.firstChild;},scrollboxNode:function scrollboxNode(){return this.domNode.firstChild;},scrollNode:function scrollnode(){return this.domNode.firstChild;}},postBuildRendering:function postBuildRendering(){if(this.renderOnScroll){if(!this.onScrollEnd){var id=this.id;this.onScrollEnd=function onScrollEnd(){var me=mstrmojo.all[id];me.doScroll();me.updateScrollbars();};}}if(this._super){this._super();}},renderBlockSize:150,renderIndex:0,onScrollEnd:undefined,doScroll:function doScroll(){if(this.renderOnScroll){var node,sn=this.scrollNode,max=(this.renderIndex+1)*this.renderBlockSize;if(max>=this.items.length){return ;}if(mstrmojo.dom.position(sn).h===sn.scrollHeight){node=this.domNode;}else{node=sn;}if((mstrmojo.dom.position(node).h+node.scrollTop)>=node.scrollHeight){this.renderIndex++;var itemsMarkup=this._buildItemsMarkup(this.renderIndex*this.renderBlockSize,((this.renderIndex+1)*this.renderBlockSize)-1,this._markupPrefix&&this._markupPrefix(),this._markupSuffix&&this._markupSuffix(),this._itemPrefix&&this._itemPrefix(),this._itemSuffix&&this._itemSuffix()).join("");node.innerHTML+=itemsMarkup;this.itemsContainerNode.innerHTML+=itemsMarkup;}}}});}());