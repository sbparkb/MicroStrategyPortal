(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.expr");mstrmojo.requiresDescs(294,524,522,523,524,661,746,1468,1995,2202,2203,2795,2796);var _S=mstrmojo.string,_E=mstrmojo.expr,_ET=_E.ET,_FN=_E.FN;mstrmojo.condTx.CommonComponent={NODE_TYPE:{ACION_SELECTOR:0,TEXT_FIELD:1,TEMPLATE_UNIT_CONTROL:2},ACTION_TYPE:{DEFAULT:1,DISABLE:1,HIDE:2,REQUIRE:4},ADV_OPERATION:{PLUS:{fn:1,fnt:1,v:"+",et:1,nc:2},MINUS:{fn:2,fnt:1,v:"-",et:1,nc:2},MULTI:{fn:3,fnt:1,v:"*",et:1,nc:2},DIVIDE:{fn:4,fnt:1,v:"/",et:1,nc:2},UNARYMINUS:{fn:5,fnt:1,v:"-",et:1,nc:1},SUM:{fn:12,fnt:1,v:"SUM",et:10,nc:1},LEFTPARENTHESIS:{fn:1000,fnt:1,v:"(",et:1,nc:0},RIGHTPARENTHESIS:{fn:1001,fnt:1,v:")",et:1,nc:0}},FN_OPTNAMES:{1:"PLUS",2:"MINUS",3:"MULTI",4:"DIVIDE",5:"UNARYMINUS",12:"SUM",1000:"LEFTPARENTHESIS",1001:"RIGHTPARENTHESIS"},SOURCE_CONTEXT:{IN:0,EXCEPT:1,ALL:2},CTXN_FNS:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1},{did:"1,17",n:mstrmojo.desc(294,"Between"),t:1},{did:"1,44",n:mstrmojo.desc(746,"Not between"),t:1},{did:"1,54",n:mstrmojo.desc(2202,"Is Null"),t:1},{did:"1,55",n:mstrmojo.desc(2203,"Is Not Null")}],ALIS:{FILTERON:"fo",SOURCE1:"s1",FUNCTION:"fn"},EXPR_NODE_TYPE:{RESERVED:0,FIELD:1,CONST:2,EXPR:3,METRIC:4},getExprXml:function(expr){var root="<exp>",end="</exp>",props={a:true,a2:true,a3:true,at:true,ck:true,cs:true,desc:true,did:true,dmt:true,dmy:true,dtp:true,es:true,et:true,exp:true,exp2:true,expr:true,f:true,fk:true,fm:true,fm2:true,fm3:true,fn:true,fnt:true,items:true,m:true,m2:true,m3:true,n:true,nd:true,nds:true,nk:true,not:true,nt:true,pf:true,rfd:true,rwctl:true,rwf:true,st:true,t:true,tx:true,tx2:true,v:true,idx:true},config={getArrItemName:function(n,v,i){return n.substr(0,n.length-1);},isSerializable:function(nodeName,jsons,index){if(nodeName=="cs"){var nd=jsons[index],cs=jsons[index][nodeName];if(nd&&nd.fnt&&nd.fnt==_E.FNT.PER&&cs&&cs[0]){cs[0].v+="%";}return true;}else{if(nodeName=="did"&&jsons[index].fk){return false;}}return(props[nodeName])?true:false;},skipNull:true},rootNode=expr;if(!rootNode||rootNode.et!=_ET.ANDOR){rootNode={et:_ET.ANDOR,fn:_E.FN.AND,nds:rootNode?[rootNode]:[]};}var ndXml=_S.json2xml("nd",[rootNode],config);return root+ndXml+end;}};var $CC=mstrmojo.condTx.CommonComponent,_AT=$CC.ACTION_TYPE;$CC.ACTION_ITEMS={1:{v:_AT.DISABLE,n:mstrmojo.desc(1468,"Disable")},2:{v:_AT.HIDE,n:mstrmojo.desc(1995,"Hide")},4:{v:_AT.REQUIRE,n:mstrmojo.desc(661,"Required")}};var _AIS=$CC.ACTION_ITEMS;$CC.ACTION_CANDIDATES={0:[_AIS[1],_AIS[2]],1:[_AIS[1],_AIS[2],_AIS[4]],2:[_AIS[1],_AIS[4]]};var _ENT=$CC.EXPR_NODE_TYPE,NODETYPEVALUS={FIELD:1,METRIC:2,CONST:4,EXPR:8};function getSubExpressionType(left,right){var subExpr=-1;switch(left){case _ENT.FIELD:subExpr=NODETYPEVALUS.FIELD;break;case _ENT.METRIC:subExpr=NODETYPEVALUS.METRIC;break;case _ENT.CONST:subExpr=NODETYPEVALUS.CONST;break;case _ENT.EXPR:subExpr=NODETYPEVALUS.EXPR;break;default:return -1;}subExpr=subExpr<<16;switch(right){case _ENT.FIELD:subExpr+=NODETYPEVALUS.FIELD;break;case _ENT.METRIC:subExpr+=NODETYPEVALUS.METRIC;break;case _ENT.CONST:subExpr+=NODETYPEVALUS.CONST;break;case _ENT.EXPR:subExpr+=NODETYPEVALUS.EXPR;break;default:return -1;}return subExpr;}$CC.setSubExpressionType=function(expNode){if(expNode.et===_ET.XML){var left=_ENT.RESERVED,right=_ENT.RESERVED;if(expNode.tx){left=_ENT.FIELD;}else{if(expNode.exp){left=_ENT.EXPR;$CC.setSubExpressionType(expNode.exp.nd);}else{if(expNode.m){left=_ENT.METRIC;}else{if(expNode.cs){left=_ENT.CONST;}}}}if(expNode.fn===_FN.IS_NULL||expNode.fn===_FN.IS_NOT_NULL||expNode.fn===$CC.ADV_OPERATION.UNARYMINUS.fn){right=_ENT.CONST;}else{if(expNode.tx2){right=_ENT.FIELD;}else{if(expNode.exp2){right=_ENT.EXPR;$CC.setSubExpressionType(expNode.exp2.nd);}else{if(expNode.m2){right=_ENT.METRIC;}else{if(expNode.cs){right=_ENT.CONST;}}}}}expNode.st=getSubExpressionType(left,right);}};}());