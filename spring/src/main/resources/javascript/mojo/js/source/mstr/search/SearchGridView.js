(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.array","mstrmojo.Container","mstrmojo.Label","mstrmojo.ui.List","mstrmojo.ui._HasListTooltip","mstrmojo.mstr._ObjectActions","mstrmojo.mstr.search._IconCssClassBuilder");mstrmojo.requiresDescs(60,61,945,1050,3364,3366,9202);var $CSS=mstrmojo.css,$ARR=mstrmojo.array;var GridView_ID,getDataWidgetBuilder=function(d){return mstrmojo.all[GridView_ID].getBuilder(d,this.dataField);};mstrmojo.mstr.search.SearchGridView=mstrmojo.declare(mstrmojo.DataGrid,[mstrmojo.mstr._ObjectActions],{scritpClass:"mstrmojo.mstr.search.SearchGridView",cssClass:"mstrmojo-Search-GridView",makeObservable:true,banding:false,columns:[{headerText:mstrmojo.desc(945,"Name"),dataField:"n",dataWidgetBuilder:getDataWidgetBuilder,colCss:"name"},{headerText:mstrmojo.desc(60,"Owner"),dataField:"owner",dataWidgetBuilder:getDataWidgetBuilder,colCss:"owner"},{headerText:mstrmojo.desc(61,"Modified"),dataField:"mdt",dataWidgetBuilder:getDataWidgetBuilder,colCss:"mdt"},{headerText:mstrmojo.desc(1050,"Location"),dataField:"anc",dataWidgetBuilder:getDataWidgetBuilder,colCss:"anc"}],init:function init(props){this._super(props);GridView_ID=this.id;},getBuilder:function getBuilder(data,prop){var w=null;switch(prop){case"n":w={scriptClass:"mstrmojo.mstr.search.SearchGridViewItem",items:[data]};break;case"anc":var ancItems=data.anc.items.slice(2);w={scriptClass:"mstrmojo.Box",cssClass:"mstrmojo-Search-Ancester",children:[{scriptClass:"mstrmojo.Label",alias:"toggle",cssClass:"toggle",text:" ",fullPath:false,onclick:function(){this.fullPath=!this.fullPath;$CSS.toggleClass(this.parent.domNode,"full",this.fullPath);},onRender:function(){this.set("bindings",{enabled:function(){return this.parent.path.ellipsized;}});}},{scriptClass:"mstrmojo.ui.List",alias:"path",ellipsized:false,items:$ARR.map(ancItems,function(item){if(item.hid){item.n="[...]";}return item;}),postclick:function(){if(!this.selectedItem.hid){this.parent.dataGrid.execute(this.selectedItem);}},onRender:function(){var me=this,el=me.domNode.firstChild;window.setTimeout(function(){me.set("ellipsized",el.clientWidth<el.scrollWidth);},10);}}]};break;default:w={scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-Search-nonbreakable "+prop,cssDisplay:"inline-block",text:data[prop]};break;}w.alias="itemWidget";return w;}});mstrmojo.mstr.search.SearchGridViewItem=mstrmojo.declare(mstrmojo.ui.List,[mstrmojo.ui._HasListTooltip,mstrmojo.mstr.search._IconCssClassBuilder],{scritpClass:"mstrmojo.mstr.search.SearchGridViewItem",getItemMarkup:function getItemMarkup(item,idx){return this._super(item,idx).replace("{@en@n}",'<i class="{@icnCls}"></i>{@en@n}');},getItemProps:function getItemProps(item,idx){var itemProps=this._super(item,idx);itemProps.addCls("mstrmojo-Search-GridViewItem");itemProps.icnCls="mstrmojo-ListIcon "+this.getIconCssClass(item);itemProps.txtCls="mstrmojo-Search-nonbreakable name";return itemProps;},onclick:function onclick(evt){this._super(evt);this.dataGrid.execute(this.selectedItem,{zIndex:mstrmojo.mstr.search.Search.zIndex+2});}});}());