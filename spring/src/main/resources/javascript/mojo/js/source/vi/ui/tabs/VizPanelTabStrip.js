(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.tabs.TabStrip","mstrmojo.vi.ui._IsViPanel","mstrmojo.vi.ui._IsBoxLayoutChild","mstrmojo.vi.ui._HasMask","mstrmojo.vi.ui.tabs.Tab","mstrmojo.hash");var $HASH=mstrmojo.hash,ENUM_ACTIONS=mstrmojo.vi.ui.tabs.Tab.ACTIONS,MENU_ACTIONS=ENUM_ACTIONS.DELETE+ENUM_ACTIONS.MOVE+ENUM_ACTIONS.RENAME+ENUM_ACTIONS.DUPLICATE;mstrmojo.vi.ui.tabs.VizPanelTabStrip=mstrmojo.declare(mstrmojo.vi.ui.tabs.TabStrip,[mstrmojo.vi.ui._IsViPanel,mstrmojo.vi.ui._IsBoxLayoutChild,mstrmojo.vi.ui._HasMask],{scriptClass:"mstrmojo.vi.ui.tabs.VizPanelTabStrip",position:"top",target:null,onAppStateChange:function onAppStateChange(evt){this._super(evt);this.set("isMasked",evt.value===mstrmojo.vi.VisualInsightApp.APP_STATES.SELECTOR_TARGETING);},addTab:function addTab(){this.target.addPanel();},getTabCfg:function getTabCfg(allTabObjects,currentTabObject,cfg){var panelStack=this.target;$HASH.copy({title:currentTabObject.title,getMenuActions:function(){return MENU_ACTIONS;},tabSelected:function tabSelected(){panelStack.selectPanel(currentTabObject.k);},tabDeleted:function(){panelStack.deletePanel(currentTabObject);},tabDuplicated:function(){panelStack.duplicatePanel(currentTabObject);},titleEdited:function(titleText){panelStack.renamePanel(currentTabObject,titleText);}},cfg);return cfg;},commitTabMove:function commitTabMove(fromIdx,toIdx){this.target.movePanel(fromIdx,toIdx);},resetLayout:function resetLayout(){this.parent.viPanelChangedVisibility(this);},getPanelSaver:function(){return mstrmojo.vi.models.PanelFormatSaver.getPanelSaver(this.model,{});}});mstrmojo.vi.ui.tabs.VizPanelTabStrip.boxConfiguration={f:{h:32,v:32},o:"v"};}());