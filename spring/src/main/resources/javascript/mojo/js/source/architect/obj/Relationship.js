(function(){mstrmojo.requiresCls("mstrmojo.Obj");var Enum_SM_CreateAttributeRelation=16,Enum_SM_RemoveAttributeRelation=22,Enum_SM_UpdateAttributeRelation=24;mstrmojo.architect.obj.Relationship=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.architect.obj.Relationship",init:function init(props){this._super(props);if(props.isNew){this.model.submitRequest(this.callback,{manipulationtype:Enum_SM_CreateAttributeRelation,objectid:this.parentAttributeId,objectid2:this.childAttributeId,ert:(this.dimensionid===""?"1":"0"),tableids:this.relationTableId,dimensionid:this.dimensionid},"schemaManipulation");}else{var callback=this.callback;if(callback&&callback.success){callback.success(this);}}},relationTableId:undefined,relationTableName:undefined,parentAttributeId:undefined,parentAttributeName:undefined,childAttributeId:undefined,childAttributeName:undefined,relationType:undefined,dimensionid:"",children:[],remove:function remove(callback){this.model.submitRequest(callback,{manipulationtype:Enum_SM_RemoveAttributeRelation,objectid:this.parentAttributeId,objectid2:this.childAttributeId,dimensionid:this.dimensionid},"schemaManipulation");},addJointChildren:function addJointChildren(parentAttributeId,childAttributeId,childAttributeId2,relationType,relationTableId,callback){var relationship=this,cbRela={success:function(){relationship.relationType=relationType;relationship.relationTableId=relationTableId;if(callback&&callback.success){callback.success(relationship);}}};this.model.submitRequest(cbRela,{manipulationtype:Enum_SM_UpdateAttributeRelation,objectid:parentAttributeId,objectid2:childAttributeId,objectid3:childAttributeId2,ert:relationType,gdid:relationTableId},"schemaManipulation");},updateRelation:function updateRelation(parentAttributeId,childAttributeId,relationType,relationTableId,callback){var relationship=this,cbRela={success:function(){relationship.relationType=relationType;relationship.relationTableId=relationTableId;if(callback&&callback.success){callback.success(this);}}};this.model.submitRequest(cbRela,{manipulationtype:Enum_SM_UpdateAttributeRelation,objectid:parentAttributeId,objectid2:childAttributeId,ert:relationType,gdid:relationTableId},"schemaManipulation");}});}());