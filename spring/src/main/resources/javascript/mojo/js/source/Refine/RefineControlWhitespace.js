(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.Label","mstrmojo.HBox","mstrmojo.VBox","mstrmojo.RadioList","mstrmojo.TextBox","mstrmojo.Button","mstrmojo.Refine.RefineConstants","mstrmojo.Pulldown");mstrmojo.requiresDescs(134);var constants=mstrmojo.Refine.RefineConstants;function applyOperations(){var operations=[],operation,transformation,columns,index,columnName,transformationList,idx;transformation=this.parent;columns=transformation.columns;index=columns.selectedIndex;if(index===undefined){return ;}columnName=(columns.items[index]).name;transformationList=transformation.transformationList;idx=transformationList.subType%10;switch(idx){case 0:operation=JSON.parse(JSON.stringify(this.operations.trim));break;case 1:operation=JSON.parse(JSON.stringify(this.operations.collapse));break;}operation.columnName=columnName;operation.description=operation.description.replace("[column name]",columnName);operation.engineConfig=JSON.parse(this.controller.model.engine);operations.push(operation);this.controller.applyOperations({operations:JSON.stringify(operations),engine:JSON.stringify({facets:[],mode:"row-based"})});}mstrmojo.Refine.RefineControlWhitespace=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Refine.RefineControlWhitespace",markupString:'<div class="refine-controls"><div></div></div>',markupSlots:{optionsNode:function(){return this.domNode.children[0];}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";},onsubTypeChange:function(){if(this.subType!==-1){this.optionsBox.apply.onclick();}}},operations:null,bindings:{visible:function(){return(this.parentBox.transformationList.type===constants.transformationType.Whitespace);},subType:function(){return((this.parentBox.transformationList.type===constants.transformationType.Whitespace)?this.parentBox.transformationList.subType:-1);}},children:[{scriptClass:"mstrmojo.HBox",slot:"optionsNode",alias:"optionsBox",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-WebButton hot",text:mstrmojo.desc(134,"Apply"),alias:"apply",visible:false,onclick:function(){applyOperations.call(this.parent.parent);}}]}]});}());