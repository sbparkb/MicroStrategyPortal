(function(){mstrmojo.requiresCls("mstrmojo.android.ui.SelectBoxList","mstrmojo.array","mstrmojo.android.nativedialog.TwoLevelPageByDialog","mstrmojo.android.nativedialog.ListDialog","mstrmojo.hash");mstrmojo.android.controllers._HasSelectBoxDialog=mstrmojo.provide("mstrmojo.android.controllers._HasSelectBoxDialog",{_mixinName:"mstrmojo.android.controllers._HasSelectBoxDialog",showSelectBoxDialog:function showSelectBoxDialog(items,fnSelect,dialogConfig){dialogConfig.children=[{scriptClass:"mstrmojo.android.ui.SelectBoxList",isElastic:true,items:items,selectListChange:function(idx,item){if(!fnSelect.call(this,idx,item)){mstrApp.closeDialog();}}}];if(items.length===1){var dialogChild=dialogConfig.children[0];var item=items[0];var subItems=item.items;dialogConfig.title=item.n;dialogChild.scriptClass="mstrmojo.ui.MobileCheckList";dialogChild.items=subItems;dialogChild.multiSelect=false;dialogChild.selectedIndex=mstrmojo.array.find(subItems,"on",true);dialogChild.postselectionChange=function(evt){this.selectListChange(0,subItems[evt.added[0]]);};}if(mstrApp.useBinaryFormat){var hasTwoLevelSelection=(items.length>1);mstrmojo.hash.copy({isNative:true,scriptClass:hasTwoLevelSelection?"mstrmojo.android.nativedialog.TwoLevelPageByDialog":"mstrmojo.android.nativedialog.ListDialog",onSelectionChange:function(idx1,idx2){if(idx2===undefined){fnSelect.call(this,0,this.getItem(idx1));this.close();}else{fnSelect.call(this,idx1,this.getItem(idx1,idx2));}}},dialogConfig);}mstrApp.showDialog(dialogConfig);}});}());