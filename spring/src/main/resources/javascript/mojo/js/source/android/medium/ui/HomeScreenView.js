(function(){mstrmojo.requiresCls("mstrmojo.android.SimpleList","mstrmojo._SupportsEllipsisText","mstrmojo.css");var btnMarkup;mstrmojo.android.medium.ui.HomeScreenView=mstrmojo.declare(mstrmojo.android.SimpleList,[mstrmojo._SupportsEllipsisText],{scriptClass:"mstrmojo.android.medium.ui.HomeScreenView",selectionPolicy:"reselect",itemsFloat:true,getItemMarkup:function getItemMarkup(){if(!btnMarkup){var btnFmt=this.hsFmt.btn,btnStyle="",btnCls=["btn"],ttlMarkup='<div class="ttl" style="color:'+btnFmt.c+';">{@txt}</div>',closeMarkup="</div>",btn=[],x=-1;if(btnFmt.sty>1){btnStyle="border-color:"+btnFmt.bc+";background-color:"+btnFmt.bg+";";}btn[++x]='<div class="btnC" idx="{@idx}">';btn[++x]='<div class="'+btnCls.join(" ")+'" style="'+btnStyle+'">';btn[++x]='<div class="{@iconClass}" style="{@iconStyle}">';if(this.items.length<=4){btn[++x]=ttlMarkup;btn[++x]=closeMarkup;btn[++x]=closeMarkup;}else{btn[++x]=closeMarkup;btn[++x]=closeMarkup;btn[++x]=ttlMarkup;}btn[++x]=closeMarkup;btnMarkup=btn.join("");}return btnMarkup;},getItemProps:function getItemProps(item,idx){var iconStyle="",iconClass="";if(item.icn){iconStyle="background-image: url("+item.icn+");";}else{iconClass=" ic"+(item.act||item.st);}return{idx:idx,txt:item.txt,iconStyle:iconStyle,iconClass:iconClass};},preBuildRendering:function preBuildRendering(){mstrmojo.css.addWidgetCssClass(this,(this.items.length>4)?"multiCol":"singleCol");return this._super();},onRender:function onRender(){var itemsContainerNode=this.itemsContainerNode,items=itemsContainerNode.childNodes,cnt=items.length-1,i;if(cnt>4){for(i=0;i<cnt;i++){this.ellipsize("ttl",items[i].lastChild,true);}}var bg=this.hsFmt.bg;if(bg){var background=bg.v,bgStyle=this.domNode.style;if(bg.tp!==1){background="transparent url("+background+") no-repeat 0 0";bgStyle.backgroundSize="100%";}bgStyle.background=background;}},afterViewVisible:function afterViewVisible(){var table=document.createElement("table"),node=this.domNode;node.appendChild(table);window.setTimeout(function(){node.removeChild(table);},100);}});}());