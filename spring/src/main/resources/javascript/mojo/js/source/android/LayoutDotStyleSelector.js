(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._TouchGestures","mstrmojo.android._IsLayoutSelector","mstrmojo.Label");function getTouchCmdFn(methodName){return function(touch){this.target[methodName](touch);};}mstrmojo.android.LayoutDotStyleSelector=mstrmojo.declare(mstrmojo.Container,[mstrmojo._TouchGestures,mstrmojo.android._IsLayoutSelector],{scriptClass:"mstrmojo.android.LayoutDotStyleSelector",markupString:'<div id="{@id}" class="mstrmojo-MobileLayoutSelector DotStyle {@cssClass}" style="{@cssText}"><div></div><div class="btns">{@_btnMarkup}</div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild;},btnNode:function(){return this.domNode.lastChild;}},children:[{scriptClass:"mstrmojo.Label",alias:"selectedTitle"}],renderSelector:function renderSelector(layouts,currentLayout){var length=layouts&&layouts.length,btnNode=this.btnNode,btnWidth=38,dpi=mstrMobileApp.getDeviceDPI(),title,btnMarkup,i;if(dpi===120){btnWidth=26;}else{if(dpi===320){btnWidth=57;}}var multiLayouts=this._super(layouts,currentLayout);if(multiLayouts){title=currentLayout.n||"&nbsp;";var buttons=new mstrmojo.StringBuffer();for(i=0;i<length;i++){buttons.append('<div class="');if(currentLayout.k===layouts[i].k){buttons.append("on");}buttons.append('"><div></div></div>');}btnMarkup='<div style="width:'+(length*btnWidth)+'px" class="mstrmojo-SelectorBtns">'+buttons.toString()+"</div>";}this.toggleSelectorDisplay(multiLayouts);this.selectedTitle.set("text",title||"");this._btnMarkup=btnMarkup||"";if(btnNode){btnNode.innerHTML=this._btnMarkup;var table=document.createElement("table"),node=this.domNode;node.appendChild(table);window.setTimeout(function(){node.removeChild(table);},100);}},touchBegin:function touchBegin(touch){return !this.target.isAnimating();},touchTap:function(){this.target.showNextLayout();},touchSwipeBegin:getTouchCmdFn("beginScroll"),touchSwipeMove:getTouchCmdFn("scroll"),touchSwipeEnd:getTouchCmdFn("endScroll")});}());