(function(){mstrmojo.requiresCls("mstrmojo.AndroidGridBase","mstrmojo.AndroidGrid");mstrmojo.AndroidXtabZone=mstrmojo.declare(mstrmojo.AndroidGrid,null,{scriptClass:"mstrmojo.AndroidXtabZone",markupString:'<div id="{@id}" class="mstrmojo-XtabZone" style="position:relative;{@cssText}"></div>',markupSlots:{gridContainerNode:function(){return this.domNode;}}});}());(function(){mstrmojo.XtabCP=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.XtabCP",base:null,lookupBase:null,colWidths:null,forceAutoRowHeight:false,startIndexInContainer:0,updatedRows:null,preServeUpdatedRows:true,init:function init(props){mstrmojo.hash.copy(props,this);},initContent:function initContent(startIndexInContainer){this.startIndexInContainer=startIndexInContainer||this.startIndexInContainer||0;var s=this.base.show,items=this.base.items;this.rc=s&&items?items.length:0;this.colWidths=s&&this.base.cws||[];this.isDownloading=false;this.isDownloaded=true;this.invalidData=false;},isDataAvailable:function isDataAvailable(startRow,endRow){return !this.invalidData;},download:function download(startRow,endRow){if(!this.isDownloaded&&!this.isDownloading&&this.dataSource){this.isDownloading=true;this.dataSource.download(0);}},invalid:function invalid(){this.invalidData=true;this.isDownloading=false;this.isDownloaded=false;this.preServeUpdatedRows=true;if(this.gridData){this.oldGridData=this.gridData;this.oldBase=this.base;this.updatedRows={};}},getRowHeight:function getRowHeight(){return this.gridData.rh;},getNumAutoHeightRows:function(){return this.forceAutoRowHeight?this.rc:0;},getAvailableRowsCount:function getAvailableRowsCount(){return this.rc;},getUpdatedRows:function getUpdatedRows(){return this.updatedRows;},getRowCells:function(ri){var bi=this.base.items,r=bi[ri],cells=r.items,lb=this.lookupBase,ics=this.interactiveCellsArray,cssBase=this.gridData.css,e=null,totalSet=false,oldGd,oldBase,oldItems,oldCells;if(this.oldGridData){oldGd=this.oldGridData;oldBase=this.oldBase;oldItems=oldBase&&oldBase.items;oldCells=oldItems[ri]&&oldItems[ri].items;}for(var ci=0,len=cells&&cells.length||0;ci<len;ci++){var cell=cells[ci];if(cell){cell.v=cell.v||cell.n;if(lb&&!cell._e){var unit=lb[cell.tui];e=unit&&unit.es[cell.idx];if(e){cell.v=cell.v||e.n;if(e.rv){cell.rv=e.rv;}cell._e=e;}}if(!cell.css){cell.css=cssBase[cell.cni].n;}if(!cell._d&&oldCells&&this.preServeUpdatedRows){var oldCell=oldCells[ci];if(!oldCell||(oldCell.rs!==cell.rs)){this.preServeUpdatedRows=false;this.updatedRows={};}else{if((oldCell.v&&cell.v!==oldCell.v)){data={};if(cell.v!==oldCell.v){data.v=oldCell.v;}if(cell.css!==oldCell.css){data.css=oldCell.css;}cell._d=data;this.updatedRows[this.startIndexInContainer+ri]=true;}}}cell._gd=this.gridData._bidx||0;if(cell.at>0&&ics){if(cell._ei===undefined||ics[cell._ei]!==cell){cell._ei=ics.push(cell)-1;}}if(this.axis){cell.axis=this.axis;}var parentIndices=cell.pi;if(parentIndices){if(parentIndices.ri!==undefined&&parentIndices.ci!==undefined){cell._p=bi[parentIndices.ri].items[parentIndices.ci];}else{var ghs=this.gridData.ghs,leftPi=parentIndices.left,topPi=parentIndices.top;if(leftPi){cell._lp=ghs.rhs.items[leftPi.ri].items[leftPi.ci];}if(topPi){cell._tp=ghs.chs.items[topPi.ri].items[topPi.ci];}}}}}return cells;},getUnmergedCells:function getUnmergedCells(ri){var ac=[],rows=this.base.items,cssBase=this.gridData.css,cell=rows[ri].items[0],pi=cell&&cell.pi,r=pi&&pi.ri,c=pi&&pi.ci;while(pi&&r>-1&&c>-1){cell=cell._p||rows[r].items[c];var _c={};mstrmojo.hash.copy(cell,_c);if(!_c.css){_c.css=cssBase[_c.cni].n;}_c.rs=cell.rs-ri+r;ac.splice(0,0,_c);pi=cell&&cell.pi;r=pi&&pi.ri;c=pi&&pi.ci;}return ac;}});})();(function(){mstrmojo.XtabVACP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabVACP",cps:[],initContent:function initContent(startIndexInContainer){this.startIndexInContainer=startIndexInContainer||0;this.rc=0;this.type=0;this.colWidths=[];for(var i=0;i<this.cps.length;++i){var cp=this.cps[i];cp.initContent(this.startIndexInContainer+this.rc);this.rc+=cp.rc;this.type|=cp.type;var cws=cp.colWidths;if(cws&&(cws.length>this.colWidths.length)){this.colWidths=cws;}}},getNumAutoHeightRows:function(){return this.cps[0].getNumAutoHeightRows();},getRowHeight:function getRowHeight(){return this.cps[0].getRowHeight();},getRowCells:function(ri){var i=0,cp=this.cps[i];while(ri>=cp.rc){ri-=cp.rc;cp=this.cps[++i];}return cp.getRowCells(ri);},getUnmergedCells:function(ri){var i=0,cp=this.cps[i];while(ri>=cp.rc){ri-=cp.rc;cp=this.cps[++i];}return cp.getUnmergedCells(ri);},isDataAvailable:function isDataAvailable(startIndex,endIndex){var targetCPs=this._getCPs(startIndex,endIndex);for(var i=0;i<targetCPs.length;++i){if(!targetCPs[i].isDataAvailable(startIndex,endIndex)){return false;}}return true;},getAvailableRowsCount:function getAvailableRowsCount(){var rowDownloaded=0;for(var i=0;i<this.cps.length;++i){var cp=this.cps[i];if(cp.isDataAvailable()){rowDownloaded+=cp.getAvailableRowsCount();}}return rowDownloaded;},_getCPs:function getCPs(startIndex,endIndex){var i=0,cp=this.cps[i],si=cp&&cp.startIndexInContainer,targetCPs=[];if(cp){startIndex-=si;endIndex-=si;}while(cp&&startIndex>=cp.rc){startIndex-=cp.rc;endIndex-=cp.rc;cp=this.cps[++i];}while(cp&&endIndex>=cp.rc){endIndex-=cp.rc;targetCPs.push(cp);cp=this.cps[++i];}if(cp){targetCPs.push(cp);}return targetCPs;},invalid:function invalid(){for(var i=0;i<this.cps.length;++i){var tcp=this.cps[i];tcp.invalid();}this.updatedRows={};},getUpdatedRows:function getUpdatedRows(){var v={};for(var i=0;i<this.cps.length;++i){var tcp=this.cps[i];if(!tcp.preServeUpdatedRows){return{};}else{mstrmojo.hash.copy(tcp.getUpdatedRows(),v);}}this.updatedRows=v;return v;},download:function download(startIndex,endIndex){var targetCPs=this._getCPs(startIndex,endIndex);for(var i=0;i<targetCPs.length;++i){var tcp=targetCPs[i];tcp.download(startIndex,endIndex);}}});})();(function(){mstrmojo.XtabHACP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabHACP",cps:[],initContent:function initContent(startIndexInContainer){this.startIndexInContainer=startIndexInContainer||0;this.type=0;this.colWidths=[];for(var i=0;i<this.cps.length;++i){this.cps[i].initContent(this.startIndexInContainer);this.type|=this.cps[i].type;var cw=this.cps[i].colWidths;if(cw){this.colWidths=this.colWidths.concat(cw);}}this.rc=Math.max(this.cps[0].rc,this.cps[1].rc);},getNumAutoHeightRows:function(){return Math.max(this.cps[0].getNumAutoHeightRows(),this.cps[1].getNumAutoHeightRows());},getRowCells:function(ri){var cps=this.cps,cells=[];for(var i=0,len=cps.length;i<len;i++){if(cps[i].getAvailableRowsCount()>0&&cps[i].rc>ri){var tmp=cps[i].getRowCells(ri);if(tmp){cells=cells.concat(tmp);}}}return cells;},getRowHeight:function getRowHeight(){return this.cps[0].getRowHeight();},getUnmergedCells:function(ri){return this.cps[0].getUnmergedCells(ri);},isDataAvailable:function isDataAvailable(startIndex,endIndex){return this.cps[1].isDataAvailable(startIndex,endIndex);},getAvailableRowsCount:function getAvailableRowsCount(){return Math.max(this.cps[0].getAvailableRowsCount(),this.cps[1].getAvailableRowsCount());},invalid:function invalid(){var i,len,cp;for(i=0,len=this.cps.length;i<len;++i){cp=this.cps[i];cp.invalid();}this.updatedRows={};},getUpdatedRows:function getUpdatedRows(){var v={};for(var i=0;i<this.cps.length;++i){var tcp=this.cps[i];if(!tcp.preServeUpdatedRows){return{};}else{mstrmojo.hash.copy(tcp.getUpdatedRows(),v);}}this.updatedRows=v;return v;},download:function download(startIndex,endIndex){var cp=this.cps[1];cp.download(startIndex,endIndex);}});})();(function(){mstrmojo.XtabTitlesCP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabTitlesCP",init:function init(props){this._super(props);},download:function download(startRow,endRow){},initContent:function initContent(startIndexInContainer){this.startIndexInContainer=0;if(!this.cts){this.cts=mstrmojo.hash.clone(this.gridData.gts.col);}var gts=this.gridData.gts,isLockHeaders=(this.gridData.lhv!==0),rts=gts.row||[],dataCts=gts.col||[],s=gts.show,rec=gts.rec,cts=this.cts||[],nRts=rts.length,nCts=cts.length,cssBase=this.gridData.css;this.base={items:[]};this.rc=s&&cts.length||0;if(this.rc===0&&s){this.rc=nRts>0?1:0;}this.colWidths=s&&gts.cws||[];if(!this.rc){return ;}var cells={items:[]},lrs=1,lastCell,i;for(i=0;i<nRts;++i){rts[i].axis=1;rts[i].ui=i;cells.items.push(rts[i]);}if(nCts>0){cts[0].axis=2;cts[0].ui=0;dataCts[0].axis=2;dataCts[0].ui=0;lrs=cts[0].rs||1;if(isLockHeaders&&lrs>1){cts[0].rs=1;lastCell=mstrmojo.hash.clone(cts[0],{});lastCell.n="&nbsp;";cts[0].cni=cssBase.push({n:(cssBase[cts[0].cni].n||"")+" fsbp_1"})-1;}cells.items.push(cts[0]);}var bi=this.base.items;bi.push(cells);for(i=1;i<nCts;++i){if(lrs>1){var cnt=lrs;while(cnt-->1){if(isLockHeaders){var clone=mstrmojo.hash.clone(lastCell,{});clone.cni=cssBase.push({n:(cssBase[clone.cni].n||"")+" fsbp_"+((cnt==1)?"3":"2")})-1;bi.push({items:[clone]});}else{bi.push({items:[]});}}}cts[i].axis=2;cts[i].ui=i;dataCts[i].axis=2;dataCts[i].ui=i;lrs=cts[i].rs||1;if(isLockHeaders&&lrs>1){cts[i].rs=1;lastCell=mstrmojo.hash.clone(cts[i],{});lastCell.n="&nbsp;";cts[i].cni=cssBase.push({n:(cssBase[cts[i].cni].n||"")+" fsbp_1"})-1;}bi.push({items:[cts[i]]});}this.rc=bi.length;if(rec){this._removeExtraColumn(rts,cts);}},getAvailableRowsCount:function getAvailableRowsCount(){return this.rc;},isDataAvailable:function isDataAvailable(startRow,endRow){return true;},_removeExtraColumn:function removeExtraColumn(rts,cts){var nRts=rts&&rts.length,nCts=cts&&cts.length,gts=this.gridData.gts,mRts=gts.row||[],mCts=gts.col||[],mnRts=mRts.length,mnCts=mCts.length;if(!nRts||!nCts){if(nCts===1){var lct=cts[nCts-1];if(lct.otp==-1){if(mnCts>0){mCts[mnCts-1]._hid=true;}this.base.items=[];this.rc=0;}}return ;}var lrt=rts[nRts-1],rc=this.rc,bi=this.base.items;if(lrt){if(lrt.otp==-1){if(mnRts>0){mRts[mnRts-1]._hid=true;}bi[0].items.splice(nRts-1,1);}else{var idx=rc>1?rc-1:0,r=bi[idx],len=r.items.length;if(len>0&&mnCts>0){mCts[mnCts-1]._hid=true;}var afi=lrt.fix;if(afi){for(var i=0;i<afi;i++){r.items[len-1+i]=rts[nRts-afi+i];}}else{r.items[len-1]=lrt;}for(var j=0,iLen=nCts-1;j<iLen;j++){cts[j].cs=afi?afi:lrt.cs;}var rm=afi?afi:1;bi[0].items.splice(nRts-rm,rm);}}return ;}});})();(function(){mstrmojo.XtabOnDemandCP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabOnDemandCP",blockNum:0,listeners:null,initContent:function initContent(startIndexInContainer){if(startIndexInContainer!==undefined){this.startIndexInContainer=startIndexInContainer;}this.isDownloaded=(this.base!==null);this.isDownloading=false;if(this.base){this._super(this.startIndexInContainer);this.notifyListeners();}},addCPListener:function addCPListener(cp){if(!this.listeners){this.listeners=[];}this.listeners.push(cp);},notifyListeners:function notifyListeners(){var i,cps=this.listeners,count=(cps&&cps.length)||0;for(i=0;i<count;i++){if(cps[i]&&cps[i].onDemandDataReady){cps[i].onDemandDataReady(this);}}},getAvailableRowsCount:function getAvailableRowsCount(){return this.isDownloaded?this.rc:0;},download:function(){if(!this.isDownloaded&&!this.isDownloading){this.isDownloading=true;this.dataSource.download(this.blockNum);}},invalid:function(){if(this._super){this._super();}this.isDownloaded=false;this.isDownloading=false;},isDataAvailable:function isDataAvailable(startRow,endRow){return this.isDownloaded;}});})();(function(){var TITLE=1,COL_HEADERS=2,ROW_HEADERS=4,VALUES=8,STACK_TOP=1,STACK_MIDDLE=2,STACK_BOTTOM=3,STACK_BOTTOM_LAST=4,NO_STACK=5,FULL_STACK=6,GROUPING_SECTION=7,TITLE_ROW=8,TOP_PADDING_STACKED=1,BOTTOM_PADDING_STACKED=2,HALF_INNER_PADDING_STACKED=3,TOP_PADDING_NO_STACK=4,BOTTOM_PADDING_NO_STACK=5,RHMAP={},PDMAP={},BASEFORM_PICTURE=4,SUBTOTAL=1,CSS={TITLE:"ig-title",GROUPING:"iggroup",BANDING:"igbanding",RIGHT_ALIGN:"rtAlign",LEFT_ALIGN:"leftAlign",TOTAL_ROW:"total"},$H=mstrmojo.hash,$A=mstrmojo.array;function hasGroupingEnabled(cps,gd){var cp=cps[0],gts=gd.gts,gridTitleCount=gts.cws.length;return(gd.vp.gr==="1"&&(gridTitleCount>1));}function updateCellCSS(cell,info){var applyCSS=function(cell,css){if(css&&cell&&cell.css&&cell.css.indexOf(css)<0){cell.css+=" "+css;}};var type=info.type,col=info.col,colCount=(col&&col.cl)||0,isTitle=(type===COL_HEADERS||type===TITLE);if(type===COL_HEADERS||type===VALUES){applyCSS(cell,CSS.RIGHT_ALIGN);}else{if(type===TITLE||type===ROW_HEADERS){applyCSS(cell,CSS.LEFT_ALIGN);}}if(isTitle){if(col&&col.tg&&colCount>1){if(!cell._v){cell._v=cell.v;cell.v="<span class='toggleHeader'>"+cell.v+"</span>";}}applyCSS(cell,CSS.TITLE);}$A.forEach(info.extraCss,function(css){applyCSS(cell,css);});}function findAttributeCPIndex(cg){return 0;}function getStackLevel(cols){var i,cg=cols.cg,len=cg&&cg.cgc,v=1;for(i=0;i<len;i++){if(cg&&cg[i]&&!cg[i].tg&&cg[i].cl>v){v=cg[i].cl;}}return v;}function getStackPos(index,stackLevel){var pos=NO_STACK;if(stackLevel===2){if(index===0){pos=STACK_TOP;}else{if(index===1){pos=STACK_BOTTOM_LAST;}}}else{if(stackLevel>2){if(index===0){pos=STACK_TOP;}else{if(index===1){pos=STACK_MIDDLE;}else{if(index===stackLevel-1){pos=STACK_BOTTOM_LAST;}else{if(index<stackLevel-1&&index>1){pos=STACK_BOTTOM;}}}}}}return pos;}function getColumnIndex(colStacks,ciis,index,vp){var cg=vp&&vp.cols&&vp.cols.cg,i,totalIndex=0,sum=0;if(cg){for(i=0;i<ciis;i++){if(colStacks[i]){totalIndex+=colStacks[i].length;}}totalIndex+=(index+1);for(i=0;i<cg.cgc;i++){sum+=cg[i].cl;if(sum>=totalIndex){return i;}}}return -1;}function getStackedRow(colStacks,index,stackLevel,vp){var a=[],c,i,len,size;for(i=0,len=colStacks.length;i<len;i++){if(colStacks[i].length===1){c=colStacks[i][0];c.rowType=(c.rowType!==TITLE_ROW)?getStackPos(index,stackLevel):TITLE_ROW;c.singleStack=(stackLevel>1);c=$H.copy(c);if(c.ts===BASEFORM_PICTURE){if(stackLevel===1){c.rowType=NO_STACK;c.colIdx=getColumnIndex(colStacks,i,index,vp);}else{if(!index){c.colIdx=getColumnIndex(colStacks,i,index,vp);}else{delete c.ts;c.v="";}}}else{if(index){c.v="";}}}else{c=colStacks[i][index];if(!c){size=colStacks[i].length;c=$H.copy(colStacks[i][size-1],{});c.v="";if(c.hasOwnProperty("ts")){delete c.ts;}}else{if(c.ts===BASEFORM_PICTURE){c.colIdx=getColumnIndex(colStacks,i,index,vp);}}c.rowType=(c.rowType!==TITLE_ROW)?getStackPos(index,stackLevel):TITLE_ROW;}a.push(c);}return a;}function getOriginRowIndex(ri){if(ri===0){return 0;}var sc=this.sectionMap[ri-1]||0;return Math.floor((ri-sc)/this.stackLevels);}function getSectionInfo(offset){var i,s,si=this.sectionInfo,len=si.length,rh=this.srh,ls=this.lastSectionIndex;s=si[ls];if(offset>=s.rs&&offset<(s.rs+rh)){return s;}if(offset<s.rs){i=ls-1;if(i<=0){this.lastSectionIndex=0;return null;}do{s=si[i];if(offset>s.rs&&offset<=(s.rs+rh)){this.lastSectionIndex=i;return s;}}while(offset<s.rs&&--i>0);this.lastSectionIndex=i;return s;}else{i=ls+1;if(i>=len){this.lastSectionIndex=len-1;return null;}do{s=si[i];if(offset>s.rs&&offset<=(s.rs+rh)){this.lastSectionIndex=i;return s;}}while(offset>(s.rs+rh)&&++i<len);this.lastSectionIndex=i-1;return null;}}function addExtraColumnCell(cells,tgcc,ei,rh){var c=cells[0],i,len=cells.length,rt=c&&c.rowType,nc={v:"",css:"empty-igcell",rowType:rt};if(ei!==undefined&&c&&(rt===STACK_TOP||rt===NO_STACK||rt===FULL_STACK)){nc={v:'<div><div class="IG-ActionArrow-IMG" style="height:'+rh+"px;top:-"+(0.5*RHMAP[rt])+'px;"></div></div>',css:"IG-ActionArrow",_ei:ei};}for(i=len-1;i>=len-tgcc;i--){c=cells&&cells[i];if(c){c.css+=" IG-lastdatacolumn";}}cells.push(nc);}function calculateCWS(vp,width,isTdWidths){var cols=vp.cols,cg=cols.cg,extraColumn=[{w:"0px"}];if(cols&&width){var cws=cols.cws,cwsInPx=[],len=cws.length,excludeWidth=0,autoColWidth=(parseInt(vp.ar,10)===1)?(width/len):-1,w,cw,unsignedcol=false,excludeCol=0,adjustedWidth=width,totalW=0,i;for(i=0;i<len;i++){cw=cwsInPx[i]=cws[i];w=cw.w;if(w===""){unsignedcol=true;}else{if(cw.xc){excludeWidth+=parseInt(w);adjustedWidth-=excludeWidth;excludeCol++;}else{totalW+=parseFloat(w,10);}}}if(unsignedcol||totalW<100){autoColWidth=adjustedWidth/(len-excludeCol);}for(i=0;i<len;i++){cw=cws[i];if(cw.xc){continue;}else{if(autoColWidth===-1){w=parseInt(cw.w,10)*adjustedWidth/100;if(!w&&w!==0){w=parseInt(adjustedWidth/cg.cgc,10);}}else{w=(parseInt(cw.w,10)<0)?0:autoColWidth;}}cwsInPx[i]={w:w+"px"};}if(isTdWidths){return cwsInPx;}var newCWS=[],cnt=0;for(i=0;i<len;i++){var c=cg[i],count=c.tg?c.cl:1,j=0;for(j=0;j<count;j++){var wi="0px";if(j===c.cc){wi=cwsInPx[i].w;}newCWS[cnt+j]={w:wi};}cnt+=count;}return newCWS.concat(extraColumn);}else{if(isTdWidths){return null;}else{return cp.cws.concat(extraColumn);}}}function clearStackCols(){delete this.lastStackCols;delete this.lastAttRow;delete this.lastMtxRow;}mstrmojo.InteractiveGridHACP=mstrmojo.declare(mstrmojo.XtabHACP,null,{scriptClass:"mstrmojo.InteractiveGridHACP",sectionMap:[],stackLevels:1,gridWidth:480,tdWidths:null,lastSectionIndex:0,adjustCPMaps:function adjustCPMaps(){var cps=this.cps,attCP=this.cps[0],rc=Math.max(cps[0].rc,cps[1].rc);if(attCP.type!==TITLE){var gd=this.gridData,getParentElement=function(cp,n){var items=cp.base.items,es=cp.lookupBase[0].es,tgt=items[n].items[0],cell=es&&es[tgt.idx];return(cell&&cell.n)||((tgt.pi&&es[tgt.pi.ri||0])||"");},i,j,sc=1,count,lastSection,curP,start=0,end=-1,m,cpc,lastRow=0,shouldGroupEls=this.groupEnabled;for(m=0,i=0,cpc=attCP.cps?attCP.cps.length:1;m<cpc;m++){var cp=attCP.cps?attCP.cps[m]:attCP,cprc=cp.rc;start=end+1;end=start+cprc-1;if(cp.isDataAvailable(start,end)){if(cp.lastRow){lastRow=cp.lastRow;lastSection=cp.lastSection;}else{i=lastRow||0;for(j=0,sc=this.sectionMap[i-1]||0;j<cprc;j++){var stackLevel=this.stackLevels;curP=getParentElement(cp,j);if(shouldGroupEls&&curP!==lastSection){lastSection=curP;this.sectionInfo.push({sn:curP,rs:this.srh*sc+this.stackedRh*Math.floor((i-sc)/this.stackLevels)});this.sectionMap[i]=++sc;i++;}while(stackLevel){this.sectionMap[i]=sc;stackLevel--;i++;}}lastRow=cp.lastRow=i;cp.lastSection=curP;}}else{break;}}this.rc=(this.stackLevels>1?rc*this.stackLevels:rc)+(shouldGroupEls?sc:0);}},onDemandDataReady:function onDemandDataReady(){this.adjustCPMaps();},initContent:function initContent(startIndexInContainer){var cps=this.cps,gd=this.gridData=cps[0].gridData||cps[0].cps[0].gridData,vp=gd.vp=this.gridVp=this.gridVp||gd.vp,daf=vp.daf&&vp.daf.split(":"),cols=vp.cols,cg=cols.cg,cws=cols.cws,attCP=cps[findAttributeCPIndex(cg)],attLB=gd.gts.row,gts=gd.gts,grouping=hasGroupingEnabled(cps,gd),notTitleCP=attCP.type!==TITLE,i,len,_c,vcps,cf,cp,igcp,dpi=(typeof (mstrMobileApp)!=="undefined"&&mstrMobileApp.getDeviceDPI)?mstrMobileApp.getDeviceDPI():160;console.log("\ndpi: "+dpi);if(dpi===160){RHMAP={1:33,2:22,3:20,4:30,5:53,6:40,7:27,8:53};PDMAP={1:11,2:11,3:1,4:16,5:16};}else{if(dpi===213){RHMAP={1:45,2:31,3:26,4:39,5:71,6:40,7:35,8:71};PDMAP={1:15,2:15,3:2,4:21,5:21};}else{if(dpi===240){RHMAP={1:50,2:34,3:30,4:44,5:80,6:40,7:40,8:80};PDMAP={1:16,2:16,3:2,4:24,5:24};}else{if(dpi===320){RHMAP={1:67,2:44,3:38,4:58,5:107,6:40,7:53,8:107};PDMAP={1:22,2:22,3:2,4:32,5:32};}else{RHMAP={1:33,2:22,3:20,4:30,5:53,6:40,7:27,8:53};PDMAP={1:11,2:11,3:1,4:16,5:16};}}}}if(notTitleCP){if(vp.dafIdx===undefined&&daf){for(i=0;i<attLB.length;i++){if(attLB[i].id===daf[0]&&attLB[i].fid===daf[1]){vp.dafIdx=i;break;}}}}for(i=0;i<cg.cgc;i++){if(cg[i]&&cg[i].tg){break;}}if(i===cg.cgc){gd.gts.show=false;gd.ghs.chs.show=false;}this._super(startIndexInContainer);this.colWidths=calculateCWS(vp,this.gridWidth);this.tdWidths=calculateCWS(vp,this.gridWidth,true);if(notTitleCP){this.stackLevels=getStackLevel(cols);if(this.stackLevels>1){this.srh=RHMAP[GROUPING_SECTION];this.rh=RHMAP[NO_STACK];this.mrh=RHMAP[STACK_BOTTOM];this.stackedRh=RHMAP[STACK_TOP]+(this.stackLevels-2)*RHMAP[STACK_MIDDLE]+RHMAP[STACK_BOTTOM];}else{this.srh=RHMAP[GROUPING_SECTION];this.rh=this.stackedRh=this.mrh=RHMAP[NO_STACK];}if(grouping||this.stackLevels>1){this.sectionMap=[];this.sectionInfo=[];this.groupEnabled=grouping;this.adjustCPMaps();vcps=this.cps[0].cps;if(vcps){igcp=this;for(i=0,len=vcps.length;i<len;i++){cp=vcps[i];if(cp&&cp.addCPListener){cp.addCPListener(igcp);}}}}}},getUnmergedCells:function(ri){return ;},getResolvedGroupHeader:function(r,c){var gd=this.gridData,es=gd.gts.row[c].es,cell=gd.ghs.rhs.items[r].items[c];if(cell){if(!cell.css){cell.css=gd.css[cell.cni].n+" iggroup";cell.n=es[cell.idx].n;}}else{return{css:" iggroup",n:""};}return cell;},getRowCells:function(ri){var cps=this.cps,cells=[],gd=this.gridData,vp=gd.vp,cg=vp.cols.cg,attCP=cps[findAttributeCPIndex(cg)],enableGrouping=this.groupEnabled,showBanding=vp.bn==="1",stackCols=[],oi=getOriginRowIndex.call(this,ri),eiDfa,eiInteractiveRow,lastToggledColumn=1,onTotalRow,totalCell,rowCells,i,j,len,c,tc;if(enableGrouping&&(this.sectionMap[ri]!==this.sectionMap[ri-1])){var cell=$H.copy(attCP.getRowCells(oi)[0],{});cell.cs=this.colWidths.length;cell.rowType=GROUPING_SECTION;updateCellCSS(cell,{col:null,type:attCP.type,extraCss:[CSS.GROUPING]});return[cell];}if(!ri){clearStackCols.call(this);}this.lastAttRow=this.lastAttRow||(cps[0].rc?cps[0].getRowCells(oi):[]);this.lastMtxRow=this.lastMtxRow||(cps[1].rc?cps[1].getRowCells(oi):[]);rowCells=this.lastAttRow;len=rowCells.length;if(len>0&&rowCells[0].stt){onTotalRow=true;for(i=0;i<len;i++){c=rowCells[i];if(c.stt===SUBTOTAL){totalCell=c;break;}}}if(!this.lastStackCols){$A.forEach([this.lastAttRow,this.lastMtxRow],function(row){for(i=0;i<row.length;i++){if(row[i]._ei!==undefined){if(vp.dafIdx>=0){tc=attCP.getRowCells(oi)[vp.dafIdx];}eiDfa=(vp.dafIdx>=0)?(tc&&tc._ei):"";return false;}}},this);var addInfo=function(cell,cp){if(cell&&(cp.type===TITLE||cp.type===COL_HEADERS)){if(colGroup.tg===false){cell.n=cell.v="";}cell.rowType=TITLE_ROW;}updateCellCSS(cell,{col:colGroup,type:cp.type,extraCss:[((cp.type===VALUES||cp.type===ROW_HEADERS)&&showBanding&&(oi%2===1))?CSS.BANDING:null,onTotalRow?CSS.TOTAL_ROW:null]});if(cell){cell.cs=1;if(cell._ei===undefined&&vp.dafIdx!==undefined){cell._ei=eiDfa;}}};this.lastRowIndex=0;for(j=0;j<cg.cgc;j++){var colGroup=cg[j],mCol=colGroup["mix"+colGroup.cc],isMetric=mCol!==undefined,cp=cps[isMetric?1:0],k,p,ci,trc={n:"",stt:SUBTOTAL,css:"xtab-td"};arr=[];if(colGroup.tg){for(var i=0;i<colGroup.cl;i++){arr=[];ci=isMetric?colGroup["mix"+i]:colGroup.attForms[i].idx;var rowCells=isMetric?this.lastMtxRow:this.lastAttRow;c=rowCells[ci];if(onTotalRow){if(!c){c=trc;}else{if(c&&c.stt===SUBTOTAL){c=$H.copy(totalCell,trc);}else{c=$H.copy(c,{});}}}else{c=$H.copy(c,{});}addInfo(c,cp);arr.push(c);stackCols.push(arr);}if(j+1===cg.cgc){lastToggledColumn=colGroup.cl;}}else{for(k=0,len=colGroup.cl;k<len;k++){if(isMetric){p=colGroup["mix"+k];if(p!==undefined){c=this.lastMtxRow[p];}}else{p=colGroup.attForms[k];if(p){c=this.lastAttRow[p.idx];}if(onTotalRow&&!c){c=trc;}}addInfo(c,cp);arr.push(c);}stackCols.push(arr);}}this.lastStackCols=stackCols;}cells=getStackedRow(this.lastStackCols,this.lastRowIndex++,this.stackLevels,vp);if(this.lastRowIndex>=this.stackLevels){clearStackCols.call(this);}return cells;},getRowHeight:function getRowHeight(type){var rh=RHMAP[NO_STACK];return RHMAP[type]||rh;},getPadding:function getPadding(type){return PDMAP[type]||PDMAP[TOP_PADDING_NO_STACK];},isDataAvailable:function isDataAvailable(startRow,endRow){if(!this.onDemandIF||!this.cps[1].cps){return true;}else{var maxRow=this.sectionMap.length,s;if(!maxRow){return this.cps[1].isDataAvailable(startRow,endRow);}if(endRow>maxRow){if(startRow<maxRow){s=getOriginRowIndex.call(this,startRow);return this.cps[1].isDataAvailable(s,s+(endRow-startRow));}else{return false;}}else{return this.cps[1].isDataAvailable(getOriginRowIndex.call(this,startRow),getOriginRowIndex.call(this,endRow));}}},download:function download(startIndex,endIndex){var si=getOriginRowIndex.call(this,startIndex),ei=si+Math.ceil((endIndex-startIndex)/this.stackLevels),cp=this.cps[0],i,tcp,targetCPs=!cp.cps?[cp]:this.cps[0]._getCPs(si,ei);for(i=0;i<targetCPs.length;++i){tcp=targetCPs[i];tcp.download(si,ei);}},getRowCellInfo:function(offset){var sectionInfo=getSectionInfo.call(this,offset+this.srh),lastSection,i=this.lastSectionIndex;if(sectionInfo){lastSection=this.sectionInfo[i-1];return{rowStart:sectionInfo.rs,isNextRowNewSection:true,sectionName:lastSection&&lastSection.sn};}else{return{isNextRowNewSection:false,sectionName:this.sectionInfo[i].sn};}}});}());